"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[318],{15294:(e,t,r)=>{r.d(t,{A:()=>n,k:()=>o});var a=r(92532),s=r(72372);function o(e){return(0,s.Ay)("MuiAvatar",e)}const n=(0,a.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"])},29318:(e,t,r)=>{r.r(t),r.d(t,{default:()=>M});var a=r(19252),s=r(81637),o=r(94496),n=r(7353),l=r(35721),i=r(30681),c=r(89379),d=r(80045),u=r(65043),m=r(58387),A=r(98610),g=r(51347),p=r(34535),f=r(98206),v=r(92532),h=r(72372);function x(e){return(0,h.Ay)("MuiListItemAvatar",e)}(0,v.A)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var y=r(70579);const b=["className"],S=(0,p.Ay)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),j=u.forwardRef(function(e,t){const r=(0,f.b)({props:e,name:"MuiListItemAvatar"}),{className:a}=r,s=(0,d.A)(r,b),o=u.useContext(g.A),n=(0,c.A)((0,c.A)({},r),{},{alignItems:o.alignItems}),l=(e=>{const{alignItems:t,classes:r}=e,a={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,A.A)(a,x,r)})(n);return(0,y.jsx)(S,(0,c.A)({className:(0,m.A)(l.root,a),ownerState:n,ref:t},s))});var w=r(60587),k=r(48734),I=r(26240),R=r(69995);const M=()=>{const[e,t]=(0,u.useState)([]),[r,c]=(0,u.useState)(!0),[d,m]=(0,u.useState)(null),A=(0,I.A)();return(0,u.useEffect)(()=>{(async()=>{try{var e,r;c(!0),m(null);const a={data:{filter:""},page:0,pageSize:50,order:[["createdAt","ASC"]]},s=await(0,R.VA)(a);if(null!==s&&void 0!==s&&null!==(e=s.data)&&void 0!==e&&null!==(r=e.data)&&void 0!==r&&r.rows){const e=s.data.data.rows.map(e=>({id:e.id,sender:e.senderName||"Unknown Sender",avatar:e.senderAvatar||void 0,text:e.content||"No content",createdAt:e.createdAt,unread:"UNREAD"===e.status}));t(e)}else t([]),m("No messages found")}catch(d){console.error("Error fetching messages:",d),m("Failed to load messages"),t([])}finally{c(!1)}})()},[]),r?(0,y.jsx)(a.A,{maxWidth:"lg",sx:{py:4,display:"flex",justifyContent:"center"},children:(0,y.jsx)(s.A,{})}):d?(0,y.jsxs)(a.A,{maxWidth:"lg",sx:{py:4},children:[(0,y.jsx)(o.A,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",mb:3},children:"Messages"}),(0,y.jsx)(o.A,{color:"error",children:d})]}):(0,y.jsxs)(a.A,{maxWidth:"lg",sx:{py:4},children:[(0,y.jsx)(o.A,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",mb:3},children:"Messages"}),(0,y.jsx)(n.A,{sx:{bgcolor:"background.paper",borderRadius:A.shape.borderRadius,boxShadow:A.shadows[1],overflow:"hidden"},children:e.length>0?(0,y.jsx)(l.A,{children:e.map(e=>(0,y.jsxs)(i.Ay,{divider:!0,children:[(0,y.jsx)(j,{children:(0,y.jsx)(w.A,{alt:e.sender,src:e.avatar})}),(0,y.jsx)(k.A,{primary:(0,y.jsxs)(n.A,{display:"flex",justifyContent:"space-between",children:[(0,y.jsx)(o.A,{fontWeight:e.unread?"bold":"normal",color:e.unread?"text.primary":"text.secondary",children:e.sender}),(0,y.jsx)(o.A,{variant:"caption",color:e.unread?"primary.main":"text.secondary",children:new Date(e.createdAt).toLocaleTimeString()})]}),secondary:(0,y.jsx)(o.A,{variant:"body2",color:e.unread?"text.primary":"text.secondary",children:e.text})})]},e.id))}):(0,y.jsx)(n.A,{p:4,textAlign:"center",children:(0,y.jsx)(o.A,{color:"text.secondary",children:"No messages available"})})})]})}},60587:(e,t,r)=>{r.d(t,{A:()=>y});var a=r(80045),s=r(89379),o=r(65043),n=r(58387),l=r(98610),i=r(34535),c=r(56262),d=r(98206),u=r(59662),m=r(70579);const A=(0,u.A)((0,m.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var g=r(15294),p=r(4162);const f=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],v=(0,i.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((0,c.A)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,s.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,s.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),h=(0,i.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),x=(0,i.Ay)(A,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const y=o.forwardRef(function(e,t){const r=(0,d.b)({props:e,name:"MuiAvatar"}),{alt:i,children:c,className:u,component:A="div",slots:y={},slotProps:b={},imgProps:S,sizes:j,src:w,srcSet:k,variant:I="circular"}=r,R=(0,a.A)(r,f);let M=null;const N=(0,s.A)((0,s.A)({},r),{},{component:A,variant:I}),C=function(e){let{crossOrigin:t,referrerPolicy:r,src:a,srcSet:s}=e;const[n,l]=o.useState(!1);return o.useEffect(()=>{if(!a&&!s)return;l(!1);let e=!0;const o=new Image;return o.onload=()=>{e&&l("loaded")},o.onerror=()=>{e&&l("error")},o.crossOrigin=t,o.referrerPolicy=r,o.src=a,s&&(o.srcset=s),()=>{e=!1}},[t,r,a,s]),n}((0,s.A)((0,s.A)((0,s.A)({},S),"function"===typeof b.img?b.img(N):b.img),{},{src:w,srcSet:k})),P=w||k,D=P&&"error"!==C;N.colorDefault=!D,delete N.ownerState;const F=(e=>{const{classes:t,variant:r,colorDefault:a}=e,s={root:["root",r,a&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,l.A)(s,g.k,t)})(N),[z,W]=(0,p.A)("img",{className:F.img,elementType:h,externalForwardedProps:{slots:y,slotProps:{img:(0,s.A)((0,s.A)({},S),b.img)}},additionalProps:{alt:i,src:w,srcSet:k,sizes:j},ownerState:N});return M=D?(0,m.jsx)(z,(0,s.A)({},W)):c||0===c?c:P&&i?i[0]:(0,m.jsx)(x,{ownerState:N,className:F.fallback}),(0,m.jsx)(v,(0,s.A)((0,s.A)({as:A,className:(0,n.A)(F.root,u),ref:t},R),{},{ownerState:N,children:M}))})}}]);
//# sourceMappingURL=318.9e093767.chunk.js.map