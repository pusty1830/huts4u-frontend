{"version":3,"file":"static/js/568.04679fe0.chunk.js","mappings":"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","sources":["pages/Hotel/ApplicationPreview.tsx","../node_modules/@mui/icons-material/esm/Cancel.js","../node_modules/@mui/icons-material/esm/CheckCircle.js"],"sourcesContent":["import { Cancel, CheckCircle } from \"@mui/icons-material\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  Grid,\n  Paper,\n  Typography,\n} from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport color from \"../../components/color\";\nimport CustomButton from \"../../components/CustomButton\";\nimport { CustomTextField } from \"../../components/style\";\nimport { editHotel, getMyAllHotelswithBelongsTo } from \"../../services/services\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { getUserRole } from \"../../services/axiosClient\";\nimport { toast } from \"react-toastify\";\n\nconst commonStyles = {\n  label: { fontWeight: \"bold\", color: \"#333\" },\n  value: { color: \"#555\" },\n};\n\nconst EXCLUDED_KEYS = [\n  \"id\",\n  \"hotelId\",\n  \"createdAt\",\n  \"updatedAt\",\n  \"deleted\",\n  \"userId\",\n];\n\n// Helper function to render values properly\nconst renderValue = (value: any) => {\n  if (value === null || value === undefined) {\n    return \"N/A\";\n  }\n  if (typeof value === \"object\") {\n    return JSON.stringify(value);\n  }\n  if (Array.isArray(value)) {\n    return value.length > 0 ? value.join(\", \") : \"N/A\";\n  }\n  return value.toString();\n};\n\n// Function to check if URL is valid and displayable\nconst isValidImageUrl = (url: any) => {\n  if (!url || typeof url !== \"string\") return false;\n  // Check if it's a base64 string or a URL\n  return url.startsWith('http') || url.startsWith('data:image') || url.startsWith('/') || url.includes('image');\n};\n\n// Function to check if a key contains image-related terms\nconst isImageKey = (key: string) => {\n  const imageKeywords = ['image', 'Image', 'img', 'Img', 'picture', 'Picture', 'photo', 'Photo', 'certificate', 'Certificate'];\n  return imageKeywords.some(keyword => key.toLowerCase().includes(keyword.toLowerCase()));\n};\n\nconst ApplicationPreview = () => {\n  const [remark, setRemark] = useState(\"\");\n  const [openDialog, setOpenDialog] = useState(false);\n  const [actionType, setActionType] = useState<\"approve\" | \"reject\" | null>(null);\n\n  const { id } = useParams();\n  const [hotelData1, setHotelData1] = useState<any>({});\n  const [roomData, setRoomData] = useState<any>([]);\n\n  useEffect(() => {\n    getMyAllHotelswithBelongsTo({\n      id: id,\n      secondTable: \"Room\",\n    })\n      .then((res) => {\n        const hotel = res?.data?.data?.[0] || {};\n        const filteredHotelData = Object.fromEntries(\n          Object.entries(hotel).filter(\n            ([key]) => !EXCLUDED_KEYS.includes(key)\n          )\n        );\n\n        // Process rooms to filter excluded keys and handle pricing logic\n        const filteredRoomData = Array.isArray(hotel?.rooms)\n          ? hotel.rooms.map((room: any) => {\n              const filteredRoom = Object.fromEntries(\n                Object.entries(room).filter(([key]) => !EXCLUDED_KEYS.includes(key))\n              );\n              \n              // Filter pricing based on room type\n              const finalRoom: any = {};\n              \n              Object.entries(filteredRoom).forEach(([key, value]) => {\n                // Handle pricing fields\n                if (key === 'pricePerHour' && filteredRoom.roomFor === 'Overnight') {\n                  // Skip hourly price for overnight rooms\n                  return;\n                }\n                if (key === 'pricePerNight' && filteredRoom.roomFor === 'Hourly') {\n                  // Skip nightly price for hourly rooms\n                  return;\n                }\n                finalRoom[key] = value;\n              });\n              \n              return finalRoom;\n            })\n          : [];\n\n        setHotelData1({ ...filteredHotelData, rooms: filteredRoomData });\n      })\n      .catch((err) => console.log(err));\n  }, [id]);\n\n  const handleSubmit = () => {\n    console.log(\"Submitting application with remark:\", remark);\n  };\n\n  const handleActionClick = (type: \"approve\" | \"reject\") => {\n    if (type === \"reject\" && !remark.trim()) {\n      alert(\"Remark is required for rejection.\");\n      return;\n    }\n    setActionType(type);\n    setOpenDialog(true);\n  };\n\n  const navigate = useNavigate();\n\n  const handleConfirmAction = () => {\n    if (!actionType) return;\n\n    const payLoad = {\n      status: actionType === \"approve\" ? \"Approved\" : \"Reject\",\n      ...(actionType === \"reject\" && { remarks: remark.trim() })\n    };\n\n    editHotel(id, payLoad)\n      .then((res) => {\n        toast.success(`Application ${actionType === \"approve\" ? \"Approved\" : \"Rejected\"} successfully`);\n        setOpenDialog(false);\n        navigate(-1);\n      })\n      .catch((err) => {\n        toast.error(`Error while ${actionType === \"approve\" ? \"approving\" : \"rejecting\"} application`);\n      });\n  };\n\n  // Function to render image fields\n  const renderImageField = (key: string, value: any) => {\n    if (isImageKey(key) && isValidImageUrl(value)) {\n      return (\n        <Box mt={1}>\n          <img\n            src={value as string}\n            alt={key}\n            width={150}\n            height={120}\n            style={{ \n              borderRadius: 8,\n              objectFit: 'contain',\n              border: '1px solid #ddd'\n            }}\n            onError={(e) => {\n              (e.target as HTMLImageElement).style.display = 'none';\n            }}\n          />\n        </Box>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <Paper\n      elevation={3}\n      sx={{\n        p: 3,\n        m: 3,\n        borderRadius: \"12px\",\n        backgroundColor: color.thirdColor,\n        boxShadow: \"0px 0px 14px rgba(0, 0, 0, 0.14)\",\n      }}\n    >\n      <Typography variant=\"h5\" gutterBottom fontWeight={\"bold\"}>\n        Property Application Preview\n      </Typography>\n      <Divider sx={{ mb: 2 }} />\n\n      <Grid container spacing={2}>\n        {/* Render Hotel Data */}\n        {Object.entries(hotelData1).map(\n          ([key, value]) =>\n            key !== \"rooms\" && (\n              <Grid\n                item\n                xs={12}\n                md={\n                  key === \"propertyImages\" || (Array.isArray(value) && value.every(isValidImageUrl))\n                    ? 12\n                    : isImageKey(key)\n                      ? 4\n                      : 4\n                }\n                key={key}\n              >\n                <Typography sx={commonStyles.label}>\n                  {key\n                    .replace(/([A-Z])/g, \" $1\")\n                    .trim()\n                    .replace(/^./, (str) => str.toUpperCase())}\n                  :\n                </Typography>\n\n                {Array.isArray(value) ? (\n                  // Handle arrays (like propertyImages)\n                  value.every(isValidImageUrl) ? (\n                    // If all items are images, display as image gallery\n                    <Box display=\"flex\" flexWrap=\"wrap\" gap={1} mt={1}>\n                      {value.map((img, index) =>\n                        isValidImageUrl(img) ? (\n                          <img\n                            key={index}\n                            src={img}\n                            alt={`${key} ${index + 1}`}\n                            width={100}\n                            height={100}\n                            style={{ \n                              borderRadius: 8, \n                              objectFit: 'cover',\n                              border: '1px solid #ddd'\n                            }}\n                            onError={(e) => {\n                              (e.target as HTMLImageElement).style.display = 'none';\n                            }}\n                          />\n                        ) : (\n                          <Box\n                            key={index}\n                            width={100}\n                            height={100}\n                            sx={{\n                              borderRadius: 8,\n                              border: '1px dashed #ddd',\n                              display: 'flex',\n                              alignItems: 'center',\n                              justifyContent: 'center',\n                              backgroundColor: '#f5f5f5'\n                            }}\n                          >\n                            <Typography variant=\"caption\" color=\"textSecondary\">\n                              {key} {index + 1}\n                            </Typography>\n                          </Box>\n                        )\n                      )}\n                    </Box>\n                  ) : (\n                    // If array contains non-images\n                    <Typography sx={commonStyles.value}>\n                      {value.join(\", \")}\n                    </Typography>\n                  )\n                ) : (\n                  // Handle single values\n                  <>\n                    {renderImageField(key, value)}\n                    {!isImageKey(key) || !isValidImageUrl(value) ? (\n                      <Typography sx={commonStyles.value}>{renderValue(value)}</Typography>\n                    ) : null}\n                  </>\n                )}\n              </Grid>\n            )\n        )}\n\n        {/* Render Room Data */}\n        {hotelData1?.rooms?.length > 0 && (\n          <Grid item xs={12}>\n            <Typography sx={commonStyles.label}>Rooms:</Typography>\n          </Grid>\n        )}\n\n        {hotelData1?.rooms?.map((room: any, idx: any) => (\n          <Grid item xs={12} md={6} key={idx}>\n            <Paper\n              sx={{\n                p: 2,\n                my: 1,\n                backgroundColor: color.thirdColor,\n                boxShadow: \"0px 0px 14px rgba(0, 0, 0, 0.14)\",\n                borderRadius: \"12px\",\n              }}\n            >\n              {/* Display all image fields from room */}\n              {Object.entries(room)\n                .filter(([roomKey, roomValue]) => \n                  isImageKey(roomKey) && isValidImageUrl(roomValue)\n                )\n                .map(([roomKey, roomValue]) => (\n                  <Box key={roomKey} mt={1} mb={2}>\n                    <Typography sx={commonStyles.label}>\n                      {roomKey.replace(/([A-Z])/g, \" $1\").trim()}:\n                    </Typography>\n                    <img\n                      src={roomValue as string}\n                      alt={roomKey}\n                      width={200}\n                      height={150}\n                      style={{ \n                        borderRadius: 8,\n                        objectFit: 'cover',\n                        border: '1px solid #ddd'\n                      }}\n                      onError={(e) => {\n                        (e.target as HTMLImageElement).style.display = 'none';\n                      }}\n                    />\n                  </Box>\n                ))}\n              \n              {/* Display non-image room data */}\n              {Object.entries(room)\n                .filter(([roomKey, roomValue]) => \n                  !isImageKey(roomKey) || !isValidImageUrl(roomValue)\n                )\n                .map(([roomKey, roomValue]) => (\n                  <Box key={roomKey} mb={1}>\n                    <Typography sx={commonStyles.value}>\n                      <strong>\n                        {roomKey.replace(/([A-Z])/g, \" $1\").trim()}:\n                      </strong>{\" \"}\n                      {renderValue(roomValue)}\n                    </Typography>\n                  </Box>\n                ))}\n            </Paper>\n          </Grid>\n        ))}\n      </Grid>\n\n      {getUserRole() === \"Admin\" && (\n        <>\n          <Typography mt={1} sx={commonStyles.label}>\n            Remark:\n          </Typography>\n\n          <CustomTextField\n            sx={{\n              \"& .MuiInputBase-input\": { resize: \"vertical\" },\n              \"& textarea\": { resize: \"vertical\" },\n              \"& .MuiOutlinedInput-root\": {\n                \"& fieldset\": {\n                  border: \"none\",\n                  borderRadius: \"12px\",\n                },\n              },\n              mt: 2,\n            }}\n            fullWidth\n            label=\"Application Remark\"\n            multiline\n            rows={4}\n            value={remark}\n            onChange={(e) => setRemark(e.target.value)}\n          />\n\n          <Box mt={2} display=\"flex\" justifyContent=\"flex-end\">\n            <CustomButton\n              variant=\"contained\"\n              customStyles={{ fontSize: \"14px\" }}\n              onClick={handleSubmit}\n            >\n              Submit\n            </CustomButton>\n          </Box>\n\n          <Box sx={{ width: \"100%\", display: \"flex\", gap: 1 }} mt={4}>\n            <CustomButton\n              customStyles={{ fontSize: \"14px\", background: \"red\", width: \"100%\" }}\n              variant=\"contained\"\n              onClick={() => handleActionClick(\"reject\")}\n            >\n              Reject <Cancel sx={{ ml: 1, fontSize: \"18px\" }} />\n            </CustomButton>\n            <CustomButton\n              customStyles={{\n                fontSize: \"14px\",\n                background: \"green\",\n                width: \"100%\",\n              }}\n              variant=\"contained\"\n              onClick={() => handleActionClick(\"approve\")}\n            >\n              Approve <CheckCircle sx={{ ml: 1, fontSize: \"18px\" }} />\n            </CustomButton>\n          </Box>\n\n          <Dialog\n            open={openDialog}\n            onClose={() => setOpenDialog(false)}\n            sx={{ textAlign: \"center\" }}\n          >\n            {actionType === \"approve\" ? (\n              <CheckCircle\n                sx={{ margin: \"auto\", fontSize: \"84px\", color: \"green\", mt: 2 }}\n              />\n            ) : (\n              <Cancel\n                sx={{ margin: \"auto\", fontSize: \"84px\", color: \"red\", mt: 2 }}\n              />\n            )}\n\n            <DialogTitle sx={{ fontSize: \"20px\", m: 0, pb: 1 }}>\n              {actionType === \"approve\"\n                ? \"Confirm Approval?\"\n                : \"Confirm Rejection?\"}\n            </DialogTitle>\n            <DialogContent sx={{ fontSize: \"14px\" }}>\n              Are you sure you want to {actionType} this application?\n            </DialogContent>\n            <DialogActions\n              sx={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                mb: 2,\n              }}\n            >\n              <Button\n                sx={{ textTransform: \"none\", background: \"grey\" }}\n                variant=\"contained\"\n                onClick={() => setOpenDialog(false)}\n              >\n                Cancel\n              </Button>\n              <Button\n                sx={{\n                  textTransform: \"none\",\n                  background: actionType === \"approve\" ? \"green\" : \"red\",\n                }}\n                variant=\"contained\"\n                onClick={handleConfirmAction}\n              >\n                Confirm\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </>\n      )}\n    </Paper>\n  );\n};\n\nexport default ApplicationPreview;","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z\"\n}), 'Cancel');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"\n}), 'CheckCircle');"],"names":["commonStyles","label","fontWeight","color","value","EXCLUDED_KEYS","renderValue","undefined","JSON","stringify","Array","isArray","length","join","toString","isValidImageUrl","url","startsWith","includes","isImageKey","key","some","keyword","toLowerCase","ApplicationPreview","_hotelData1$rooms","_hotelData1$rooms2","remark","setRemark","useState","openDialog","setOpenDialog","actionType","setActionType","id","useParams","hotelData1","setHotelData1","roomData","setRoomData","useEffect","getMyAllHotelswithBelongsTo","secondTable","then","res","_res$data","_res$data$data","hotel","data","filteredHotelData","Object","fromEntries","entries","filter","_ref","filteredRoomData","rooms","map","room","filteredRoom","_ref2","finalRoom","forEach","_ref3","roomFor","_objectSpread","catch","err","console","log","handleActionClick","type","trim","alert","navigate","useNavigate","renderImageField","_jsx","Box","mt","children","src","alt","width","height","style","borderRadius","objectFit","border","onError","e","target","display","_jsxs","Paper","elevation","sx","p","m","backgroundColor","thirdColor","boxShadow","Typography","variant","gutterBottom","Divider","mb","Grid","container","spacing","_ref4","item","xs","md","every","replace","str","toUpperCase","flexWrap","gap","img","index","concat","alignItems","justifyContent","_Fragment","idx","my","_ref5","roomKey","roomValue","_ref6","_ref7","_ref8","getUserRole","CustomTextField","resize","fullWidth","multiline","rows","onChange","CustomButton","customStyles","fontSize","onClick","handleSubmit","background","Cancel","ml","CheckCircle","Dialog","open","onClose","textAlign","margin","DialogTitle","pb","DialogContent","DialogActions","Button","textTransform","handleConfirmAction","payLoad","status","remarks","editHotel","toast","success","error","createSvgIcon","d"],"ignoreList":[],"sourceRoot":""}