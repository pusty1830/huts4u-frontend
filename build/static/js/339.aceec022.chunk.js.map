{"version":3,"file":"static/js/339.aceec022.chunk.js","mappings":"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","sources":["../node_modules/@mui/material/internal/svg-icons/CheckBoxOutlineBlank.js","../node_modules/@mui/material/internal/svg-icons/CheckBox.js","../node_modules/@mui/material/internal/svg-icons/IndeterminateCheckBox.js","../node_modules/@mui/material/Checkbox/checkboxClasses.js","../node_modules/@mui/material/Checkbox/Checkbox.js","../node_modules/@mui/icons-material/esm/Check.js","../node_modules/@mui/icons-material/esm/PersonAdd.js","../node_modules/@mui/icons-material/esm/Verified.js","../node_modules/@mui/icons-material/esm/ContentCopy.js","../node_modules/@mui/icons-material/esm/Delete.js","../node_modules/@mui/icons-material/esm/LocalOffer.js","components/Payments/RanderPayments.tsx","pages/BookingSummary.tsx","../node_modules/@mui/icons-material/esm/Add.js","../node_modules/@mui/icons-material/esm/Business.js"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from \"../../utils/createSvgIcon.js\";\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from \"../../utils/createSvgIcon.js\";\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from \"../../utils/createSvgIcon.js\";\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z\"\n}), 'IndeterminateCheckBox');","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCheckboxUtilityClass(slot) {\n  return generateUtilityClass('MuiCheckbox', slot);\n}\nconst checkboxClasses = generateUtilityClasses('MuiCheckbox', ['root', 'checked', 'disabled', 'indeterminate', 'colorPrimary', 'colorSecondary', 'sizeSmall', 'sizeMedium']);\nexport default checkboxClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { alpha } from '@mui/system/colorManipulator';\nimport SwitchBase from \"../internal/SwitchBase.js\";\nimport CheckBoxOutlineBlankIcon from \"../internal/svg-icons/CheckBoxOutlineBlank.js\";\nimport CheckBoxIcon from \"../internal/svg-icons/CheckBox.js\";\nimport IndeterminateCheckBoxIcon from \"../internal/svg-icons/IndeterminateCheckBox.js\";\nimport capitalize from \"../utils/capitalize.js\";\nimport rootShouldForwardProp from \"../styles/rootShouldForwardProp.js\";\nimport checkboxClasses, { getCheckboxUtilityClass } from \"./checkboxClasses.js\";\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport createSimplePaletteValueFilter from \"../utils/createSimplePaletteValueFilter.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport { mergeSlotProps } from \"../utils/index.js\";\nimport useSlot from \"../utils/useSlot.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    indeterminate,\n    color,\n    size\n  } = ownerState;\n  const slots = {\n    root: ['root', indeterminate && 'indeterminate', `color${capitalize(color)}`, `size${capitalize(size)}`]\n  };\n  const composedClasses = composeClasses(slots, getCheckboxUtilityClass, classes);\n  return {\n    ...classes,\n    // forward the disabled and checked classes to the SwitchBase\n    ...composedClasses\n  };\n};\nconst CheckboxRoot = styled(SwitchBase, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiCheckbox',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.indeterminate && styles.indeterminate, styles[`size${capitalize(ownerState.size)}`], ownerState.color !== 'default' && styles[`color${capitalize(ownerState.color)}`]];\n  }\n})(memoTheme(({\n  theme\n}) => ({\n  color: (theme.vars || theme).palette.text.secondary,\n  variants: [{\n    props: {\n      color: 'default',\n      disableRipple: false\n    },\n    style: {\n      '&:hover': {\n        backgroundColor: theme.vars ? `rgba(${theme.vars.palette.action.activeChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette.action.active, theme.palette.action.hoverOpacity)\n      }\n    }\n  }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).map(([color]) => ({\n    props: {\n      color,\n      disableRipple: false\n    },\n    style: {\n      '&:hover': {\n        backgroundColor: theme.vars ? `rgba(${theme.vars.palette[color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette[color].main, theme.palette.action.hoverOpacity)\n      }\n    }\n  })), ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).map(([color]) => ({\n    props: {\n      color\n    },\n    style: {\n      [`&.${checkboxClasses.checked}, &.${checkboxClasses.indeterminate}`]: {\n        color: (theme.vars || theme).palette[color].main\n      },\n      [`&.${checkboxClasses.disabled}`]: {\n        color: (theme.vars || theme).palette.action.disabled\n      }\n    }\n  })), {\n    // Should be last to override other colors\n    props: {\n      disableRipple: false\n    },\n    style: {\n      // Reset on touch devices, it doesn't add specificity\n      '&:hover': {\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  }]\n})));\nconst defaultCheckedIcon = /*#__PURE__*/_jsx(CheckBoxIcon, {});\nconst defaultIcon = /*#__PURE__*/_jsx(CheckBoxOutlineBlankIcon, {});\nconst defaultIndeterminateIcon = /*#__PURE__*/_jsx(IndeterminateCheckBoxIcon, {});\nconst Checkbox = /*#__PURE__*/React.forwardRef(function Checkbox(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiCheckbox'\n  });\n  const {\n    checkedIcon = defaultCheckedIcon,\n    color = 'primary',\n    icon: iconProp = defaultIcon,\n    indeterminate = false,\n    indeterminateIcon: indeterminateIconProp = defaultIndeterminateIcon,\n    inputProps,\n    size = 'medium',\n    disableRipple = false,\n    className,\n    slots = {},\n    slotProps = {},\n    ...other\n  } = props;\n  const icon = indeterminate ? indeterminateIconProp : iconProp;\n  const indeterminateIcon = indeterminate ? indeterminateIconProp : checkedIcon;\n  const ownerState = {\n    ...props,\n    disableRipple,\n    color,\n    indeterminate,\n    size\n  };\n  const classes = useUtilityClasses(ownerState);\n  const externalInputProps = slotProps.input ?? inputProps;\n  const [RootSlot, rootSlotProps] = useSlot('root', {\n    ref,\n    elementType: CheckboxRoot,\n    className: clsx(classes.root, className),\n    shouldForwardComponentProp: true,\n    externalForwardedProps: {\n      slots,\n      slotProps,\n      ...other\n    },\n    ownerState,\n    additionalProps: {\n      type: 'checkbox',\n      icon: /*#__PURE__*/React.cloneElement(icon, {\n        fontSize: icon.props.fontSize ?? size\n      }),\n      checkedIcon: /*#__PURE__*/React.cloneElement(indeterminateIcon, {\n        fontSize: indeterminateIcon.props.fontSize ?? size\n      }),\n      disableRipple,\n      slots,\n      slotProps: {\n        input: mergeSlotProps(typeof externalInputProps === 'function' ? externalInputProps(ownerState) : externalInputProps, {\n          'data-indeterminate': indeterminate\n        })\n      }\n    }\n  });\n  return /*#__PURE__*/_jsx(RootSlot, {\n    ...rootSlotProps,\n    classes: classes\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Checkbox.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n  /**\n   * The icon to display when the component is checked.\n   * @default <CheckBoxIcon />\n   */\n  checkedIcon: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#custom-colors).\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The default checked state. Use when the component is not controlled.\n   */\n  defaultChecked: PropTypes.bool,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the ripple effect is disabled.\n   * @default false\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * The icon to display when the component is unchecked.\n   * @default <CheckBoxOutlineBlankIcon />\n   */\n  icon: PropTypes.node,\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n  /**\n   * If `true`, the component appears indeterminate.\n   * This does not set the native input element to indeterminate due\n   * to inconsistent behavior across browsers.\n   * However, we set a `data-indeterminate` attribute on the `input`.\n   * @default false\n   */\n  indeterminate: PropTypes.bool,\n  /**\n   * The icon to display when the component is indeterminate.\n   * @default <IndeterminateCheckBoxIcon />\n   */\n  indeterminateIcon: PropTypes.node,\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   * @deprecated Use `slotProps.input` instead. This prop will be removed in v7. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  inputProps: PropTypes.object,\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {React.ChangeEvent<HTMLInputElement>} event The event source of the callback.\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n  /**\n   * If `true`, the `input` element is required.\n   * @default false\n   */\n  required: PropTypes.bool,\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense checkbox styling.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    input: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    root: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    input: PropTypes.elementType,\n    root: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The value of the component. The DOM API casts this to a string.\n   * The browser uses \"on\" as the default value.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default Checkbox;","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4\"\n}), 'PersonAdd');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z\"\n}), 'Verified');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z\"\n}), 'ContentCopy');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z\"\n}), 'Delete');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7\"\n}), 'LocalOffer');","import React, { useState, useEffect } from \"react\";\nimport { bookingConfirm, createHotelPayment, createMyPayment, getOneRoomData, postBooking, verifyPayment } from \"../../services/services\";\nimport { R_KEY_ID } from \"../../services/Secret\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from \"@mui/material\";\nimport color from \"../color\";\nimport { toast } from \"react-toastify\";\nimport { getUserId, getUserName } from \"../../services/axiosClient\";\nimport dayjs from \"dayjs\";\n\ninterface BookingDetails {\n    hotel: any;\n    room: any;\n    guestInfo: {\n        name: string;\n        email: string;\n        phoneNumber: string;\n    };\n    timing: {\n        checkInDate: string;\n        checkInTime: string;\n        checkOutDate: string;\n        checkOutTime: string;\n        duration: string;\n    };\n    pricingDetails: any;\n    bookingType: string | null;\n    rooms: string | null;\n    adults: string | null;\n    children: string | null;\n}\n\ninterface RenderRazorpayProps {\n    orderDetails: any;\n    amount: any;\n    bookingDetails:any;\n}\n\nconst RenderRazorpay: React.FC<RenderRazorpayProps> = ({\n    orderDetails,\n    bookingDetails\n}) => {\n    const [checkedInTimes, setCheckInTimes] = useState(\"\");\n    const [checkedOutTimes, setCheckOutTimes] = useState(\"\");\n    const navigate = useNavigate();\n    const [open, setOpen] = useState(true);\n    console.log(bookingDetails)\n\n    useEffect(() => {\n        // Fetch check-in/check-out times only for non-hourly bookings\n        if (bookingDetails?.bookingType !== \"hourly\") {\n            getOneRoomData(bookingDetails?.room?.id).then((res) => {\n                setCheckInTimes(res?.data?.data?.checkInTime || \"\");\n                setCheckOutTimes(res?.data?.data?.checkOutTime || \"\");\n            });\n        }\n    }, [bookingDetails]);\n\n    // Helper function to get final check-in/check-out times\n    const getTimingDetails = () => {\n        if (bookingDetails?.bookingType === \"hourly\") {\n            // For hourly booking: use the times provided in bookingDetails\n            return {\n                checkInTime: bookingDetails?.timing?.checkInTime,\n                checkOutTime: bookingDetails?.timing?.checkOutTime\n            };\n        } else {\n            // For daily booking: use times from database if available, otherwise fallback\n            return {\n                checkInTime: checkedInTimes || bookingDetails?.timing?.checkInTime,\n                checkOutTime: checkedOutTimes || bookingDetails?.timing?.checkOutTime\n            };\n        }\n    };\n\n    const loadScript = (src: string): Promise<boolean> =>\n        new Promise((resolve) => {\n            const script = document.createElement(\"script\");\n            script.src = src;\n            script.onload = () => resolve(true);\n            script.onerror = () => resolve(false);\n            document.body.appendChild(script);\n        });\n\n    const displayRazorpay = async () => {\n        const isScriptLoaded = await loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n        if (!isScriptLoaded || !(window as any).Razorpay) {\n            alert(\"Failed to load Razorpay SDK.\");\n            return;\n        }\n\n        const timingDetails = getTimingDetails();\n\n        const options = {\n            key: R_KEY_ID || \"\",\n            amount: orderDetails.data.amount,\n            currency: orderDetails.data.currency,\n            order_id: orderDetails.data.id,\n            prefill: {\n                name: bookingDetails?.guestInfo?.name,\n                email: bookingDetails?.guestInfo?.email,\n                contact: bookingDetails?.guestInfo?.phoneNumber,\n            },\n            \n            handler: async (response: any) => {\n                try {\n                    const res = await verifyPayment({\n                        orderId: response.razorpay_order_id,\n                        paymentId: response.razorpay_payment_id,\n                        signature: response.razorpay_signature,\n                    });\n                    \n                    console.log(res);\n                    alert(\"Payment Successful\");\n                    \n                    const payLoad = {\n                        userId: getUserId(),\n                        hotelId: bookingDetails?.hotel?.id,\n                        roomId: bookingDetails?.room?.id,\n                        geustName: bookingDetails?.guestInfo?.name,\n                        amountPaid: orderDetails.data.amount,\n                        checkInDate: bookingDetails?.timing?.checkInDate,\n                        checkInTime: timingDetails.checkInTime, // Use the calculated timing\n                        checkOutTime: timingDetails.checkOutTime, // Use the calculated timing\n                        checkOutDate: bookingDetails?.timing?.checkOutDate,\n                        bookingType: bookingDetails?.bookingType,\n                        geustDetails: bookingDetails?.guestInfo,\n                        adults: bookingDetails?.adults,\n                        children: bookingDetails?.children,\n                        hotelName: bookingDetails?.hotel?.propertyName,\n                        status: 'pending',\n                        paymentId: res?.data?.data?.id,\n                        rooms: bookingDetails?.rooms,\n                         ...(bookingDetails?.gstDetails && {\n    GstDetail: bookingDetails.gstDetails,\n  }),\n                    };\n                    \n                    console.log(payLoad);\n\n                    postBooking(payLoad).then((res) => {\n                        const payoutPayLoad = {\n                            userId: getUserId(),\n                            paymentId: res?.data?.data?.id,\n                            hotelId: bookingDetails?.hotel?.id,\n                            roomId: bookingDetails?.room?.id,\n                            bookingId: res?.data?.data?.id,\n                            amountPaise: orderDetails.data.amount,\n                            feePaise: (bookingDetails?.pricingDetails?.platformFee + bookingDetails?.pricingDetails?.gstOnPlatform) * 100,\n                            netAmountPaise: (bookingDetails?.pricingDetails?.basePrice + bookingDetails?.pricingDetails?.gstOnBase) * 100,\n                            currency: \"INR\",\n                            bookingsIncluded: [{\n                                id: res?.data?.data?.id,\n                                bookingDate: res?.data?.data?.checkInDate\n                            }],\n                            scheduledAt: dayjs(bookingDetails?.timing?.checkInDate, \"DD MMM YYYY\").toDate(),\n                            status: \"pending\",\n                            transactionRef: null,\n                            gatewayResponse: null,\n                            failureReason: null,\n                            processedBy: null,\n                            note: \"Daily PayOut \",\n                             ...(bookingDetails?.gstDetails && {\n    GstDetail: bookingDetails.gstDetails,\n  }),\n                        };\n\n                        const mypaymentPayload = {\n                            userId: getUserId(),\n                            paymentId: res?.data?.data?.id,\n                            hotelId: bookingDetails?.hotel?.id,\n                            bookingId: res?.data?.data?.id,\n                            roomId: bookingDetails?.room?.id,\n                            amountPaise: orderDetails.data.amount,\n                            feePaise: (bookingDetails?.pricingDetails?.platformFee + bookingDetails?.pricingDetails?.gstOnPlatform) * 100,\n                            netmyAmountPaise: (bookingDetails?.pricingDetails?.platformFee + bookingDetails?.pricingDetails?.gstOnPlatform) * 100,\n                            currency: \"INR\",\n                            bookingsIncluded: [res?.data?.data?.id],\n                            scheduledAt: dayjs(bookingDetails?.timing?.checkInDate, \"DD MMM YYYY\").toDate(),\n                            initiatedAt: new Date(),\n                            processedAt: null,\n                            status: \"pending\",\n                            transactionRef: null,\n                            gatewayResponse: null,\n                            failureReason: null,\n                            processedBy: null,\n                            note: \"Auto payout settlement\",\n                             ...(bookingDetails?.gstDetails && {\n    GstDetail: bookingDetails.gstDetails,\n  }),\n                        };\n                        \n                        console.log(mypaymentPayload);\n                        \n                        createMyPayment(mypaymentPayload).then((res) => {\n                            console.log(\"My Payment is scheduled\");\n                        }).catch((err) => {\n                            console.log(\"error while creating the mypayment\", err);\n                        });\n                        \n                        console.log(payoutPayLoad);\n                        \n                        createHotelPayment(payoutPayLoad).then((res) => {\n                            console.log(\"My Payout is scheduled\");\n                        }).catch((err) => {\n                            console.log(\"error while creating the PayOut \", err);\n                        });\n\n                        toast(res?.data?.msg);\n                        \n                        const messagetamplet = {\n                            guestName: bookingDetails?.guestInfo?.name,\n                            location: bookingDetails?.hotel?.address,\n                            hotelName: bookingDetails?.hotel?.propertyName,\n                            checkInDate: dayjs(bookingDetails?.timing?.checkInDate, \"DD MMM YYYY\").format(\"DD MMM YYYY\"),\n                            checkInTime: timingDetails.checkInTime, // Use the calculated timing\n                            phone: bookingDetails?.guestInfo?.phoneNumber,\n                            amountPaid: (bookingDetails?.pricingDetails?.basePrice + bookingDetails?.pricingDetails?.gstOnBase),\n                            basePrice: bookingDetails?.pricingDetails?.basePrice,\n                            gstOnBase: bookingDetails?.pricingDetails?.gstOnBase,\n                            razorpayfee: (bookingDetails?.pricingDetails?.gstTotal - (bookingDetails?.pricingDetails?.gstOnBase + bookingDetails?.pricingDetails?.gstOnPlatform)),\n                            platformFee: bookingDetails?.pricingDetails?.platformFee,\n                            gstOnPlatform: bookingDetails?.pricingDetails?.gstOnPlatform,\n                            totalPrice: bookingDetails?.pricingDetails?.totalPrice,\n                            adults: bookingDetails?.adults,\n                            children: bookingDetails?.children,\n                            rooms: 1,\n                            checkOutTime: timingDetails.checkOutTime, // Use the calculated timing\n                            checkOutDate: dayjs(bookingDetails?.timing?.checkOutDate, \"DD MMM YYYY\").format(\"DD MMM YYYY\"),\n                            hotelEmail: bookingDetails?.hotel?.receptionEmail,\n                            receptionistPhone: bookingDetails?.hotel?.receptionMobile,\n                        };\n\n                        console.log(messagetamplet);\n                        \n                        bookingConfirm(messagetamplet).then((res) => {\n                            console.log(\"message send to the wp\", res);\n                        }).catch((err) => {\n                            console.log(err);\n                        });\n\n                        window.location.href=\"/my-bookings\"\n\n                    }).catch((err) => {\n                        console.log(err);\n                    });\n\n                } catch (error) {\n                    alert(\"Payment verification failed. Please try again.\");\n                }\n            },\n        };\n\n        const razorpay = new (window as any).Razorpay(options);\n        razorpay.open();\n    };\n\n    const handleOpen = () => setOpen(true);\n    const handleClose = () => setOpen(false);\n\n    return (\n        <div>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"xs\"\n                fullWidth\n                sx={{\n                    \"& .MuiPaper-root\": {\n                        padding: \"8px\",\n                        borderRadius: \"16px\",\n                    },\n                }}\n            >\n                <DialogTitle>Complete Your Payment</DialogTitle>\n                <DialogContent>\n                    <p>Ensure your payment details are correct before proceeding.</p>\n                </DialogContent>\n                <DialogActions style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                    <Button\n                        style={{\n                            textTransform: \"none\",\n                            color: \"black\",\n                        }}\n                        onClick={handleClose}\n                    >\n                        Cancel\n                    </Button>\n                    <Button\n                        onClick={displayRazorpay}\n                        variant=\"contained\"\n                        style={{\n                            background: color.firstColor,\n                            fontSize: \"18px\",\n                            textTransform: \"none\",\n                            border: \"solid 1px white\",\n                        }}\n                        sx={{\n                            padding: \"2px 10px\",\n                            transition: \"all 0.4s ease\",\n                            \"&:hover\": {\n                                paddingRight: \"20px\",\n                            },\n                        }}\n                    >\n                        Proceed to Pay\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default RenderRazorpay;","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport {\n  Box,\n  Card,\n  CardContent,\n  CardMedia,\n  Divider,\n  Typography,\n  Checkbox,\n  FormControlLabel,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  IconButton,\n  TextField,\n  MenuItem,\n  Select,\n  FormControl,\n  InputLabel,\n  Alert,\n  Chip,\n  Tooltip,\n  CircularProgress,\n  Grid,\n} from \"@mui/material\";\nimport {\n  Edit as EditIcon,\n  Check as CheckIcon,\n  Close as CloseIcon,\n  LocalOffer as OfferIcon,\n  PersonAdd as PersonAddIcon,\n  Verified as VerifiedIcon,\n  Add as AddIcon,\n  Business as BusinessIcon,\n  Delete as DeleteIcon,\n  ContentCopy as CopyIcon,\n} from \"@mui/icons-material\";\nimport dayjs from \"dayjs\";\nimport { useFormik } from \"formik\";\nimport { useEffect, useRef, useState } from \"react\";\nimport PhoneInput from \"react-phone-input-2\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport * as Yup from \"yup\";\nimport CustomButton from \"../components/CustomButton\";\nimport RenderRazorpay from \"../components/Payments/RanderPayments\";\nimport color from \"../components/color\";\nimport { BoxStyle, CustomTextField } from \"../components/style\";\nimport { getUserId, isLoggedIn } from \"../services/axiosClient\";\nimport { createOrder, getProfile, sendOTP, updateGST } from \"../services/services\";\nimport LoginOtpModal from \"./Account/LoginOtpModal\";\nimport InfoIcon from \"@mui/icons-material/Info\";\nimport \"react-phone-input-2/lib/style.css\";\n\n// Import GST APIs\nimport { createGST, getAllGSTByUserId, deleteGST } from \"../services/services\";\n\n// UPDATED VALIDATION SCHEMA WITH PHONE VALIDATION\nconst validationSchema = Yup.object({\n  name: Yup.string().required(\"Guest name is required\"),\n  email: Yup.string().email(\"Invalid email\").optional(),\n  phoneNumber: Yup.string()\n    .required(\"Phone number is required\")\n    .test('is-valid-phone', 'Enter a valid phone number', (value) => {\n      if (!value) return false;\n      const phoneWithoutCode = value.slice(2);\n      return phoneWithoutCode.length >= 10;\n    }),\n});\n\n// ---------------- SIMPLE PRICE CALCULATION ----------------\nexport const calculatePriceBreakdown = (\n  basePrice: number,\n  couponApplied = true\n) => {\n  const numericBase = Number(basePrice) || 0;\n\n  if (!numericBase || numericBase <= 0) {\n    return {\n      basePrice: 0,\n      gstOnBase: 0,\n      platformFee: 0,\n      gstOnPlatform: 0,\n      convenienceFee: 0,\n      gstOnConvenience: 0,\n      totalWithoutDiscount: 0,\n      couponDiscount: 0,\n      finalPrice: 0,\n    };\n  }\n\n  // 1. GST on base (5%)\n  const gstOnBase = numericBase * 0.05;\n\n  // Amount after base GST\n  const amountAfterBaseGst = numericBase + gstOnBase;\n\n  // 2. Platform fee (13% on base + GST)\n  const platformFee = amountAfterBaseGst * 0.13;\n\n  // 3. GST on platform fee (18%)\n  const gstOnPlatform = platformFee * 0.18;\n\n  // 4. Subtotal before convenience\n  const subtotalBeforeConvenience =\n    numericBase + gstOnBase + platformFee + gstOnPlatform;\n\n  // 5. Convenience fee (2% on subtotal)\n  const convenienceFee = subtotalBeforeConvenience * 0.02;\n\n  // 6. GST on convenience fee (18%)\n  const gstOnConvenience = convenienceFee * 0.18;\n\n  // 7. Total without discount\n  const totalWithoutDiscount =\n    subtotalBeforeConvenience + convenienceFee + gstOnConvenience;\n\n  // 8. Coupon discount (5% on total without discount) - ONLY if coupon is applied\n  let couponDiscount = 0;\n  if (couponApplied) {\n    couponDiscount = totalWithoutDiscount * 0.05;\n  }\n\n  // 9. Final price = total without discount - discount\n  const finalPrice = totalWithoutDiscount - couponDiscount;\n\n  return {\n    basePrice: numericBase,\n    gstOnBase,\n    platformFee,\n    gstOnPlatform,\n    convenienceFee,\n    gstOnConvenience,\n    totalWithoutDiscount,\n    couponDiscount,\n    finalPrice,\n  };\n};\n\n// ========== GUEST DISTRIBUTION AND EXTRA CHARGE CALCULATION ==========\nconst distributeGuestsToRooms = (\n  totalGuests: number,\n  standardOccupancy: number,\n  maxOccupancy: number,\n  additionalGuestRate: number\n) => {\n  let requiredRooms = 0;\n  let extraGuestCount = 0;\n  let extraGuestCharge = 0;\n  const guestsPerRoom: number[] = [];\n\n  if (totalGuests <= 0) {\n    return { \n      requiredRooms: 1, \n      extraGuestCount: 0, \n      extraGuestCharge: 0, \n      guestsPerRoom: [0] \n    };\n  }\n\n  // Calculate required rooms based on MAXIMUM occupancy\n  requiredRooms = Math.ceil(totalGuests / maxOccupancy);\n\n  // DISTRIBUTE GUESTS EVENLY ACROSS ROOMS\n  let remainingGuests = totalGuests;\n  \n  // First, fill each room with standard occupancy\n  for (let i = 0; i < requiredRooms; i++) {\n    if (remainingGuests >= standardOccupancy) {\n      guestsPerRoom[i] = standardOccupancy;\n      remainingGuests -= standardOccupancy;\n    } else {\n      guestsPerRoom[i] = remainingGuests;\n      remainingGuests = 0;\n    }\n  }\n\n  // Now distribute remaining guests as extra guests\n  let roomIndex = 0;\n  while (remainingGuests > 0 && roomIndex < requiredRooms) {\n    // Check if this room can take more guests (up to max occupancy)\n    if (guestsPerRoom[roomIndex] < maxOccupancy) {\n      guestsPerRoom[roomIndex] += 1;\n      remainingGuests -= 1;\n    }\n    roomIndex++;\n    \n    // If we've checked all rooms and still have guests, loop back\n    if (roomIndex >= requiredRooms && remainingGuests > 0) {\n      roomIndex = 0;\n    }\n  }\n\n  // Calculate extra guest charges PER ROOM\n  guestsPerRoom.forEach(guestsInRoom => {\n    if (guestsInRoom > standardOccupancy) {\n      const extraInThisRoom = guestsInRoom - standardOccupancy;\n      extraGuestCount += extraInThisRoom;\n      extraGuestCharge += extraInThisRoom * additionalGuestRate;\n    }\n  });\n\n  return {\n    requiredRooms,\n    extraGuestCount,\n    extraGuestCharge,\n    guestsPerRoom,\n  };\n};\n\nconst BookingSummary = () => {\n  const location = useLocation();\n  const hotel = location.state?.hotelData;\n  const room = location.state?.selectedRoom;\n  const selectedSlot = location.state?.selectedSlot;\n  const pricingDetails = location.state?.pricingDetails;\n  const inventoryData = location.state?.inventoryData || [];\n  \n  const queryParams = new URLSearchParams(location.search);\n\n  const initialBookingType = queryParams.get(\"bookingType\");\n  const initialCheckinTime = queryParams.get(\"time\");\n  const initialCheckinDate = queryParams.get(\"checkinDate\");\n  const initialCheckOutDate = queryParams.get(\"checkOutDate\");\n  const initialRooms = queryParams.get(\"rooms\");\n  const initialAdults = queryParams.get(\"adults\");\n  const initialChildren = queryParams.get(\"children\");\n\n  // State for editable dates\n  const [bookingType, setBookingType] = useState(initialBookingType);\n  const [checkinTime, setCheckinTime] = useState(initialCheckinTime || \"12:00\");\n  const [checkinDate, setCheckinDate] = useState(initialCheckinDate || dayjs().format(\"YYYY-MM-DD\"));\n  const [checkOutDate, setCheckOutDate] = useState(initialCheckOutDate || dayjs().add(1, 'day').format(\"YYYY-MM-DD\"));\n  const [rooms, setRooms] = useState(initialRooms || \"1\");\n  const [adults, setAdults] = useState(initialAdults || \"1\");\n  const [children, setChildren] = useState(initialChildren || \"0\");\n\n  // State for editing\n  const [editingCheckin, setEditingCheckin] = useState(false);\n  const [editingCheckout, setEditingCheckout] = useState(false);\n  const [editingTime, setEditingTime] = useState(false);\n  const [tempCheckinDate, setTempCheckinDate] = useState(initialCheckinDate || dayjs().format(\"YYYY-MM-DD\"));\n  const [tempCheckOutDate, setTempCheckOutDate] = useState(initialCheckOutDate || dayjs().add(1, 'day').format(\"YYYY-MM-DD\"));\n  const [tempCheckinTime, setTempCheckinTime] = useState(initialCheckinTime || \"12:00\");\n\n  // Extract initial slot duration\n  const value = selectedSlot?.slot;\n  const number = value?.match(/\\d+/)?.[0];\n  const initialExtractedNumber = number ? parseInt(number, 10) : 3;\n  const [slotDuration, setSlotDuration] = useState(initialExtractedNumber);\n  const [tempSlotDuration, setTempSlotDuration] = useState(initialExtractedNumber);\n\n  const [user, setUser] = useState<any>({});\n  const [showOtpModal, setShowOtpModal] = useState(false);\n  const [otpData, setOtpData] = useState({\n    phone: \"\",\n    name: \"\",\n    email: \"\",\n    token: \"\",\n  });\n  const [orderDetails, setOrderDetails] = useState<any>(null);\n\n  // Terms & Conditions state\n  const [termsChecked, setTermsChecked] = useState(false);\n  const [termsOpen, setTermsOpen] = useState(false);\n\n  // Coupon state - Auto applied by default\n  const [couponCode, setCouponCode] = useState(\"HUTS4U\");\n  const [couponApplied, setCouponApplied] = useState(true);\n  const [couponError, setCouponError] = useState(\"\");\n\n  // Validation error state\n  const [validationError, setValidationError] = useState<string | null>(null);\n\n  // GST state\n  const [gstSectionOpen, setGstSectionOpen] = useState(false);\n  const [gstinNumber, setGstinNumber] = useState(\"\");\n  const [legalName, setLegalName] = useState(\"\");\n  const [gstAddress, setGstAddress] = useState(\"\");\n  const [gstVerificationStatus, setGstVerificationStatus] = useState<\"none\" | \"verified\" | \"pending\" | \"invalid\">(\"none\");\n  const [verifyingGst, setVerifyingGst] = useState(false);\n  const [userGSTRecords, setUserGSTRecords] = useState<any[]>([]);\n  const [selectedGSTRecord, setSelectedGSTRecord] = useState<any>(null);\n  const [loadingGSTRecords, setLoadingGSTRecords] = useState(false);\n  const [showNewGSTForm, setShowNewGSTForm] = useState(false);\n  const [deletingGST, setDeletingGST] = useState<string | null>(null);\n\n  // Refs for scrolling to fields\n  const nameFieldRef = useRef<HTMLInputElement>(null);\n  const phoneFieldRef = useRef<HTMLDivElement>(null);\n  const gstinFieldRef = useRef<HTMLInputElement>(null);\n\n  // ========== UPDATED GUEST DISTRIBUTION LOGIC ==========\n  const calculateGuestDistribution = () => {\n    const totalGuests = Number(adults) + Number(children);\n    const standardOccupancy = room?.standardRoomOccupancy || 1;\n    const maxOccupancy = room?.maxRoomOccupancy || 1;\n    const additionalGuestRate = room?.additionalGuestRate || 0;\n\n    return distributeGuestsToRooms(\n      totalGuests, \n      standardOccupancy, \n      maxOccupancy, \n      additionalGuestRate\n    );\n  };\n\n  const guestDistribution = calculateGuestDistribution();\n  const { \n    requiredRooms, \n    extraGuestCount, \n    extraGuestCharge, \n    guestsPerRoom \n  } = guestDistribution;\n\n  // Get inventory-based price for the selected slot and date\n  const getInventoryPriceForDate = (slot: string): number => {\n    if (!room || !checkinDate || !slot) return 0;\n\n    const checkDay = dayjs(checkinDate).format('YYYY-MM-DD');\n    const dayInventory = inventoryData?.find((inv:any) => \n      dayjs(inv.date).format('YYYY-MM-DD') === checkDay\n    );\n\n    if (!dayInventory) {\n      // If no inventory data, fall back to room rates\n      switch(slot) {\n        case 'rateFor1Night':\n          return room.rateFor1Night || 0;\n        case 'rateFor3Hour':\n          return room.rateFor3Hour || 0;\n        case 'rateFor6Hour':\n          return room.rateFor6Hour || 0;\n        case 'rateFor12Hour':\n          return room.rateFor12Hour || 0;\n        default:\n          return 0;\n      }\n    }\n\n    // Return inventory-specific rate\n    switch(slot) {\n      case 'rateFor1Night':\n        return dayInventory.overnightRate || room.rateFor1Night || 0;\n      case 'rateFor3Hour':\n        return dayInventory.threeHourRate || room.rateFor3Hour || 0;\n      case 'rateFor6Hour':\n        return dayInventory.sixHourRate || room.rateFor6Hour || 0;\n      case 'rateFor12Hour':\n        return dayInventory.twelveHourRate || room.rateFor12Hour || 0;\n      default:\n        return 0;\n    }\n  };\n\n  // Get the slot key based on booking type\n  const getSlotKey = (): string => {\n    if (bookingType === \"hourly\") {\n      switch (slotDuration) {\n        case 3:\n          return 'rateFor3Hour';\n        case 6:\n          return 'rateFor6Hour';\n        case 12:\n          return 'rateFor12Hour';\n        default:\n          return 'rateFor3Hour';\n      }\n    } else {\n      return 'rateFor1Night';\n    }\n  };\n\n  // Check slot availability\n  const checkSlotAvailability = (): { isAvailable: boolean, message: string } => {\n    if (!room) {\n      return {\n        isAvailable: false,\n        message: 'Room information is missing'\n      };\n    }\n\n    const roomStatus = room.status?.toLowerCase();\n    const isStatusAvailable = roomStatus === \"available\" || roomStatus === \"active\";\n    \n    if (!isStatusAvailable) {\n      return {\n        isAvailable: false,\n        message: 'This room is currently not available'\n      };\n    }\n\n    return {\n      isAvailable: true,\n      message: 'Available'\n    };\n  };\n\n  const slotAvailability = checkSlotAvailability();\n\n  // Get unit base price from inventory or room\n  const getUnitBasePrice = (): number => {\n    const slotKey = getSlotKey();\n    return getInventoryPriceForDate(slotKey);\n  };\n\n  const unitBase = Number(getUnitBasePrice());\n\n  // Auto-update rooms based on occupancy\n  useEffect(() => {\n    if (Number(rooms) !== requiredRooms) {\n      setRooms(requiredRooms.toString());\n    }\n  }, [adults, children, room]);\n\n  // Load user profile and GST records on component mount\n  useEffect(() => {\n    if (isLoggedIn()) {\n      loadUserProfileAndGST();\n    }\n  }, []);\n\n  // Load user profile and GST records\n  const loadUserProfileAndGST = async () => {\n    try {\n      const profileRes = await getProfile();\n      const userData = profileRes?.data?.data;\n      setUser(userData);\n      \n      if (userData?._id) {\n        // Load user's GST records\n        loadUserGSTRecords(userData._id);\n      }\n    } catch (err) {\n      console.log(\"Error loading profile:\", err);\n      toast.error(\"Failed to load user profile\");\n    }\n  };\n\nconst loadUserGSTRecords = async (userId: string) => {\n  if (!userId) return;\n  \n  setLoadingGSTRecords(true);\n  try {\n    const response = await getAllGSTByUserId(userId);\n    console.log(\"GST API Response:\", response);\n    \n    let gstRecords: any[] = [];\n    \n    // Extract from response.data.data array\n    if (response?.data?.data && Array.isArray(response.data.data)) {\n      gstRecords = response.data.data;\n    } \n    // If response.data itself is array\n    else if (Array.isArray(response?.data)) {\n      gstRecords = response.data;\n    }\n    \n    console.log(\"Raw GST Records:\", gstRecords);\n    \n    // Transform the data: extract gst_detail objects\n    const transformedRecords = gstRecords.map((record: any) => {\n      // If record has gst_detail property, use that\n      if (record.gst_detail && typeof record.gst_detail === 'object') {\n        return {\n          ...record.gst_detail,\n          // Keep mapping info if needed\n          mappingId: record.id,\n          userId: record.userId,\n          gstId: record.gstId,\n          isPrimary: record.isPrimary || false,\n          mappingCreatedAt: record.createdAt,\n          mappingUpdatedAt: record.updatedAt,\n        };\n      }\n      // Otherwise use the record as is\n      return record;\n    });\n    \n    console.log(\"Transformed GST Records:\", transformedRecords);\n    \n    setUserGSTRecords(transformedRecords);\n    \n    // If user has verified GST records, automatically select the first verified one\n    const verifiedRecords = transformedRecords.filter((record: any) => {\n      return (\n        record.verified === true || \n        record.gstStatus === \"Active\"\n      );\n    });\n    \n    console.log(\"Verified GST Records:\", verifiedRecords);\n    \n    if (verifiedRecords.length > 0) {\n      const firstRecord = verifiedRecords[0];\n      console.log(\"Auto-selecting GST Record:\", firstRecord);\n      \n      setSelectedGSTRecord(firstRecord);\n      setGstinNumber(firstRecord.gstNumber || \"\");\n      setLegalName(firstRecord.legalName || firstRecord.tradeName || \"\");\n      setGstAddress(firstRecord.address || \"\");\n      setGstVerificationStatus(\"verified\");\n      \n      // Auto-open GST section if records exist\n      setGstSectionOpen(true);\n      \n      toast.success(`Auto-selected GST: ${firstRecord.gstNumber}`);\n    } else if (transformedRecords.length > 0) {\n      // If there are records but none verified, still show them\n      console.log(\"Showing non-verified GST records\");\n      \n      // Auto-open GST section if records exist\n      setGstSectionOpen(true);\n    }\n  } catch (error: any) {\n    console.error(\"Error loading GST records:\", error);\n    \n    // Don't show toast to avoid annoying users for this optional feature\n  } finally {\n    setLoadingGSTRecords(false);\n  }\n};\n\n  // STEP 2: Handle GST verification and creation\n  const handleVerifyGST = async () => {\n    if (!gstinNumber.trim()) {\n      toast.error(\"Please enter GSTIN number\");\n      gstinFieldRef.current?.focus();\n      return;\n    }\n\n    // Basic GSTIN format validation (15 characters, alphanumeric)\n    const gstinRegex = /^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/i;\n    if (!gstinRegex.test(gstinNumber.toUpperCase())) {\n      toast.error(\"Please enter a valid 15-digit GSTIN format\");\n      setGstVerificationStatus(\"invalid\");\n      return;\n    }\n\n    setVerifyingGst(true);\n    setGstVerificationStatus(\"pending\");\n\n    try {\n      // Get user ID if logged in\n      const userId = isLoggedIn() ? getUserId(): null;\n\n      // Prepare GST payload - only include userId if logged in\n      const gstPayload = {\n        gstNumber: gstinNumber.toUpperCase(),\n        ...(userId && { userId }) // Include user ID only if logged in\n      };\n\n      // Call createGST API (which will verify via API)\n      const response = await createGST(gstPayload);\n      \n      if (response?.data?.data) {\n        const gstData = response.data?.data || response.data?.result;\n        \n        setGstVerificationStatus(\"verified\");\n        setLegalName(gstData?.legalName || gstData?.lgnm || \"\");\n        setGstAddress(gstData?.address || gstData?.pradr?.adr || \"\");\n        \n        // Create selected record object\n        const selectedRecord = {\n          ...gstData,\n          id: gstData?.id,\n          gstNumber: gstData?.gstNumber || gstinNumber.toUpperCase(),\n          legalName: gstData?.legalName || gstData?.lgnm || \"\",\n          address: gstData?.address || gstData?.pradr?.adr || \"\",\n          verified: true\n        };\n        \n        setSelectedGSTRecord(selectedRecord);\n        \n        toast.success(\"GSTIN verified successfully!\");\n        \n        // If user is logged in, reload their GST records\n        if (userId) {\n          loadUserGSTRecords(userId);\n        }\n        \n      } else if (response?.data?.status === \"BAD_REQUEST\") {\n        // Handle duplicate GST or verification failure\n        const errorMessage = response.data?.message || \"GST verification failed\";\n        \n        if (errorMessage.includes(\"already exists\")) {\n          // GST already exists in system\n          const existingGST = response.data?.data;\n          \n          // Update with user ID if logged in\n          if (userId && existingGST?.id) {\n            try {\n              const updateResponse = await updateGST(existingGST.id, { userId });\n              if (updateResponse?.data?.success) {\n                toast.success(\"GST linked to your account!\");\n              }\n            } catch (updateError) {\n              console.error(\"Error updating GST user ID:\", updateError);\n            }\n          }\n          \n          setGstVerificationStatus(\"verified\");\n          setGstinNumber(existingGST.gstNumber || gstinNumber.toUpperCase());\n          setLegalName(existingGST.legalName || \"\");\n          setGstAddress(existingGST.address || \"\");\n          setSelectedGSTRecord(existingGST);\n          \n          toast.info(\"Using existing GST record\");\n        } else {\n          setGstVerificationStatus(\"invalid\");\n          toast.error(errorMessage);\n        }\n      } else {\n        setGstVerificationStatus(\"invalid\");\n        toast.error(\"GST verification failed. Please try again.\");\n      }\n    } catch (error: any) {\n      console.error(\"GST verification error:\", error);\n      setGstVerificationStatus(\"invalid\");\n      \n      // Check if it's a duplicate GST error\n      if (error.response?.data?.status === \"BAD_REQUEST\") {\n        const errorData = error.response.data;\n        \n        if (errorData?.data) {\n          // Existing GST found\n          setGstVerificationStatus(\"verified\");\n          setLegalName(errorData.data.legalName || \"\");\n          setGstAddress(errorData.data.address || \"\");\n          setSelectedGSTRecord(errorData.data);\n          toast.info(\"Using existing GST record\");\n        } else {\n          toast.error(errorData?.message || \"Invalid GST number\");\n        }\n      } else {\n        toast.error(\"Failed to verify GST. Please check your internet connection.\");\n      }\n    } finally {\n      setVerifyingGst(false);\n    }\n  };\n\n  // Handle GST record selection from saved records\n  const handleGSTRecordSelect = (record: any) => {\n    setSelectedGSTRecord(record);\n    setGstinNumber(record.gstNumber || \"\");\n    setLegalName(record.legalName || \"\");\n    setGstAddress(record.address || \"\");\n    setGstVerificationStatus(\n      record.verified === true || record.gstStatus === \"Active\" \n        ? \"verified\" \n        : \"none\"\n    );\n    setShowNewGSTForm(false);\n    toast.success(`Selected GSTIN: ${record.gstNumber}`);\n  };\n\n  // Handle adding new GST\n  const handleAddNewGST = () => {\n    setShowNewGSTForm(true);\n    setGstinNumber(\"\");\n    setLegalName(\"\");\n    setGstAddress(\"\");\n    setGstVerificationStatus(\"none\");\n    setSelectedGSTRecord(null);\n  };\n\n  // Handle deleting GST mapping (unlinking from user)\n  const handleDeleteGST = async (gstId: string) => {\n    if (!isLoggedIn()) {\n      toast.error(\"Please login to manage GST records\");\n      return;\n    }\n\n    if (!window.confirm(\"Are you sure you want to remove this GST from your account?\")) {\n      return;\n    }\n\n    setDeletingGST(gstId);\n    try {\n      const payLoad={\n        userId:getUserId()\n      }\n      console.log(gstId);\n      console.log(payLoad);\n      const response = await deleteGST(gstId, payLoad.userId);\n      if (response?.data?.success) {\n        toast.success(\"GST removed from your account\");\n        \n        // Update local state\n        setUserGSTRecords(prev => prev.filter(record => \n          record.id !== gstId && record._id !== gstId\n        ));\n        \n        // Clear selection if deleted record was selected\n        if (selectedGSTRecord && \n            (selectedGSTRecord.id === gstId || selectedGSTRecord._id === gstId)) {\n          handleClearGST();\n        }\n      } else {\n        toast.error(\"Failed to remove GST\");\n      }\n    } catch (error) {\n      console.error(\"Error deleting GST:\", error);\n      toast.error(\"Failed to remove GST\");\n    } finally {\n      setDeletingGST(null);\n    }\n  };\n\n  // Function to copy GSTIN to clipboard\n  const handleCopyGSTIN = (gstNumber: string) => {\n    navigator.clipboard.writeText(gstNumber)\n      .then(() => toast.success(\"GSTIN copied to clipboard\"))\n      .catch(() => toast.error(\"Failed to copy GSTIN\"));\n  };\n\n  // Handle clearing GST selection\n  const handleClearGST = () => {\n    setSelectedGSTRecord(null);\n    setGstinNumber(\"\");\n    setLegalName(\"\");\n    setGstAddress(\"\");\n    setGstVerificationStatus(\"none\");\n    setShowNewGSTForm(false);\n    toast.info(\"GST selection cleared\");\n  };\n\n  // Handle date changes and update price\n  const handleCheckinDateSave = () => {\n    if (!tempCheckinDate) {\n      toast.error(\"Please select a check-in date\");\n      return;\n    }\n\n    if (!dayjs(tempCheckinDate, \"YYYY-MM-DD\", true).isValid()) {\n      toast.error(\"Invalid date format. Please use YYYY-MM-DD format\");\n      return;\n    }\n\n    if (bookingType === \"hourly\") {\n      setCheckinDate(tempCheckinDate);\n      setEditingCheckin(false);\n      toast.success(\"Check-in date updated\");\n    } else {\n      if (dayjs(tempCheckinDate).isAfter(dayjs(tempCheckOutDate))) {\n        toast.error(\"Check-in date cannot be after check-out date\");\n        return;\n      }\n      setCheckinDate(tempCheckinDate);\n      setEditingCheckin(false);\n      toast.success(\"Check-in date updated\");\n    }\n  };\n\n  const handleCheckoutDateSave = () => {\n    if (!tempCheckOutDate) {\n      toast.error(\"Please select a check-out date\");\n      return;\n    }\n\n    if (!dayjs(tempCheckOutDate, \"YYYY-MM-DD\", true).isValid()) {\n      toast.error(\"Invalid date format. Please use YYYY-MM-DD format\");\n      return;\n    }\n\n    if (dayjs(tempCheckOutDate).isBefore(dayjs(tempCheckinDate))) {\n      toast.error(\"Check-out date cannot be before check-in date\");\n      return;\n    }\n    setCheckOutDate(tempCheckOutDate);\n    setEditingCheckout(false);\n    toast.success(\"Check-out date updated\");\n  };\n\n  // Handle time changes for hourly bookings\n  const handleTimeSave = () => {\n    if (!tempCheckinTime) {\n      toast.error(\"Please select a check-in time\");\n      return;\n    }\n\n    // Validate time format\n    if (!tempCheckinTime.match(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/)) {\n      toast.error(\"Invalid time format. Please use HH:mm format\");\n      return;\n    }\n\n    setCheckinTime(tempCheckinTime);\n    setSlotDuration(tempSlotDuration);\n    setEditingTime(false);\n    toast.success(\"Check-in time and duration updated\");\n  };\n\n  // Calculate nights based on dates\n  const calculateNights = () => {\n    if (!checkinDate || !checkOutDate) return 1;\n\n    const inDate = dayjs(checkinDate, \"YYYY-MM-DD\", true);\n    const outDate = dayjs(checkOutDate, \"YYYY-MM-DD\", true);\n\n    if (!inDate.isValid() || !outDate.isValid()) return 1;\n\n    const diff = outDate.diff(inDate, \"day\");\n    return Math.max(1, diff);\n  };\n\n  const nights = calculateNights();\n\n  // Calculate price breakdown WITHOUT extra guest charges\n  const calculateTotalPrice = () => {\n    // Calculate multiplier WITHOUT extra guest charges\n    let totalMultiplier;\n    if (bookingType === \"hourly\") {\n      const hoursMultiplier = slotDuration / 3;\n      totalMultiplier = requiredRooms * hoursMultiplier;\n    } else {\n      totalMultiplier = requiredRooms * nights;\n    }\n\n    const totalBasePrice = unitBase * totalMultiplier;\n\n    // Calculate breakdown with coupon (NO extra guest charges added here)\n    const breakdown = calculatePriceBreakdown(totalBasePrice, couponApplied);\n\n    return {\n      ...breakdown,\n      nights,\n      totalMultiplier,\n      bookingType,\n      slotDuration,\n      requiredRooms,\n      unitBase,\n    };\n  };\n\n  const priceBreakdown = calculateTotalPrice();\n  const {\n    basePrice: totalBase,\n    gstOnBase,\n    platformFee,\n    gstOnPlatform,\n    convenienceFee,\n    gstOnConvenience,\n    totalWithoutDiscount,\n    couponDiscount,\n    finalPrice,\n    unitBase: inventoryUnitBase,\n  } = priceBreakdown;\n\n  // Display values for UI\n  const displayBase = totalBase;\n  const displayBasePlus700 = displayBase + 700;\n  const displayCombinedBasePlatform = totalBase + platformFee;\n  const displayGstTotal = gstOnBase + gstOnPlatform + convenienceFee + gstOnConvenience;\n  const payableAfterCoupon = Number(finalPrice.toFixed(2));\n\n  // Invoice pieces\n  const serviceTaxableValue = platformFee;\n  const cgstOnService = gstOnPlatform / 2;\n  const sgstOnService = gstOnPlatform / 2;\n  const convenienceFeeInclGst = convenienceFee + gstOnConvenience;\n  const grandTotal = payableAfterCoupon;\n\n  // Handle coupon removal\n  const handleRemoveCoupon = () => {\n    setCouponApplied(false);\n    toast.info(\"Huts4u Discount removed. Prices updated.\");\n  };\n\n  const handleApplyCoupon = () => {\n    setCouponApplied(true);\n    toast.success(\"Huts4u Discount applied!\");\n  };\n\n  // STEP 3: Handle payment with GST data in payload\n  const handlePayment = async () => {\n    try {\n      if (!grandTotal || grandTotal <= 0) {\n        toast.error(\"Booking amount cannot be zero.\");\n        return;\n      }\n\n      // Prepare GST data for booking payload\n      let gstDataForBooking = null;\n      if (gstVerificationStatus === \"verified\" && gstinNumber) {\n        gstDataForBooking = {\n          gstNumber: gstinNumber,\n          legalName: legalName,\n          address: gstAddress,\n          verified: true,\n          gstRecordId: selectedGSTRecord?.id || selectedGSTRecord?._id,\n          gstStatus: selectedGSTRecord?.gstStatus || \"Active\",\n        };\n      }\n\n      const payLoad = {\n        amount: Math.round(grandTotal),\n        currency: \"INR\",\n        // Include GST data in the order payload\n        metadata: {\n          gstDetails: gstDataForBooking,\n          bookingType,\n          hotelId: hotel?._id,\n          roomId: room?._id,\n        }\n      };\n\n      const response = await createOrder(payLoad);\n\n      if (response?.data) {\n        setOrderDetails(response.data);\n      } else {\n        toast.error(\"Payment failed. Please try again.\");\n      }\n    } catch (error) {\n      console.error(\"Error during payment:\", error);\n      toast.error(\"Payment failed. Please try again.\");\n    }\n  };\n\n  const navigate = useNavigate();\n\n  const formik = useFormik({\n    initialValues: {\n      name: user.userName || \"\",\n      email: user.email || \"\",\n      phoneNumber: user.phoneNumber ? `91${user.phoneNumber}` : \"91\",\n    },\n    validationSchema,\n    enableReinitialize: true,\n    onSubmit: (values) => {\n      // Clear previous validation error\n      setValidationError(null);\n\n      // Check slot availability first\n      if (!slotAvailability.isAvailable) {\n        setValidationError(slotAvailability.message);\n        return;\n      }\n\n      // Check for required fields before terms\n      if (!values.name.trim()) {\n        setValidationError(\"Guest name is required\");\n        nameFieldRef.current?.focus();\n        nameFieldRef.current?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        return;\n      }\n\n      if (!values.phoneNumber || values.phoneNumber === \"91\" || values.phoneNumber.length < 12) {\n        setValidationError(\"Valid phone number is required\");\n        phoneFieldRef.current?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        return;\n      }\n\n      if (!termsChecked) {\n        setValidationError(\"Please accept Terms & Conditions before proceeding.\");\n        return;\n      }\n\n      if (isLoggedIn()) {\n        handlePayment();\n      } else {\n        const payLoad = {\n          name: values.name,\n          email: values.email,\n          phone: values.phoneNumber.slice(2),\n        };\n        sendOTP(payLoad)\n          .then((res) => {\n            console.log(res);\n            setShowOtpModal(true);\n            toast(\"OTP sent successfully. Please verify the OTP.\");\n            setOtpData({\n              phone: values.phoneNumber.slice(2),\n              name: values.name,\n              email: values.email,\n              token: res?.data?.data,\n            });\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    },\n  });\n\n  const handleOtpSuccess = () => {\n    setShowOtpModal(false);\n    \n    // If GST is verified but doesn't have user ID, update it\n    if (gstVerificationStatus === \"verified\" && selectedGSTRecord && \n        isLoggedIn() && !selectedGSTRecord.userId) {\n      updateGSTRecordWithUserId();\n    } else {\n      handlePayment();\n    }\n  };\n\n  // Function to update GST record with user ID\n  const updateGSTRecordWithUserId = async () => {\n    try {\n      const userId = getUserId();\n      const gstId = selectedGSTRecord?.id || selectedGSTRecord?._id;\n\n      if (userId && gstId) {\n        // Update GST record with user ID\n        const updatePayload = { userId };\n        const response = await updateGST(gstId, updatePayload);\n        \n        if (response?.data?.success) {\n          toast.success(\"GST record linked to your account!\");\n          \n          // Reload GST records to get updated data\n          loadUserGSTRecords(userId);\n        }\n      }\n      \n      // Proceed to payment\n      handlePayment();\n    } catch (error) {\n      console.error(\"Error updating GST with user ID:\", error);\n      toast.error(\"Could not link GST to account. Proceeding with payment...\");\n      handlePayment();\n    }\n  };\n\n  const textContainerRef = useRef<HTMLDivElement>(null);\n  const [imageHeight, setImageHeight] = useState(\"auto\");\n\n  const calculateCheckoutTime = () => {\n    if (bookingType === \"hourly\" && checkinTime && checkinDate && slotDuration) {\n      const checkInDateTime = dayjs(`${checkinDate} ${checkinTime}`, \"YYYY-MM-DD HH:mm\");\n      const checkOutDateTime = checkInDateTime.add(slotDuration, \"hour\");\n\n      return {\n        checkInDate: checkInDateTime.format(\"DD MMM YYYY\"),\n        checkInTime: checkInDateTime.format(\"hh:mm A\"),\n        checkOutDate: checkOutDateTime.format(\"DD MMM YYYY\"),\n        checkOutTime: checkOutDateTime.format(\"hh:mm A\"),\n        duration: `${slotDuration} hrs`,\n      };\n    } else {\n      const nights = calculateNights();\n      return {\n        checkInDate: dayjs(checkinDate, \"YYYY-MM-DD\").format(\"DD MMM YYYY\"),\n        checkInTime: \"12.00 PM\",\n        checkOutDate: dayjs(checkOutDate, \"YYYY-MM-DD\").format(\"DD MMM YYYY\"),\n        checkOutTime: \"11.00 AM\",\n        duration: `${nights} night${nights > 1 ? 's' : ''}`,\n      };\n    }\n  };\n\n  useEffect(() => {\n    if (textContainerRef.current) {\n      setImageHeight(`${textContainerRef.current.clientHeight}px`);\n    }\n  }, [hotel, nights, slotDuration]);\n\n  // Generate time slots for the time picker\n  const generateTimeSlots = () => {\n    const slots = [];\n    for (let hour = 0; hour < 24; hour++) {\n      for (let minute = 0; minute < 60; minute += 30) {\n        const time = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n        slots.push({ value: time, label: dayjs(time, \"HH:mm\").format(\"hh:mm A\") });\n      }\n    }\n    return slots;\n  };\n\n  const timeSlots = generateTimeSlots();\n\n  // T&C modal content\n  const termsText = `\nBy booking, you agree to the property's terms and conditions, cancellation policy, and house rules.\nYou also agree to follow Huts4u's official Terms & Conditions mentioned on the link below.\nPlease ensure you have read and understood all applicable policies.\n`;\n\n  // Function to check if form is valid\n  const isFormValid = () => {\n    const isNameValid = formik.values.name.trim() !== \"\";\n    const isPhoneValid = formik.values.phoneNumber &&\n      formik.values.phoneNumber !== \"91\" &&\n      formik.values.phoneNumber.length >= 12;\n    const isTermsAccepted = termsChecked;\n    const isSlotAvailable = slotAvailability.isAvailable;\n\n    return isNameValid && isPhoneValid && isTermsAccepted && isSlotAvailable;\n  };\n\n  // Function to handle field changes and show errors\n  const handleFieldChange = (field: string, value: string) => {\n    formik.setFieldValue(field, value);\n    formik.setFieldTouched(field, true);\n\n    // Clear validation error when user starts typing\n    if (validationError) {\n      setValidationError(null);\n    }\n  };\n\n  // Price source indicator\n  const getPriceSource = () => {\n    const checkDay = dayjs(checkinDate).format('YYYY-MM-DD');\n    const dayInventory = inventoryData?.find((inv:any) => \n      dayjs(inv.date).format('YYYY-MM-DD') === checkDay\n    );\n    \n    return dayInventory ? \"Dynamic Inventory Pricing\" : \"Standard Rate\";\n  };\n\n  return (\n    <Box\n      sx={{\n        ...BoxStyle,\n        background: \"#f6f6f6\",\n        mt: 0,\n        py: 4,\n        px: { xs: 1, md: 3 },\n        display: \"flex\",\n        flexDirection: { xs: \"column\", md: \"row\" },\n        justifyContent: \"center\",\n        gap: \"20px\",\n      }}\n    >\n      {/* LEFT: Booking + Guest Info */}\n      <Card\n        sx={{\n          p: 1,\n          background: \"white\",\n          maxWidth: \"700px\",\n          border: \"none\",\n          boxShadow: 0,\n          borderRadius: \"12px\",\n        }}\n      >\n        <CardContent>\n          <Typography\n            variant=\"h6\"\n            gutterBottom\n            sx={{ color: color.firstColor, fontWeight: \"bold\" }}\n          >\n            Your Booking Summary\n          </Typography>\n\n          {/* SLOT AVAILABILITY ALERT */}\n          {!slotAvailability.isAvailable && (\n            <Alert\n              severity=\"error\"\n              sx={{\n                mb: 2,\n                borderRadius: 2,\n                '& .MuiAlert-message': {\n                  fontSize: '14px',\n                  fontWeight: 500\n                }\n              }}\n            >\n              {slotAvailability.message}\n              <Button \n                variant=\"outlined\" \n                size=\"small\" \n                sx={{ ml: 2 }}\n                onClick={() => navigate(-1)}\n              >\n                Go Back\n              </Button>\n            </Alert>\n          )}\n\n          <Box\n            sx={{\n              display: \"flex\",\n              flexDirection: { xs: \"column\", md: \"row\" },\n              gap: { xs: 0, md: 2 },\n              position: \"relative\",\n              mt: 2,\n              height: \"fit-content\",\n              alignItems: \"stretch\",\n            }}\n          >\n            <CardMedia\n              component=\"img\"\n              sx={{\n                width: { xs: \"100%\", md: \"250px\" },\n                borderRadius: \"12px\",\n                objectFit: \"cover\",\n                height: imageHeight,\n                transition: \"height 0.3s ease\",\n              }}\n              image={hotel?.propertyImages?.[0]}\n            />\n            <div style={{ height: \"fit-content\" }} ref={textContainerRef}>\n              <Typography\n                sx={{\n                  fontSize: \"20px\",\n                  fontWeight: 600,\n                  color: color.firstColor,\n                  mt: { xs: 1.5, md: 1 },\n                  display: \"-webkit-box\",\n                  overflow: \"hidden\",\n                  textOverflow: \"ellipsis\",\n                  WebkitLineClamp: 1,\n                  WebkitBoxOrient: \"vertical\",\n                }}\n              >\n                {hotel?.propertyName}\n              </Typography>\n              <Typography\n                sx={{\n                  fontFamily: \"CustomFontSB\",\n                  fontSize: { xs: \"12px\", md: \"14px\" },\n                  display: \"-webkit-box\",\n                  overflow: \"hidden\",\n                  textOverflow: \"ellipsis\",\n                  WebkitLineClamp: 1,\n                  WebkitBoxOrient: \"vertical\",\n                }}\n              >\n                {hotel?.address}\n              </Typography>\n\n              <div\n                style={{\n                  marginTop: \"10px\",\n                  display: \"flex\",\n                  flexWrap: \"wrap\",\n                  flexDirection: \"column\",\n                  gap: \"4px\",\n                }}\n              >\n                {/* Editable Check-in Date */}\n                <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                  {editingCheckin ? (\n                    <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                      <TextField\n                        type=\"date\"\n                        size=\"small\"\n                        value={tempCheckinDate}\n                        onChange={(e) => setTempCheckinDate(e.target.value)}\n                        InputLabelProps={{ shrink: true }}\n                        sx={{ width: 150 }}\n                        InputProps={{\n                          sx: { height: 36 }\n                        }}\n                      />\n                      <IconButton size=\"small\" onClick={handleCheckinDateSave} sx={{ color: \"green\" }}>\n                        <CheckIcon />\n                      </IconButton>\n                      <IconButton size=\"small\" onClick={() => {\n                        setTempCheckinDate(checkinDate);\n                        setEditingCheckin(false);\n                      }} sx={{ color: \"red\" }}>\n                        <CloseIcon />\n                      </IconButton>\n                    </Box>\n                  ) : (\n                    <>\n                      <Typography sx={typoStyle}>\n                        <strong>Check-In Date:</strong>{\" \"}\n                        {dayjs(checkinDate, \"YYYY-MM-DD\").format(\"DD MMM YYYY\")}\n                      </Typography>\n                      <IconButton\n                        size=\"small\"\n                        onClick={() => {\n                          setTempCheckinDate(checkinDate);\n                          setEditingCheckin(true);\n                        }}\n                        sx={{ ml: -1 }}\n                      >\n                        <EditIcon fontSize=\"small\" />\n                      </IconButton>\n                    </>\n                  )}\n                </Box>\n\n                {/* Editable Check-in Time - Only for hourly bookings */}\n                {bookingType === \"hourly\" && (\n                  <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1, mt: 1 }}>\n                    {editingTime ? (\n                      <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 1, width: \"100%\" }}>\n                        <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                          <FormControl size=\"small\" sx={{ minWidth: 120 }}>\n                            <InputLabel>Time</InputLabel>\n                            <Select\n                              value={tempCheckinTime}\n                              onChange={(e) => setTempCheckinTime(e.target.value)}\n                              label=\"Time\"\n                            >\n                              {timeSlots.map((time) => (\n                                <MenuItem key={time.value} value={time.value}>\n                                  {time.label}\n                                </MenuItem>\n                              ))}\n                            </Select>\n                          </FormControl>\n                          <TextField\n                            select\n                            size=\"small\"\n                            label=\"Duration\"\n                            value={tempSlotDuration}\n                            onChange={(e) => setTempSlotDuration(Number(e.target.value))}\n                            sx={{ minWidth: 100 }}\n                          >\n                            <MenuItem value={3}>3 hrs</MenuItem>\n                            <MenuItem value={6}>6 hrs</MenuItem>\n                            <MenuItem value={12}>12 hrs</MenuItem>\n                          </TextField>\n                        </Box>\n                        <Box sx={{ display: \"flex\", gap: 1 }}>\n                          <IconButton size=\"small\" onClick={handleTimeSave} sx={{ color: \"green\" }}>\n                            <CheckIcon />\n                          </IconButton>\n                          <IconButton size=\"small\" onClick={() => {\n                            setTempCheckinTime(checkinTime);\n                            setTempSlotDuration(slotDuration);\n                            setEditingTime(false);\n                          }} sx={{ color: \"red\" }}>\n                            <CloseIcon />\n                          </IconButton>\n                        </Box>\n                      </Box>\n                    ) : (\n                      <>\n                        <Typography sx={typoStyle}>\n                          <strong>Check-In Time:</strong>{\" \"}\n                          {checkinTime ? dayjs(checkinTime, \"HH:mm\").format(\"hh:mm A\") : \"Not set\"}\n                        </Typography>\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => {\n                            setTempCheckinTime(checkinTime);\n                            setTempSlotDuration(slotDuration);\n                            setEditingTime(true);\n                          }}\n                          sx={{ ml: -1 }}\n                        >\n                          <EditIcon fontSize=\"small\" />\n                        </IconButton>\n                      </>\n                    )}\n                  </Box>\n                )}\n\n                {/* Editable Check-out Date - Only for nightly bookings */}\n                {bookingType !== \"hourly\" && (\n                  <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1, mt: 1 }}>\n                    {editingCheckout ? (\n                      <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                        <TextField\n                          type=\"date\"\n                          size=\"small\"\n                          value={tempCheckOutDate}\n                          onChange={(e) => setTempCheckOutDate(e.target.value)}\n                          InputLabelProps={{ shrink: true }}\n                          sx={{ width: 150 }}\n                          InputProps={{\n                            sx: { height: 36 }\n                          }}\n                        />\n                        <IconButton size=\"small\" onClick={handleCheckoutDateSave} sx={{ color: \"green\" }}>\n                          <CheckIcon />\n                        </IconButton>\n                        <IconButton size=\"small\" onClick={() => {\n                          setTempCheckOutDate(checkOutDate);\n                          setEditingCheckout(false);\n                        }} sx={{ color: \"red\" }}>\n                          <CloseIcon />\n                        </IconButton>\n                      </Box>\n                    ) : (\n                      <>\n                        <Typography sx={typoStyle}>\n                          <strong>Check-Out Date:</strong>{\" \"}\n                          {dayjs(checkOutDate, \"YYYY-MM-DD\").format(\"DD MMM YYYY\")}\n                        </Typography>\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => {\n                            setTempCheckOutDate(checkOutDate);\n                            setEditingCheckout(true);\n                          }}\n                          sx={{ ml: -1 }}\n                        >\n                          <EditIcon fontSize=\"small\" />\n                        </IconButton>\n                      </>\n                    )}\n                  </Box>\n                )}\n\n                {/* Duration display */}\n                {bookingType === \"hourly\" ? (\n                  <Typography sx={typoStyle}>\n                    <strong>Duration: </strong>\n                    {slotDuration} hrs\n                  </Typography>\n                ) : (\n                  <Typography sx={typoStyle}>\n                    <strong>Nights: </strong>\n                    {nights} night{nights > 1 ? 's' : ''}\n                  </Typography>\n                )}\n\n                <Typography sx={typoStyle}>\n                  <strong>Room type:</strong> {room?.roomCategory}\n                </Typography>\n\n                {/* Auto-calculated Room Info */}\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                  <Typography sx={typoStyle}>\n                    <strong>Room Info: </strong>\n                    {requiredRooms} Room{requiredRooms && requiredRooms > 1 ? 's' : ''},\n                    {adults} Adult{adults && Number(adults) > 1 ? 's' : ''},\n                    {children} Child{children && Number(children) > 1 ? 'ren' : ''}\n                  </Typography>\n                </Box>\n\n                {/* Price source indicator */}\n                <Typography sx={{ fontSize: 12, color: color.forthColor, mt: 1, fontStyle: 'italic' }}>\n                  {getPriceSource()}  Price may vary by date and availability\n                </Typography>\n              </div>\n            </div>\n          </Box>\n\n          {/* Occupancy Information Panel */}\n          <Box sx={{\n            mt: 2,\n            p: 1.5,\n            bgcolor: '#f5f5f5',\n            borderRadius: '8px',\n            border: '1px solid #e0e0e0'\n          }}>\n            <Typography variant=\"caption\" sx={{ fontWeight: 600, color: color.forthColor, display: 'block', mb: 0.5 }}>\n              Room Occupancy Rules\n            </Typography>\n\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n              <Typography variant=\"caption\" sx={{\n                bgcolor: '#e3f2fd',\n                color: '#1976d2',\n                px: 1,\n                py: 0.5,\n                borderRadius: '4px'\n              }}>\n                Standard: {room?.standardRoomOccupancy || 1} guest{room?.standardRoomOccupancy > 1 ? 's' : ''}\n              </Typography>\n\n              <Typography variant=\"caption\" sx={{\n                bgcolor: '#fff3e0',\n                color: '#f57c00',\n                px: 1,\n                py: 0.5,\n                borderRadius: '4px'\n              }}>\n                Maximum: {room?.maxRoomOccupancy || 1} guest{room?.maxRoomOccupancy > 1 ? 's' : ''}\n              </Typography>\n\n              <Typography variant=\"caption\" sx={{\n                bgcolor: '#e8f5e9',\n                color: '#2e7d32',\n                px: 1,\n                py: 0.5,\n                borderRadius: '4px'\n              }}>\n                Your Guest: {Number(adults) + Number(children)} guest{(Number(adults) + Number(children)) > 1 ? 's' : ''}\n              </Typography>\n\n              <Typography variant=\"caption\" sx={{\n                bgcolor: '#f3e5f5',\n                color: '#7b1fa2',\n                px: 1,\n                py: 0.5,\n                borderRadius: '4px'\n              }}>\n                Rooms needed: {requiredRooms}\n              </Typography>\n            </Box>\n\n            {/* ROOM-WISE DISTRIBUTION */}\n            {guestsPerRoom && guestsPerRoom.length > 0 && (\n              <Box sx={{ mt: 2 }}>\n                <Typography variant=\"caption\" sx={{ fontWeight: 600, color: color.forthColor, display: 'block', mb: 0.5 }}>\n                  Room-wise Guest Distribution:\n                </Typography>\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n                  {guestsPerRoom.map((guests, index) => {\n                    const standardOccupancy = room?.standardRoomOccupancy || 1;\n                    const extraInRoom = guests > standardOccupancy ? guests - standardOccupancy : 0;\n                    \n                    return (\n                      <Typography key={index} variant=\"caption\" sx={{\n                        bgcolor: extraInRoom > 0 ? '#ffebee' : '#e8f5e9',\n                        color: extraInRoom > 0 ? '#c62828' : '#2e7d32',\n                        px: 1,\n                        py: 0.5,\n                        borderRadius: '4px'\n                      }}>\n                        Room {index + 1}: {guests} guest{guests !== 1 ? 's' : ''}\n                        {extraInRoom > 0 && ` (+${extraInRoom} extra)`}\n                      </Typography>\n                    );\n                  })}\n                </Box>\n              </Box>\n            )}\n\n            {/* EXTRA GUEST CHARGE NOTICE - Only show if there are extra guests */}\n            {extraGuestCount > 0 && (\n              <Box sx={{\n                mt: 1.5,\n                p: 1,\n                bgcolor: '#fff3e0',\n                borderRadius: '6px',\n                border: '1px solid #ffcc80'\n              }}>\n                <Typography variant=\"caption\" sx={{ fontWeight: 600, color: '#e65100', display: 'flex', alignItems: 'center', gap: 0.5, mb: 1 }}>\n                  <PersonAddIcon fontSize=\"small\" />\n                  Additional Guest Charges (Payable at Property):\n                </Typography>\n                <Box sx={{ ml: 2, mt: 0.5 }}>\n                  <Typography variant=\"caption\" sx={{ display: 'block' }}>\n                     {extraGuestCount} extra guest{extraGuestCount > 1 ? 's' : ''} across {requiredRooms} room{requiredRooms > 1 ? 's' : ''}\n                    (Standard occupancy: {room?.standardRoomOccupancy || 1} guest{room?.standardRoomOccupancy > 1 ? 's' : ''} per room)\n                  </Typography>\n                  \n                  <Typography variant=\"caption\" sx={{ display: 'block', fontWeight: 600, color: '#e65100', mt: 0.5 }}>\n                     Total extra charge:  {extraGuestCharge.toFixed(2)}\n                  </Typography>\n                  <Typography variant=\"caption\" sx={{ display: 'block', color: '#666', mt: 0.5 }}>\n                    Note: This amount will be collected directly by the property during check-in.\n                  </Typography>\n                </Box>\n              </Box>\n            )}\n          </Box>\n\n          {/* VALIDATION ERROR MESSAGE */}\n          {validationError && (\n            <Alert\n              severity=\"error\"\n              sx={{\n                mt: 3,\n                mb: 2,\n                borderRadius: 2,\n                '& .MuiAlert-message': {\n                  fontSize: '14px',\n                  fontWeight: 500\n                }\n              }}\n              onClose={() => setValidationError(null)}\n            >\n              {validationError}\n            </Alert>\n          )}\n\n          {/* GUEST FORM */}\n          <form onSubmit={formik.handleSubmit}>\n            <Typography\n              variant=\"h6\"\n              mt={4}\n              sx={{ color: color.firstColor, fontWeight: \"bold\" }}\n            >\n              Guest Information\n            </Typography>\n\n            {/* Guest Name */}\n            <CustomTextField\n              label=\"Guest Name *\"\n              name=\"name\"\n              fullWidth\n              margin=\"normal\"\n              value={formik.values.name}\n              onChange={(e) => handleFieldChange(\"name\", e.target.value)}\n              onBlur={formik.handleBlur}\n              error={formik.touched.name && Boolean(formik.errors.name)}\n              helperText={\n                formik.touched.name && formik.errors.name\n                  ? String(formik.errors.name)\n                  : \" \"\n              }\n              inputRef={nameFieldRef}\n              sx={{\n                '& .MuiFormHelperText-root': {\n                  color: 'red',\n                  fontSize: '12px',\n                  marginLeft: 1,\n                  marginTop: 0.5,\n                  fontWeight: 500,\n                },\n                '& .MuiOutlinedInput-root': {\n                  '&.Mui-error fieldset': {\n                    borderColor: 'red',\n                    borderWidth: '2px',\n                  }\n                }\n              }}\n            />\n\n            {/* PHONE NUMBER */}\n            <Box\n  sx={{\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: {\n      xs: \"80%\",\n      md: \"100%\",\n    },\n  }}\n>\n  <PhoneInput\n    country=\"in\"\n    onlyCountries={[\"in\"]}\n    disableDropdown\n    countryCodeEditable={false}\n    enableSearch={false}\n    value={formik.values.phoneNumber}\n    placeholder=\"Phone Number\"\n    onChange={(value) => formik.setFieldValue(\"phoneNumber\", value)}\n    onBlur={() => formik.setFieldTouched(\"phoneNumber\", true)}\n    inputStyle={{\n      width: \"100%\",\n      height: \"56px\",\n      borderRadius: \"52px\",\n      border: \"none\",\n      outline: \"none\",\n      boxShadow: \"4px 4px 10px rgba(104, 39, 184, 0.17)\",\n      color: color.firstColor,\n      paddingLeft: \"60px\",\n      fontSize: \"16px\",\n      backgroundColor: \"white\",\n    }}\n    buttonStyle={{\n      borderRadius: \"52px 0 0 52px\",\n      backgroundColor: \"white\",\n      border: \"none\",\n    }}\n    containerStyle={{\n      width: \"100%\",\n    }}\n    dropdownStyle={{\n      borderRadius: \"12px\",\n    }}\n  />\n\n  {formik.touched.phoneNumber && formik.errors.phoneNumber && (\n    <Typography\n      sx={{\n        color: \"red\",\n        fontSize: \"12px\",\n        mt: 0.5,\n        ml: \"14px\",\n      }}\n    >\n      {formik.errors.phoneNumber}\n    </Typography>\n  )}\n</Box>\n            {/* Email */}\n            <CustomTextField\n              label=\"Email Address (Optional)\"\n              name=\"email\"\n              fullWidth\n              margin=\"normal\"\n              value={formik.values.email}\n              onChange={(e) => handleFieldChange(\"email\", e.target.value)}\n              onBlur={formik.handleBlur}\n              error={formik.touched.email && Boolean(formik.errors.email)}\n              helperText={\n                formik.touched.email && formik.errors.email\n                  ? String(formik.errors.email)\n                  : \" \"\n              }\n              sx={{\n                '& .MuiFormHelperText-root': {\n                  fontSize: '12px',\n                  marginLeft: 1,\n                  marginTop: 0.5,\n                },\n              }}\n            />\n\n            {/* GST SECTION */}\n                   {/* GST SECTION - OPTIONAL */}\n<Box sx={{ mt: 3, mb: 2 }}>\n  <Box sx={{ \n    display: 'flex', \n    flexDirection: { xs: 'column', sm: 'row' }, \n    justifyContent: 'space-between', \n    alignItems: { xs: 'flex-start', sm: 'center' }, \n    mb: 1,\n    gap: { xs: 1, sm: 0 }\n  }}>\n    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n      <Typography\n        variant=\"subtitle1\"\n        sx={{ \n          color: color.firstColor, \n          fontWeight: \"bold\",\n          fontSize: { xs: '1rem', sm: '1.1rem' }\n        }}\n      >\n        GST Details(Optional)\n      </Typography>\n      \n      {/* GST Added Indicator */}\n      {gstinNumber && (\n        <Chip\n          label=\"GST Added \"\n          color=\"success\"\n          size=\"small\"\n          icon={<VerifiedIcon />}\n          sx={{ \n            fontSize: { xs: '0.7rem', sm: '0.8rem' },\n            height: { xs: 28, sm: 32 }\n          }}\n        />\n      )}\n    </Box>\n    \n    <Box sx={{ \n      display: 'flex', \n      gap: 1,\n      width: { xs: '100%', sm: 'auto' }\n    }}>\n      {/* Toggle Button - Only show \"Add GST\" when not added yet */}\n      {!gstinNumber ? (\n        <Button\n          size=\"small\"\n          variant={gstSectionOpen ? \"outlined\" : \"contained\"}\n          onClick={() => {\n            setGstSectionOpen(!gstSectionOpen);\n            if (isLoggedIn() && !gstSectionOpen) {\n              loadUserGSTRecords(getUserId());\n            }\n          }}\n          sx={{ \n            textTransform: 'none',\n            fontSize: { xs: '0.75rem', sm: '0.875rem' },\n            minWidth: { xs: '100px', sm: '120px' },\n            whiteSpace: 'nowrap',\n            bgcolor: gstSectionOpen ? 'transparent' : color.firstColor,\n            color: gstSectionOpen ? color.firstColor : 'white',\n            borderColor: gstSectionOpen ? color.firstColor : 'transparent',\n            '&:hover': {\n              bgcolor: gstSectionOpen ? '#f5f0ff' : color.firstColor,\n              borderColor: color.firstColor\n            }\n          }}\n        >\n          {gstSectionOpen ? 'Cancel' : 'Add GST'}\n        </Button>\n      ) : (\n        <Box sx={{ display: 'flex', gap: 1 }}>\n          <Button\n            size=\"small\"\n            variant=\"outlined\"\n            onClick={handleClearGST}\n            sx={{ \n              textTransform: 'none',\n              fontSize: { xs: '0.75rem', sm: '0.875rem' },\n              minWidth: { xs: '80px', sm: '100px' },\n              whiteSpace: 'nowrap',\n              borderColor: '#ff6b6b',\n              color: '#ff6b6b',\n              '&:hover': {\n                bgcolor: '#ffeaea',\n                borderColor: '#ff4444'\n              }\n            }}\n          >\n            Remove\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"outlined\"\n            onClick={() => setGstSectionOpen(!gstSectionOpen)}\n            sx={{ \n              textTransform: 'none',\n              fontSize: { xs: '0.75rem', sm: '0.875rem' },\n              minWidth: { xs: '100px', sm: '120px' },\n              whiteSpace: 'nowrap',\n              borderColor: color.firstColor,\n              color: color.firstColor,\n              '&:hover': {\n                bgcolor: '#f5f0ff'\n              }\n            }}\n          >\n            {gstSectionOpen ? 'Hide Details' : 'Change GST'}\n          </Button>\n        </Box>\n      )}\n    </Box>\n  </Box>\n\n  {/* Optional GST Notice */}\n  {!gstinNumber && !gstSectionOpen && (\n    <Box sx={{ \n      p: { xs: 1, sm: 1.5 },\n      borderRadius: 1.5,\n      bgcolor: '#f0f7ff',\n      border: '1px solid #cce5ff',\n      mb: 2\n    }}>\n      <Typography variant=\"body2\" sx={{ \n        color: '#0066cc',\n        fontSize: { xs: '0.8rem', sm: '0.9rem' },\n        display: 'flex',\n        alignItems: 'center',\n        gap: 1\n      }}>\n        <BusinessIcon fontSize=\"small\" />\n        Need a business invoice? Add your GST details to get a tax invoice with your booking.\n      </Typography>\n    </Box>\n  )}\n\n  {gstSectionOpen && (\n    <Box sx={{\n      p: { xs: 1.5, sm: 2 },\n      borderRadius: 2,\n      bgcolor: '#f8f9fa',\n      border: '1px solid #dee2e6',\n      animation: 'slideDown 0.3s ease-out'\n    }}>\n      {/* Loading state */}\n      {loadingGSTRecords && (\n        <Box sx={{ display: 'flex', justifyContent: 'center', my: 2 }}>\n          <CircularProgress size={24} />\n        </Box>\n      )}\n\n      {/* STEP 1: Show saved GST records if user is logged in */}\n      {isLoggedIn() && userGSTRecords.length > 0 && !showNewGSTForm && (\n        <Box sx={{ mb: 3 }}>\n          <Typography variant=\"body2\" sx={{ \n            mb: 1.5, \n            color: color.forthColor, \n            fontWeight: 600, \n            display: 'flex', \n            alignItems: 'center', \n            gap: 1,\n            fontSize: { xs: '0.85rem', sm: '0.9rem' }\n          }}>\n            <BusinessIcon fontSize=\"small\" />\n            Your Saved GST Records:\n          </Typography>\n          \n          <Box sx={{ \n            p: { xs: 1, sm: 2 }, \n            borderRadius: 2, \n            bgcolor: 'white', \n            border: '1px solid #e0e0e0',\n            maxHeight: { xs: '250px', sm: '300px' },\n            overflowY: 'auto'\n          }}>\n            {userGSTRecords.length === 0 ? (\n              <Box sx={{ \n                p: 3, \n                textAlign: 'center',\n                color: '#666'\n              }}>\n                <BusinessIcon sx={{ fontSize: 40, color: '#ddd', mb: 1 }} />\n                <Typography variant=\"body2\">\n                  No saved GST records found\n                </Typography>\n                <Typography variant=\"caption\">\n                  Add your first GSTIN to save it for future bookings\n                </Typography>\n              </Box>\n            ) : (\n              userGSTRecords.map((record, index) => {\n                const isVerified = record.verified === true || record.gstStatus === \"Active\";\n                const isSelected = selectedGSTRecord?.id === record.id || \n                                 selectedGSTRecord?._id === record._id;\n                \n                return (\n                  <Box \n                    key={record._id || record.id || index}\n                    sx={{\n                      p: { xs: 1, sm: 1.5 },\n                      mb: 1.5,\n                      borderRadius: 2,\n                      border: isSelected ? `2px solid ${color.firstColor}` : '1px solid #ddd',\n                      backgroundColor: isSelected ? '#f3e5f5' : 'white',\n                      cursor: 'pointer',\n                      '&:hover': {\n                        borderColor: color.firstColor,\n                        backgroundColor: '#faf5ff'\n                      }\n                    }}\n                    onClick={() => handleGSTRecordSelect(record)}\n                  >\n                    <Box sx={{ \n                      display: 'flex', \n                      flexDirection: { xs: 'column', sm: 'row' },\n                      justifyContent: 'space-between', \n                      alignItems: { xs: 'flex-start', sm: 'center' },\n                      gap: { xs: 1, sm: 0 }\n                    }}>\n                      <Box sx={{ flex: 1, width: '100%' }}>\n                        <Box sx={{ \n                          display: 'flex', \n                          flexDirection: { xs: 'column', sm: 'row' },\n                          alignItems: { xs: 'flex-start', sm: 'center' }, \n                          gap: { xs: 0.5, sm: 1 }, \n                          mb: 0.5 \n                        }}>\n                          <Typography variant=\"body2\" sx={{ \n                            fontWeight: 600,\n                            fontSize: { xs: '0.85rem', sm: '0.9rem' }\n                          }}>\n                            {record.gstNumber}\n                          </Typography>\n                          <Box sx={{ \n                            display: 'flex', \n                            alignItems: 'center', \n                            gap: 0.5,\n                            flexWrap: 'wrap'\n                          }}>\n                            {isVerified && (\n                              <Tooltip title=\"Verified GST\">\n                                <VerifiedIcon fontSize=\"small\" color=\"success\" />\n                              </Tooltip>\n                            )}\n                            {record.gstStatus && (\n                              <Chip \n                                label={record.gstStatus}\n                                size=\"small\"\n                                color={record.gstStatus === \"Active\" ? \"success\" : \"error\"}\n                                variant=\"outlined\"\n                                sx={{ height: 20, fontSize: '0.65rem' }}\n                              />\n                            )}\n                          </Box>\n                        </Box>\n                        <Typography variant=\"caption\" sx={{ \n                          color: '#666', \n                          display: 'block', \n                          mb: 0.5,\n                          fontSize: { xs: '0.75rem', sm: '0.8rem' }\n                        }}>\n                          {record.legalName}\n                        </Typography>\n                        <Typography variant=\"caption\" sx={{ \n                          color: '#888', \n                          display: 'block', \n                          fontSize: { xs: '0.7rem', sm: '0.75rem' }\n                        }}>\n                          {record.address}\n                        </Typography>\n                      </Box>\n                      \n                      <Box sx={{ \n                        display: 'flex', \n                        alignItems: 'center', \n                        gap: 0.5,\n                        width: { xs: '100%', sm: 'auto' },\n                        justifyContent: { xs: 'flex-end', sm: 'flex-start' },\n                        mt: { xs: 1, sm: 0 }\n                      }}>\n                        {isSelected ? (\n                          <Chip \n                            label=\"Selected\" \n                            size=\"small\" \n                            color=\"success\" \n                            icon={<CheckIcon />}\n                            sx={{ height: 24, fontSize: '0.7rem' }}\n                          />\n                        ) : (\n                          <Button \n                            size=\"small\" \n                            variant=\"outlined\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleGSTRecordSelect(record);\n                            }}\n                            sx={{ \n                              fontSize: '0.75rem',\n                              minWidth: '70px'\n                            }}\n                          >\n                            Select\n                          </Button>\n                        )}\n                        \n                        <Box sx={{ display: 'flex', gap: 0.5 }}>\n                          <Tooltip title=\"Copy GSTIN\">\n                            <IconButton \n                              size=\"small\"\n                              sx={{ fontSize: { xs: '0.8rem', sm: '1rem' } }}\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                handleCopyGSTIN(record.gstNumber);\n                              }}\n                            >\n                              <CopyIcon fontSize=\"small\" />\n                            </IconButton>\n                          </Tooltip>\n                          \n                          <Tooltip title=\"Remove from account\">\n                            <IconButton \n                              size=\"small\" \n                              color=\"error\"\n                              sx={{ fontSize: { xs: '0.8rem', sm: '1rem' } }}\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                handleDeleteGST(record.id || record._id);\n                              }}\n                              disabled={deletingGST === (record.id || record._id)}\n                            >\n                              {deletingGST === (record.id || record._id) ? (\n                                <CircularProgress size={16} />\n                              ) : (\n                                <DeleteIcon fontSize=\"small\" />\n                              )}\n                            </IconButton>\n                          </Tooltip>\n                        </Box>\n                      </Box>\n                    </Box>\n                  </Box>\n                );\n              })\n            )}\n          </Box>\n          \n          {/* Add New GST Button */}\n          <Box sx={{ \n            display: 'flex', \n            justifyContent: 'center', \n            mt: 2 \n          }}>\n            <Button\n              startIcon={<AddIcon />}\n              variant=\"outlined\"\n              onClick={handleAddNewGST}\n              sx={{ \n                textTransform: 'none',\n                fontSize: { xs: '0.8rem', sm: '0.875rem' }\n              }}\n            >\n              Add New GST\n            </Button>\n          </Box>\n        </Box>\n      )}\n\n      {/* STEP 2: Show GST verification form when adding new GST or if no saved records */}\n      {(showNewGSTForm || !isLoggedIn() || (isLoggedIn() && userGSTRecords.length === 0)) && (\n        <Box>\n          <Typography variant=\"body2\" sx={{ \n            mb: 2, \n            color: color.forthColor, \n            fontWeight: 600,\n            fontSize: { xs: '0.9rem', sm: '1rem' }\n          }}>\n            {showNewGSTForm ? 'Add New GSTIN' : 'Enter GSTIN for Business Invoice'}\n          </Typography>\n          \n          {/* GSTIN Input */}\n          <Box sx={{ mb: 2 }}>\n            <Box sx={{ \n              display: 'flex', \n              flexDirection: { xs: 'column', sm: 'row' },\n              alignItems: { xs: 'stretch', sm: 'center' }, \n              gap: { xs: 1, sm: 1 }, \n              mb: 1 \n            }}>\n              <CustomTextField\n                label=\"GSTIN Number\"\n                fullWidth\n                value={gstinNumber}\n                onChange={(e) => {\n                  const value = e.target.value.toUpperCase();\n                  setGstinNumber(value);\n                  // Auto-verify if 15 characters entered\n                  if (value.length === 15) {\n                    const gstinRegex = /^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/i;\n                    if (!gstinRegex.test(value)) {\n                      toast.error(\"Invalid GSTIN format. Please check the number.\");\n                      setGstVerificationStatus(\"invalid\");\n                    }\n                  }\n                }}\n                placeholder=\"Enter 15-digit GSTIN\"\n                inputRef={gstinFieldRef}\n                disabled={gstVerificationStatus === \"verified\"}\n                sx={{ flex: 1 }}\n                size=\"small\"\n              />\n              \n              <Box sx={{ \n                display: 'flex', \n                alignItems: 'center',\n                gap: 1\n              }}>\n                {gstVerificationStatus === \"verified\" && (\n                  <Tooltip title=\"GSTIN Verified\">\n                    <VerifiedIcon color=\"success\" sx={{ \n                      fontSize: { xs: 24, sm: 28 } \n                    }} />\n                  </Tooltip>\n                )}\n                \n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  onClick={handleVerifyGST}\n                  disabled={verifyingGst || gstVerificationStatus === \"verified\" || gstinNumber.length !== 15}\n                  sx={{ \n                    textTransform: 'none', \n                    bgcolor: color.firstColor,\n                    fontSize: { xs: '0.75rem', sm: '0.875rem' },\n                    minWidth: { xs: '100px', sm: '120px' },\n                    height: { xs: '36px', sm: '40px' }\n                  }}\n                  startIcon={verifyingGst ? <CircularProgress size={16} color=\"inherit\" /> : null}\n                >\n                  {verifyingGst ? 'Verifying...' : gstVerificationStatus === \"verified\" ? 'Verified' : 'Verify'}\n                </Button>\n              </Box>\n            </Box>\n            \n            {gstVerificationStatus === \"invalid\" && (\n              <Alert \n                severity=\"error\" \n                sx={{ \n                  mt: 1,\n                  fontSize: '0.8rem',\n                  py: 0.5\n                }}\n              >\n                Invalid GSTIN format. Please enter a valid 15-digit GSTIN.\n              </Alert>\n            )}\n            \n            {gstinNumber.length > 0 && gstinNumber.length < 15 && (\n              <Typography variant=\"caption\" sx={{ \n                color: 'warning.main', \n                display: 'block', \n                mt: 0.5,\n                fontSize: '0.75rem'\n              }}>\n                Enter 15-digit GSTIN to verify\n              </Typography>\n            )}\n          </Box>\n\n          {/* Show verified GST details */}\n          {gstVerificationStatus === \"verified\" && (\n            <>\n              <CustomTextField\n                label=\"Legal Business Name\"\n                fullWidth\n                margin=\"normal\"\n                size=\"small\"\n                value={legalName}\n                onChange={(e) => setLegalName(e.target.value)}\n                InputProps={{\n                  startAdornment: (\n                    <Tooltip title=\"Verified\">\n                      <VerifiedIcon color=\"success\" sx={{ mr: 1, fontSize: 20 }} />\n                    </Tooltip>\n                  )\n                }}\n                sx={{ mb: 2 }}\n              />\n\n              <CustomTextField\n                label=\"Registered Business Address\"\n                fullWidth\n                margin=\"normal\"\n                size=\"small\"\n                multiline\n                rows={2}\n                value={gstAddress}\n                onChange={(e) => setGstAddress(e.target.value)}\n                InputProps={{\n                  startAdornment: (\n                    <Tooltip title=\"Verified\">\n                      <VerifiedIcon color=\"success\" sx={{ mr: 1, fontSize: 20 }} />\n                    </Tooltip>\n                  )\n                }}\n                sx={{ mb: 2 }}\n              />\n\n              <Alert \n                severity=\"success\" \n                sx={{ \n                  mb: 2,\n                  fontSize: '0.9rem'\n                }}\n                icon={<VerifiedIcon />}\n              >\n                <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                  GSTIN verified successfully!\n                </Typography>\n                <Typography variant=\"caption\">\n                  This GST will be added to your invoice\n                </Typography>\n              </Alert>\n              \n              {/* For logged-in users: Show message that GST will be saved to account */}\n              {isLoggedIn() && (\n                <Typography variant=\"caption\" sx={{ \n                  color: '#666', \n                  display: 'block', \n                  textAlign: 'center', \n                  mt: 1,\n                  fontSize: '0.8rem'\n                }}>\n                  This GST record will be saved to your account for future bookings\n                </Typography>\n              )}\n            </>\n          )}\n          \n          {/* Back button for logged-in users with existing records */}\n          {isLoggedIn() && userGSTRecords.length > 0 && showNewGSTForm && (\n            <Box sx={{ \n              display: 'flex', \n              justifyContent: 'center', \n              mt: 2 \n            }}>\n              <Button\n                variant=\"text\"\n                size=\"small\"\n                onClick={() => {\n                  setShowNewGSTForm(false);\n                  setGstinNumber(\"\");\n                  setLegalName(\"\");\n                  setGstAddress(\"\");\n                  setGstVerificationStatus(\"none\");\n                }}\n                sx={{ \n                  textTransform: 'none',\n                  fontSize: '0.8rem'\n                }}\n              >\n                 Back to Saved GST Records\n              </Button>\n            </Box>\n          )}\n        </Box>\n      )}\n\n      {/* STEP 3: Show selected GST summary */}\n      {selectedGSTRecord && (\n        <Alert \n          severity=\"success\" \n          sx={{ \n            mt: 2,\n            fontSize: '0.9rem'\n          }}\n          icon={<CheckIcon />}\n        >\n          <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n            Selected GST for Invoice:\n          </Typography>\n          <Box sx={{ ml: 1, mt: 0.5 }}>\n            <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n              {selectedGSTRecord.gstNumber}\n            </Typography>\n            <Typography variant=\"caption\" sx={{ color: '#388e3c', display: 'block' }}>\n              {selectedGSTRecord.legalName}\n            </Typography>\n            <Typography variant=\"caption\" sx={{ color: '#666', display: 'block', mt: 0.5 }}>\n              {selectedGSTRecord.address}\n            </Typography>\n          </Box>\n          <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 1 }}>\n            <Button\n              size=\"small\"\n              color=\"error\"\n              onClick={handleClearGST}\n              sx={{ fontSize: '0.75rem' }}\n            >\n              Remove GST\n            </Button>\n          </Box>\n        </Alert>\n      )}\n      \n      {/* Optional GST Notice inside section */}\n      {!gstinNumber && (\n        <Box sx={{ \n          p: { xs: 1, sm: 1.5 },\n          borderRadius: 1.5,\n          bgcolor: '#f0f7ff',\n          border: '1px solid #cce5ff',\n          mt: 2\n        }}>\n          <Typography variant=\"body2\" sx={{ \n            color: '#0066cc',\n            fontSize: { xs: '0.8rem', sm: '0.9rem' },\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          }}>\n            <InfoIcon fontSize=\"small\" />\n            <strong>Optional:</strong> Add GST only if you need a business invoice. You can proceed without GST for personal bookings.\n          </Typography>\n        </Box>\n      )}\n    </Box>\n  )}\n</Box>\n\n            {/* Coupon Section - Auto Applied */}\n            <Box sx={{ mt: 3, mb: 2 }}>\n              <Typography\n                variant=\"subtitle1\"\n                sx={{ color: color.firstColor, fontWeight: \"bold\", mb: 1 }}\n              >\n                Huts4u Discount\n              </Typography>\n\n              {couponApplied ? (\n                <Box sx={{\n                  p: 2,\n                  borderRadius: 2,\n                  bgcolor: \"#e8f5e9\",\n                  border: \"1px solid #c8e6c9\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\"\n                }}>\n                  <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                    <OfferIcon color=\"success\" />\n                    <Box>\n                      <Typography sx={{ fontWeight: 600, color: \"#2e7d32\" }}>\n                        HUTS4U Discount Applied\n                      </Typography>\n                      <Typography variant=\"body2\" sx={{ color: \"#388e3c\" }}>\n                        discount on total amount\n                      </Typography>\n                      <Typography variant=\"caption\" sx={{ color: \"#666\", display: \"block\", mt: 0.5 }}>\n                        You saved  {couponDiscount.toFixed(2)}\n                      </Typography>\n                    </Box>\n                  </Box>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"error\"\n                    size=\"small\"\n                    onClick={handleRemoveCoupon}\n                  >\n                    Remove\n                  </Button>\n                </Box>\n              ) : (\n                <Box sx={{\n                  p: 2,\n                  borderRadius: 2,\n                  bgcolor: \"#fff3e0\",\n                  border: \"1px solid #ffcc80\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\"\n                }}>\n                  <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                    <OfferIcon color=\"warning\" />\n                    <Box>\n                      <Typography sx={{ fontWeight: 600, color: \"#e65100\" }}>\n                        Huts4u Discount Available\n                      </Typography>\n                    </Box>\n                  </Box>\n                  <Button\n                    variant=\"contained\"\n                    sx={{ background: color.firstColor }}\n                    size=\"small\"\n                    onClick={handleApplyCoupon}\n                  >\n                    Apply\n                  </Button>\n                </Box>\n              )}\n\n              {couponApplied && (\n                <Typography sx={{ color: \"green\", fontSize: 12, mt: 1, textAlign: \"center\" }}>\n                    Huts4u Discount automatically applied to your booking\n                </Typography>\n              )}\n            </Box>\n\n            {/* Terms acceptance checkbox */}\n            <Box sx={{ mt: 2 }}>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={termsChecked}\n                    onChange={(e) => {\n                      setTermsChecked(e.target.checked);\n                      // Clear validation error when user checks terms\n                      if (validationError && e.target.checked) {\n                        setValidationError(null);\n                      }\n                    }}\n                    color=\"primary\"\n                  />\n                }\n                label={\n                  <span>\n                    I accept the{\" \"}\n                    <span\n                      style={{\n                        color: color.firstColor,\n                        cursor: \"pointer\",\n                        textDecoration: \"underline\",\n                      }}\n                      onClick={() => setTermsOpen(true)}\n                    >\n                      Terms & Conditions\n                    </span>\n                  </span>\n                }\n              />\n            </Box>\n\n            {/* Submit button with improved validation - DISABLED until all conditions are met */}\n            <CustomButton\n              variant=\"contained\"\n              color=\"primary\"\n              fullWidth\n              sx={{\n                mt: 2,\n                opacity: isFormValid() ? 1 : 0.7,\n                '&:disabled': {\n                  backgroundColor: '#e0e0e0',\n                  color: '#9e9e9e',\n                  cursor: 'not-allowed',\n                }\n              }}\n              type=\"submit\"\n              disabled={!isFormValid()}\n            >\n              {isLoggedIn() ? 'Pay Now' : 'Verify Phone & Pay'}\n            </CustomButton>\n\n            <LoginOtpModal\n              open={showOtpModal}\n              onClose={() => setShowOtpModal(false)}\n              onVerificationSuccess={handleOtpSuccess}\n              phone={otpData.phone}\n              name={otpData.name}\n              email={otpData.email}\n              token={otpData.token}\n            />\n\n            {/* Razorpay - STEP 3: Pass GST data to booking payload */}\n            {orderDetails && (\n              <RenderRazorpay\n                orderDetails={orderDetails}\n                amount={grandTotal}\n                bookingDetails={{\n                  hotel,\n                  room,\n                  guestInfo: formik.values,\n                  gstDetails: gstVerificationStatus === \"verified\" ? {\n                    gstNumber: gstinNumber,\n                    legalName,\n                    address: gstAddress,\n                    verified: true,\n                    gstRecordId: selectedGSTRecord?.id || selectedGSTRecord?._id,\n                    gstStatus: selectedGSTRecord?.gstStatus || \"Active\",\n                  } : null,\n                  timing: calculateCheckoutTime(),\n                  pricingDetails: {\n                    ...priceBreakdown,\n                    nights,\n                    rooms: requiredRooms.toString(),\n                    adults,\n                    children,\n                    bookingType,\n                    checkinDate,\n                    checkOutDate,\n                    checkinTime,\n                    slotDuration,\n                    extraGuestCount,\n                    extraGuestCharge,\n                    guestsPerRoom,\n                    inventoryData,\n                    unitBase: inventoryUnitBase,\n                  },\n                  bookingType,\n                  rooms: requiredRooms.toString(),\n                  adults,\n                  children,\n                }}\n              />\n            )}\n          </form>\n        </CardContent>\n      </Card>\n\n      {/* RIGHT: BILL SUMMARY */}\n      <Card\n        sx={{\n          p: 1,\n          background: \"white\",\n          border: \"none\",\n          boxShadow: 0,\n          borderRadius: \"12px\",\n          height: \"fit-content\",\n          minWidth: { md: \"350px\" },\n        }}\n      >\n        <CardContent>\n          <Typography\n            variant=\"h6\"\n            gutterBottom\n            sx={{ color: color.firstColor, fontWeight: \"bold\" }}\n          >\n            Your Bill Summary\n          </Typography>\n\n          {/* GST Info Badge if GST is added */}\n          {gstVerificationStatus === \"verified\" && (\n            <Box sx={{ \n              mb: 2, \n              p: 1.5, \n              bgcolor: \"#e8f5e9\", \n              borderRadius: 1,\n              border: \"1px solid #c8e6c9\",\n              display: 'flex',\n              alignItems: 'center',\n              gap: 1\n            }}>\n              <VerifiedIcon color=\"success\" fontSize=\"small\" />\n              <Box>\n                <Typography variant=\"body2\" sx={{ fontWeight: 600, color: \"#2e7d32\" }}>\n                  GST Invoice Enabled\n                </Typography>\n                <Typography variant=\"caption\" sx={{ color: \"#388e3c\", display: \"block\" }}>\n                  GSTIN: {gstinNumber}\n                </Typography>\n                <Typography variant=\"caption\" sx={{ color: \"#666\", display: \"block\" }}>\n                  {legalName}\n                </Typography>\n              </Box>\n            </Box>\n          )}\n\n          {/* Price Source Indicator */}\n          <Box sx={{ \n            mb: 2, \n            p: 1.5, \n            bgcolor: \"#e3f2fd\", \n            borderRadius: 1,\n            border: \"1px solid #bbdefb\"\n          }}>\n            <Typography variant=\"body2\" sx={{ fontWeight: 600, color: \"#1565c0\" }}>\n              {getPriceSource()}\n            </Typography>\n            <Typography variant=\"caption\" sx={{ color: \"#1976d2\", display: \"block\", mt: 0.5 }}>\n              {bookingType === \"hourly\"\n                ? `${slotDuration} hrs  ${requiredRooms} room${requiredRooms && requiredRooms > 1 ? 's' : ''}`\n                : `${nights} night${nights > 1 ? 's' : ''}  ${requiredRooms} room${requiredRooms && requiredRooms > 1 ? 's' : ''}`}\n            </Typography>\n            {couponApplied && (\n              <Typography variant=\"caption\" sx={{ color: \"green\", fontWeight: 600, mt: 0.5, display: 'block' }}>\n                  Huts4u Discount Applied\n              </Typography>\n            )}\n          </Box>\n\n          {/* EXTRA GUEST CHARGE NOTICE */}\n          {extraGuestCount > 0 && (\n            <Box sx={{\n              mb: 2,\n              p: 1.5,\n              bgcolor: '#fff3e0',\n              borderRadius: '8px',\n              border: '1px solid #ffcc80'\n            }}>\n              <Typography variant=\"caption\" sx={{ fontWeight: 600, color: '#e65100', display: 'flex', alignItems: 'center', gap: 0.5, mb: 1 }}>\n                <PersonAddIcon fontSize=\"small\" />\n                Additional Guest Charges\n              </Typography>\n              <Typography variant=\"body2\" sx={{ ml: 2 }}>\n                {extraGuestCount} extra guest{extraGuestCount > 1 ? 's' : ''}:  {extraGuestCharge.toFixed(2)}\n              </Typography>\n              <Typography variant=\"caption\" sx={{ display: 'block', color: '#666', mt: 1, fontStyle: 'italic' }}>\n                Note: This amount will be collected directly by the property during check-in.\n              </Typography>\n            </Box>\n          )}\n\n          {/* TOP: Compact price view */}\n          <div\n            style={{\n              marginTop: \"10px\",\n              display: \"flex\",\n              flexWrap: \"wrap\",\n              flexDirection: \"column\",\n              gap: \"8px\",\n              alignItems: \"flex-end\",\n            }}\n          >\n            {/* 1) Top struck-through bigger: base + 700 */}\n            <Typography\n              sx={{\n                fontSize: \"16px\",\n                color: color.forthColor,\n                textDecoration: \"line-through\",\n                fontWeight: 600,\n                opacity: 0.95,\n              }}\n            >\n              {displayBase > 0\n                ? ` ${displayBasePlus700.toFixed(0)}`\n                : \"---\"}\n            </Typography>\n\n            {/* 2) Main bold price = base + platform */}\n            <Typography\n              sx={{\n                fontSize: \"24px\",\n                color: color.firstColor,\n                fontWeight: \"bold\",\n              }}\n            >\n              {displayCombinedBasePlatform > 0\n                ? ` ${displayCombinedBasePlatform.toFixed(0)}`\n                : \"\"}\n            </Typography>\n\n            {/* 3) GST breakdown */}\n            <Typography\n              sx={{\n                fontSize: \"13px\",\n                color: color.forthColor,\n                textAlign: \"right\",\n              }}\n            >\n              {displayGstTotal > 0 ? (\n                <>{displayGstTotal.toFixed(0)} taxes &amp; fees</>\n              ) : (\n                \"\"\n              )}\n            </Typography>\n            <Divider sx={{ width: \"100%\", mt: 1 }} />\n\n            {/* 4) Final total */}\n            <div style={{ width: \"100%\", textAlign: \"right\" }}>\n              {/* Show coupon amount if applied */}\n              {couponDiscount > 0 && couponApplied && (\n                <>\n                  <Typography sx={{ fontSize: 13, color: color.forthColor }}>\n                    Subtotal before discount:  {totalWithoutDiscount.toFixed(2)}\n                  </Typography>\n                  <Typography\n                    sx={{\n                      fontSize: 14,\n                      color: \"green\",\n                      fontWeight: 600,\n                    }}\n                  >\n                     Huts4u Discount: -  {couponDiscount.toFixed(2)}\n                  </Typography>\n                </>\n              )}\n\n              <Typography\n                sx={{\n                  fontSize: \"16px\",\n                  color: color.firstColor,\n                  fontWeight: \"700\",\n                  mt: (couponDiscount > 0 && couponApplied) ? 1 : 0,\n                }}\n              >\n                {finalPrice > 0\n                  ? `Final:  ${payableAfterCoupon.toFixed(2)}`\n                  : \"---\"}\n              </Typography>\n            </div>\n          </div>\n\n          {/* DETAILED INVOICE-STYLE BREAKUP */}\n          <Box\n            sx={{\n              mt: 3,\n              borderRadius: 2,\n              border: \"1px dashed #ddd\",\n              p: 2,\n              backgroundColor: \"#fafafa\",\n            }}\n          >\n            <Typography\n              sx={{\n                fontSize: 13,\n                fontWeight: 600,\n                mb: 1,\n                color: color.forthColor,\n              }}\n            >\n              Detailed Breakup\n            </Typography>\n\n            {/* 1. Base Price + Hotel GST */}\n            <Typography sx={{ fontSize: 13 }}>\n              <strong>1. Base Price (Reimbursement)</strong>{\" \"}\n              <span style={{ fontSize: 11 }}>(HSN 9985)</span>\n              <span style={{ float: \"right\" }}>\n                 {(totalBase + gstOnBase).toFixed(2)}\n              </span>\n            </Typography>\n\n            {/* 2. Service Charges + CGST + SGST */}\n            <Typography sx={{ fontSize: 13, mt: 1 }}>\n              <strong>2. Service Charges</strong>{\" \"}\n              <span style={{ fontSize: 11 }}>(HSN 996111)</span>\n              <span style={{ float: \"right\" }}>\n                 {serviceTaxableValue.toFixed(2)}\n              </span>\n            </Typography>\n            <Typography sx={{ fontSize: 12, ml: 2, mt: 0.3 }}>\n              CGST @ 9% on Service\n              <span style={{ float: \"right\" }}>\n                 {cgstOnService.toFixed(2)}\n              </span>\n            </Typography>\n            <Typography sx={{ fontSize: 12, ml: 2 }}>\n              SGST @ 9% on Service\n              <span style={{ float: \"right\" }}>\n                 {sgstOnService.toFixed(2)}\n              </span>\n            </Typography>\n\n            {/* 3. Convenience Fees (Incl. GST) */}\n            <Typography sx={{ fontSize: 13, mt: 1 }}>\n              <strong>3. Convenience Fees (Incl. GST)</strong>{\" \"}\n              <span style={{ fontSize: 11 }}>(Reimbursement, HSN 9985)</span>\n              <span style={{ float: \"right\" }}>\n                 {convenienceFeeInclGst.toFixed(2)}\n              </span>\n            </Typography>\n\n            <Divider sx={{ my: 1.5 }} />\n\n            {/* SUBTOTAL BEFORE DISCOUNT */}\n            <Box sx={{ display: \"flex\", justifyContent: \"space-between\", mb: 1 }}>\n              <Typography sx={{ fontSize: 14, fontWeight: 600 }}>\n                Subtotal:\n              </Typography>\n              <Typography sx={{ fontSize: 14, fontWeight: 600 }}>\n                 {totalWithoutDiscount.toFixed(2)}\n              </Typography>\n            </Box>\n\n            {/* DISCOUNT - Only show if applied */}\n            {couponApplied && couponDiscount > 0 && (\n              <Box sx={{ display: \"flex\", justifyContent: \"space-between\", mb: 1.5 }}>\n                <Typography sx={{ fontSize: 14, fontWeight: 600, color: \"green\" }}>\n                  Huts4u Discount:\n                </Typography>\n                <Typography sx={{ fontSize: 14, fontWeight: 600, color: \"green\" }}>\n                  -  {couponDiscount.toFixed(2)}\n                </Typography>\n              </Box>\n            )}\n\n            <Divider sx={{ my: 1 }} />\n\n            {/* FINAL TOTAL PAYABLE */}\n            <Box sx={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", mt: 1.5 }}>\n              <Typography sx={{ fontSize: 16, fontWeight: 700, color: color.firstColor }}>\n                Total Payable\n              </Typography>\n              <Typography sx={{ fontSize: 18, fontWeight: 700, color: color.firstColor }}>\n                 {grandTotal.toFixed(2)}\n              </Typography>\n            </Box>\n\n            {/* GST Invoice Note if GST is added */}\n            {gstVerificationStatus === \"verified\" && (\n              <Box sx={{ \n                mt: 1.5, \n                p: 1.5, \n                bgcolor: \"#e8f5e9\", \n                borderRadius: 1,\n                border: \"1px solid #c8e6c9\"\n              }}>\n                <Typography sx={{ \n                  fontSize: 13, \n                  color: \"#2e7d32\", \n                  fontWeight: 600, \n                  textAlign: \"center\",\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  gap: 1\n                }}>\n                  <VerifiedIcon fontSize=\"small\" />\n                  GST Invoice will be generated with your booking\n                </Typography>\n              </Box>\n            )}\n\n            {/* Additional savings note */}\n            {couponApplied && couponDiscount > 0 && (\n              <Box sx={{ mt: 1.5, p: 1.5, bgcolor: \"#e8f5e9\", borderRadius: 1 }}>\n                <Typography sx={{ fontSize: 13, color: \"#2e7d32\", fontWeight: 600, textAlign: \"center\" }}>\n                   You saved  {couponDiscount.toFixed(2)} with Huts4u Discount!\n                </Typography>\n              </Box>\n            )}\n          </Box>\n        </CardContent>\n      </Card>\n\n      {/* Terms & Conditions Dialog */}\n      <Dialog\n        open={termsOpen}\n        onClose={() => setTermsOpen(false)}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogTitle>Terms & Conditions</DialogTitle>\n        <DialogContent>\n          <Typography variant=\"body2\" sx={{ whiteSpace: \"pre-line\" }}>\n            {termsText}\n          </Typography>\n          <Typography\n            variant=\"body2\"\n            sx={{\n              color: color.firstColor,\n              textDecoration: \"underline\",\n              cursor: \"pointer\",\n              fontWeight: 600,\n            }}\n            onClick={() => window.open(\"https://huts4u.com/terms\", \"_blank\")}\n          >\n            Open Huts4u Terms & Conditions\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => {\n              setTermsOpen(false);\n            }}\n          >\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default BookingSummary;\n\nconst typoStyle = {\n  borderRadius: \"52px\",\n  boxShadow: \"4px 4px 10px rgba(104, 39, 184, 0.17)\",\n  color: color.firstColor,\n  background: \"white\",\n  fontSize: { xs: \"12px\", md: \"14px\" },\n  width: \"fit-content\",\n  p: 1,\n  px: 2,\n  mb: 1,\n};","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z\"\n}), 'Add');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z\"\n}), 'Business');"],"names":["createSvgIcon","_jsx","d","getCheckboxUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CheckboxRoot","styled","SwitchBase","shouldForwardProp","prop","rootShouldForwardProp","name","overridesResolver","props","styles","ownerState","root","indeterminate","concat","capitalize","size","color","memoTheme","_ref","theme","vars","palette","text","secondary","variants","disableRipple","style","backgroundColor","action","activeChannel","hoverOpacity","alpha","active","Object","entries","filter","createSimplePaletteValueFilter","map","_ref2","mainChannel","main","_ref3","checkboxClasses","checked","disabled","defaultCheckedIcon","CheckBoxIcon","defaultIcon","CheckBoxOutlineBlankIcon","defaultIndeterminateIcon","IndeterminateCheckBoxIcon","Checkbox","React","inProps","ref","_slotProps$input","_icon$props$fontSize","_indeterminateIcon$pr","useDefaultProps","checkedIcon","icon","iconProp","indeterminateIcon","indeterminateIconProp","inputProps","className","slots","slotProps","other","_objectWithoutProperties","_objectSpread","classes","composedClasses","composeClasses","useUtilityClasses","externalInputProps","input","RootSlot","rootSlotProps","useSlot","elementType","clsx","shouldForwardComponentProp","externalForwardedProps","additionalProps","type","fontSize","mergeSlotProps","orderDetails","bookingDetails","checkedInTimes","setCheckInTimes","useState","checkedOutTimes","setCheckOutTimes","open","setOpen","useNavigate","console","log","useEffect","_bookingDetails$room","bookingType","getOneRoomData","room","id","then","res","_res$data","_res$data$data","_res$data2","_res$data2$data","data","checkInTime","checkOutTime","handleClose","children","_jsxs","Dialog","onClose","maxWidth","fullWidth","sx","padding","borderRadius","DialogTitle","DialogContent","DialogActions","display","justifyContent","Button","textTransform","onClick","async","_bookingDetails$guest","_bookingDetails$guest2","_bookingDetails$guest3","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","window","Razorpay","alert","timingDetails","getTimingDetails","_bookingDetails$timin","_bookingDetails$timin2","_bookingDetails$timin3","_bookingDetails$timin4","timing","options","key","R_KEY_ID","amount","currency","order_id","prefill","guestInfo","email","contact","phoneNumber","handler","_bookingDetails$hotel","_bookingDetails$room2","_bookingDetails$guest4","_bookingDetails$timin5","_bookingDetails$timin6","_bookingDetails$hotel2","_res$data3","_res$data3$data","verifyPayment","orderId","response","razorpay_order_id","paymentId","razorpay_payment_id","signature","razorpay_signature","payLoad","userId","getUserId","hotelId","hotel","roomId","geustName","amountPaid","checkInDate","checkOutDate","geustDetails","adults","hotelName","propertyName","status","rooms","gstDetails","GstDetail","postBooking","_res$data4","_res$data4$data","_bookingDetails$hotel3","_bookingDetails$room3","_res$data5","_res$data5$data","_bookingDetails$prici","_bookingDetails$prici2","_bookingDetails$prici3","_bookingDetails$prici4","_res$data6","_res$data6$data","_res$data7","_res$data7$data","_bookingDetails$timin7","_res$data8","_res$data8$data","_bookingDetails$hotel4","_res$data9","_res$data9$data","_bookingDetails$room4","_bookingDetails$prici5","_bookingDetails$prici6","_bookingDetails$prici7","_bookingDetails$prici8","_res$data0","_res$data0$data","_bookingDetails$timin8","_res$data1","_bookingDetails$guest5","_bookingDetails$hotel5","_bookingDetails$hotel6","_bookingDetails$timin9","_bookingDetails$guest6","_bookingDetails$prici9","_bookingDetails$prici0","_bookingDetails$prici1","_bookingDetails$prici10","_bookingDetails$prici11","_bookingDetails$prici12","_bookingDetails$prici13","_bookingDetails$prici14","_bookingDetails$prici15","_bookingDetails$prici16","_bookingDetails$timin0","_bookingDetails$hotel7","_bookingDetails$hotel8","payoutPayLoad","bookingId","amountPaise","feePaise","pricingDetails","platformFee","gstOnPlatform","netAmountPaise","basePrice","gstOnBase","bookingsIncluded","bookingDate","scheduledAt","dayjs","toDate","transactionRef","gatewayResponse","failureReason","processedBy","note","mypaymentPayload","netmyAmountPaise","initiatedAt","Date","processedAt","createMyPayment","catch","err","createHotelPayment","toast","msg","messagetamplet","guestName","location","address","format","phone","razorpayfee","gstTotal","totalPrice","hotelEmail","receptionEmail","receptionistPhone","receptionMobile","bookingConfirm","href","error","variant","background","firstColor","border","transition","paddingRight","validationSchema","Yup","required","optional","test","value","slice","length","calculatePriceBreakdown","couponApplied","arguments","undefined","numericBase","Number","convenienceFee","gstOnConvenience","totalWithoutDiscount","couponDiscount","finalPrice","subtotalBeforeConvenience","BookingSummary","_location$state","_location$state2","_location$state3","_location$state4","_location$state5","_value$match","_hotel$propertyImages","useLocation","state","hotelData","selectedRoom","selectedSlot","inventoryData","queryParams","URLSearchParams","search","initialBookingType","get","initialCheckinTime","initialCheckinDate","initialCheckOutDate","initialRooms","initialAdults","initialChildren","setBookingType","checkinTime","setCheckinTime","checkinDate","setCheckinDate","setCheckOutDate","add","setRooms","setAdults","setChildren","editingCheckin","setEditingCheckin","editingCheckout","setEditingCheckout","editingTime","setEditingTime","tempCheckinDate","setTempCheckinDate","tempCheckOutDate","setTempCheckOutDate","tempCheckinTime","setTempCheckinTime","number","match","initialExtractedNumber","parseInt","slotDuration","setSlotDuration","tempSlotDuration","setTempSlotDuration","user","setUser","showOtpModal","setShowOtpModal","otpData","setOtpData","token","setOrderDetails","termsChecked","setTermsChecked","termsOpen","setTermsOpen","couponCode","setCouponCode","setCouponApplied","couponError","setCouponError","validationError","setValidationError","gstSectionOpen","setGstSectionOpen","gstinNumber","setGstinNumber","legalName","setLegalName","gstAddress","setGstAddress","gstVerificationStatus","setGstVerificationStatus","verifyingGst","setVerifyingGst","userGSTRecords","setUserGSTRecords","selectedGSTRecord","setSelectedGSTRecord","loadingGSTRecords","setLoadingGSTRecords","showNewGSTForm","setShowNewGSTForm","deletingGST","setDeletingGST","nameFieldRef","useRef","phoneFieldRef","gstinFieldRef","guestDistribution","distributeGuestsToRooms","totalGuests","standardOccupancy","maxOccupancy","additionalGuestRate","requiredRooms","extraGuestCount","extraGuestCharge","guestsPerRoom","Math","ceil","remainingGuests","i","roomIndex","forEach","guestsInRoom","extraInThisRoom","standardRoomOccupancy","maxRoomOccupancy","slotAvailability","checkSlotAvailability","_room$status","isAvailable","message","roomStatus","toLowerCase","unitBase","checkDay","dayInventory","find","inv","date","rateFor1Night","rateFor3Hour","rateFor6Hour","rateFor12Hour","overnightRate","threeHourRate","sixHourRate","twelveHourRate","getInventoryPriceForDate","getSlotKey","toString","isLoggedIn","loadUserProfileAndGST","_profileRes$data","profileRes","getProfile","userData","_id","loadUserGSTRecords","_response$data","getAllGSTByUserId","gstRecords","Array","isArray","transformedRecords","record","gst_detail","mappingId","gstId","isPrimary","mappingCreatedAt","createdAt","mappingUpdatedAt","updatedAt","verifiedRecords","verified","gstStatus","firstRecord","gstNumber","tradeName","success","handleGSTRecordSelect","handleClearGST","info","calculateNights","inDate","outDate","isValid","diff","max","nights","priceBreakdown","calculateTotalPrice","totalMultiplier","breakdown","totalBase","inventoryUnitBase","displayBase","displayBasePlus700","displayCombinedBasePlatform","displayGstTotal","payableAfterCoupon","toFixed","serviceTaxableValue","cgstOnService","sgstOnService","convenienceFeeInclGst","grandTotal","handlePayment","gstDataForBooking","gstRecordId","round","metadata","createOrder","navigate","formik","useFormik","initialValues","userName","enableReinitialize","onSubmit","values","_nameFieldRef$current","_nameFieldRef$current2","_phoneFieldRef$curren","trim","current","focus","scrollIntoView","behavior","block","sendOTP","updateGSTRecordWithUserId","_response$data9","updatePayload","updateGST","textContainerRef","imageHeight","setImageHeight","clientHeight","timeSlots","generateTimeSlots","hour","minute","time","padStart","push","label","isFormValid","isNameValid","isPhoneValid","isTermsAccepted","isSlotAvailable","handleFieldChange","field","setFieldValue","setFieldTouched","getPriceSource","Box","BoxStyle","mt","py","px","xs","md","flexDirection","gap","Card","p","boxShadow","CardContent","Typography","gutterBottom","fontWeight","Alert","severity","mb","ml","position","height","alignItems","CardMedia","component","width","objectFit","image","propertyImages","overflow","textOverflow","WebkitLineClamp","WebkitBoxOrient","fontFamily","marginTop","flexWrap","TextField","onChange","e","target","InputLabelProps","shrink","InputProps","IconButton","handleCheckinDateSave","isAfter","CheckIcon","CloseIcon","_Fragment","typoStyle","EditIcon","FormControl","minWidth","InputLabel","Select","MenuItem","select","handleTimeSave","handleCheckoutDateSave","isBefore","roomCategory","forthColor","fontStyle","bgcolor","guests","index","extraInRoom","PersonAddIcon","handleSubmit","CustomTextField","margin","onBlur","handleBlur","touched","Boolean","errors","helperText","String","inputRef","marginLeft","borderColor","borderWidth","PhoneInput","country","onlyCountries","disableDropdown","countryCodeEditable","enableSearch","placeholder","inputStyle","outline","paddingLeft","buttonStyle","containerStyle","dropdownStyle","sm","Chip","VerifiedIcon","whiteSpace","BusinessIcon","animation","my","CircularProgress","maxHeight","overflowY","textAlign","isVerified","isSelected","cursor","flex","Tooltip","title","stopPropagation","navigator","clipboard","writeText","CopyIcon","confirm","_response$data8","deleteGST","prev","handleDeleteGST","DeleteIcon","startIcon","AddIcon","handleAddNewGST","toUpperCase","_gstinFieldRef$curren","_response$data2","_response$data5","gstPayload","createGST","_response$data3","_response$data4","_gstData$pradr","_gstData$pradr2","gstData","result","lgnm","pradr","adr","selectedRecord","_response$data6","errorMessage","includes","_response$data7","existingGST","_updateResponse$data","updateResponse","updateError","_error$response","_error$response$data","errorData","startAdornment","mr","multiline","rows","InfoIcon","OfferIcon","handleRemoveCoupon","handleApplyCoupon","FormControlLabel","control","textDecoration","CustomButton","opacity","LoginOtpModal","onVerificationSuccess","handleOtpSuccess","RenderRazorpay","calculateCheckoutTime","checkInDateTime","checkOutDateTime","duration","Divider","float"],"ignoreList":[],"sourceRoot":""}