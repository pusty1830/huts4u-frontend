"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[825],{15294:(e,r,o)=>{o.d(r,{A:()=>i,k:()=>n});var t=o(92532),a=o(72372);function n(e){return(0,a.Ay)("MuiAvatar",e)}const i=(0,t.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"])},16825:(e,r,o)=>{o.r(r),o.d(r,{default:()=>v});var t=o(83560),a=o(7353),n=o(60587),i=o(94496),l=o(11906),s=o(65043),c=o(33580),d=o(63516),u=o(80899),m=o(31716),p=o(61968),h=o(70579);const x=u.Ik({name:u.Yj().required("Name is required"),phone:u.Yj().matches(/^[0-9]{10}$/,"Phone number must be exactly 10 digits").required("Phone number is required")}),f=e=>{let{initialValues:r,onSubmit:o,onCancel:t}=e;return(0,h.jsx)(d.l1,{initialValues:r,validationSchema:x,onSubmit:o,children:e=>{let{errors:r,touched:o,handleChange:n,setFieldValue:s,values:u}=e;return(0,h.jsx)(d.lV,{children:(0,h.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",gap:2,maxWidth:600,margin:"auto",padding:3,background:"#f6f6f6",boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.11) inset",borderRadius:2,minHeight:"fit-content",zIndex:2,position:"relative"},children:[(0,h.jsx)(i.A,{variant:"h5",fontWeight:"bold",mb:1,children:"Edit Profile"}),(0,h.jsx)(p.XY,{label:"Name",name:"name",value:u.name,onChange:n,error:o.name&&Boolean(r.name),helperText:o.name&&r.name,fullWidth:!0}),(0,h.jsx)(p.XY,{label:"Phone Number",name:"phone",value:u.phone,onChange:n,error:o.phone&&Boolean(r.phone),helperText:o.phone&&r.phone,fullWidth:!0}),(0,h.jsx)(p.XY,{label:"Email",name:"email",value:u.email,onChange:n,error:o.email&&Boolean(r.email),helperText:o.email&&r.email,fullWidth:!0}),(0,h.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",marginTop:2},children:[(0,h.jsx)(m.A,{variant:"contained",color:"primary",type:"submit",children:"Save"}),(0,h.jsx)(l.A,{style:{color:c.A.firstColor,textTransform:"none"},variant:"outlined",color:"secondary",onClick:t,children:"Cancel"})]})]})})}})};var g=o(69995),b=o(57488);const v=()=>{const[e,r]=(0,s.useState)(!1),[o,d]=(0,s.useState)({}),[u,m]=(0,s.useState)({name:"",email:"",phone:""});(0,s.useEffect)(()=>{(0,g.E$)().then(e=>{var r;d(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.data)})},[]),(0,s.useEffect)(()=>{(o.userName||o.email||o.phoneNumber)&&m({name:o.userName||"",email:o.email||"",phone:o.phoneNumber||""})},[o]);return(0,h.jsxs)(a.A,{sx:{margin:"auto",minHeight:"fit-content",p:4,background:"url('/assets/bg.jpg')",backgroundSize:"cover",backgroundPosition:"bottom",position:"relative"},children:[(0,h.jsx)(a.A,{sx:{height:"100%",width:"100%",top:0,left:0,position:"absolute",zIndex:1,backdropFilter:"blur(2px)"}}),e?(0,h.jsx)(f,{initialValues:u,onSubmit:e=>{m(e);const o={userName:e.name,email:e.email,phoneNumber:e.phone};console.log(e),console.log(o),(0,g.gw)(o).then(e=>{var r;console.log(e),(0,b.oR)(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.msg)}).catch(e=>{console.error("Error updating profile:",e)}),r(!1)},onCancel:()=>r(!1)}):(0,h.jsx)("div",{style:{display:"flex",flexDirection:"column",maxWidth:600,margin:"auto",zIndex:2,position:"relative"},children:(0,h.jsx)(a.A,{children:(0,h.jsxs)("div",{style:{padding:"32px",display:"flex",alignItems:"center",flexDirection:"column",borderRadius:"12px",position:"relative",overflow:"hidden",backdropFilter:"blur(10px)",background:"#f6f6f6"},children:[(0,h.jsxs)(a.A,{sx:{position:"absolute",top:0,left:0,boxShadow:"0px 0px 30px rgba(0, 0, 0, 0.38)",width:"100%",display:"flex",alignItems:"center",flexDirection:"column",py:2,height:"120px",zIndex:100,background:c.A.background,color:"white"},children:[(0,h.jsx)(n.A,{sx:{height:"64px",width:"64px"}}),(0,h.jsxs)(i.A,{variant:"h5",fontWeight:"bold",my:2,children:["Hi, ",o.userName]})]}),(0,h.jsxs)(a.A,{sx:{mt:"150px",width:"100%",borderRadius:"8px",color:c.A.firstColor},children:[(0,h.jsx)(i.A,{variant:"h5",fontWeight:"bold",children:"Your Basic Information"}),(0,h.jsx)(i.A,{fontSize:"12px",mt:.5,children:"Make sure this information matches your travel ID, like your passport or licence."}),(0,h.jsxs)(a.A,{sx:{marginTop:2,display:"flex",flexDirection:"column",gap:.5},children:[(0,h.jsxs)(i.A,{variant:"body1",sx:A,children:[(0,h.jsx)("strong",{children:"Name:"})," ",u.name," "]}),(0,h.jsxs)(i.A,{variant:"body1",sx:A,children:[(0,h.jsx)("strong",{children:"Phone No:"})," ",u.phone," "]}),(0,h.jsxs)(i.A,{variant:"body1",sx:A,children:[(0,h.jsx)("strong",{children:"Email:"})," ",u.email]})]}),(0,h.jsxs)(l.A,{variant:"contained",onClick:()=>{r(!0)},sx:{marginTop:4,background:"transparent",border:"solid 2px",color:c.A.firstColor,borderColor:c.A.firstColor,borderRadius:"44px",textTransform:"none",marginLeft:"auto",display:"flex",alignItems:"center"},children:[(0,h.jsx)(t.A,{sx:{mr:1}}),"Edit profile"]})]})]})})})]})},A={borderRadius:"52px",boxShadow:"4px 4px 10px rgba(104, 39, 184, 0.17)",color:c.A.firstColor,background:"white",p:2,mb:1}},60587:(e,r,o)=>{o.d(r,{A:()=>A});var t=o(80045),a=o(89379),n=o(65043),i=o(58387),l=o(98610),s=o(34535),c=o(56262),d=o(98206),u=o(59662),m=o(70579);const p=(0,u.A)((0,m.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var h=o(15294),x=o(4162);const f=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],g=(0,s.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:o}=e;return[r.root,r[o.variant],o.colorDefault&&r.colorDefault]}})((0,c.A)(e=>{let{theme:r}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(r.vars||r).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,a.A)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:(0,a.A)({backgroundColor:r.palette.grey[400]},r.applyStyles("dark",{backgroundColor:r.palette.grey[600]})))}]}})),b=(0,s.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,r)=>r.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),v=(0,s.Ay)(p,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,r)=>r.fallback})({width:"75%",height:"75%"});const A=n.forwardRef(function(e,r){const o=(0,d.b)({props:e,name:"MuiAvatar"}),{alt:s,children:c,className:u,component:p="div",slots:A={},slotProps:y={},imgProps:j,sizes:k,src:S,srcSet:w,variant:C="circular"}=o,N=(0,t.A)(o,f);let P=null;const R=(0,a.A)((0,a.A)({},o),{},{component:p,variant:C}),I=function(e){let{crossOrigin:r,referrerPolicy:o,src:t,srcSet:a}=e;const[i,l]=n.useState(!1);return n.useEffect(()=>{if(!t&&!a)return;l(!1);let e=!0;const n=new Image;return n.onload=()=>{e&&l("loaded")},n.onerror=()=>{e&&l("error")},n.crossOrigin=r,n.referrerPolicy=o,n.src=t,a&&(n.srcset=a),()=>{e=!1}},[r,o,t,a]),i}((0,a.A)((0,a.A)((0,a.A)({},j),"function"===typeof y.img?y.img(R):y.img),{},{src:S,srcSet:w})),D=S||w,z=D&&"error"!==I;R.colorDefault=!z,delete R.ownerState;const T=(e=>{const{classes:r,variant:o,colorDefault:t}=e,a={root:["root",o,t&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,l.A)(a,h.k,r)})(R),[E,F]=(0,x.A)("img",{className:T.img,elementType:b,externalForwardedProps:{slots:A,slotProps:{img:(0,a.A)((0,a.A)({},j),y.img)}},additionalProps:{alt:s,src:S,srcSet:w,sizes:k},ownerState:R});return P=z?(0,m.jsx)(E,(0,a.A)({},F)):c||0===c?c:D&&s?s[0]:(0,m.jsx)(v,{ownerState:R,className:T.fallback}),(0,m.jsx)(g,(0,a.A)((0,a.A)({as:p,className:(0,i.A)(T.root,u),ref:r},N),{},{ownerState:R,children:P}))})}}]);
//# sourceMappingURL=825.8fc80d38.chunk.js.map