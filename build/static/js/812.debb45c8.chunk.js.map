{"version":3,"file":"static/js/812.debb45c8.chunk.js","mappings":"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","sources":["../node_modules/@mui/material/internal/svg-icons/CheckBoxOutlineBlank.js","../node_modules/@mui/material/internal/svg-icons/CheckBox.js","../node_modules/@mui/material/internal/svg-icons/IndeterminateCheckBox.js","../node_modules/@mui/material/Checkbox/checkboxClasses.js","../node_modules/@mui/material/Checkbox/Checkbox.js","../node_modules/@mui/icons-material/esm/Check.js","../node_modules/@mui/icons-material/esm/PersonAdd.js","../node_modules/@mui/icons-material/esm/LocalOffer.js","components/Payments/RanderPayments.tsx","pages/BookingSummary.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from \"../../utils/createSvgIcon.js\";\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from \"../../utils/createSvgIcon.js\";\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from \"../../utils/createSvgIcon.js\";\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z\"\n}), 'IndeterminateCheckBox');","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCheckboxUtilityClass(slot) {\n  return generateUtilityClass('MuiCheckbox', slot);\n}\nconst checkboxClasses = generateUtilityClasses('MuiCheckbox', ['root', 'checked', 'disabled', 'indeterminate', 'colorPrimary', 'colorSecondary', 'sizeSmall', 'sizeMedium']);\nexport default checkboxClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { alpha } from '@mui/system/colorManipulator';\nimport SwitchBase from \"../internal/SwitchBase.js\";\nimport CheckBoxOutlineBlankIcon from \"../internal/svg-icons/CheckBoxOutlineBlank.js\";\nimport CheckBoxIcon from \"../internal/svg-icons/CheckBox.js\";\nimport IndeterminateCheckBoxIcon from \"../internal/svg-icons/IndeterminateCheckBox.js\";\nimport capitalize from \"../utils/capitalize.js\";\nimport rootShouldForwardProp from \"../styles/rootShouldForwardProp.js\";\nimport checkboxClasses, { getCheckboxUtilityClass } from \"./checkboxClasses.js\";\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport createSimplePaletteValueFilter from \"../utils/createSimplePaletteValueFilter.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport { mergeSlotProps } from \"../utils/index.js\";\nimport useSlot from \"../utils/useSlot.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    indeterminate,\n    color,\n    size\n  } = ownerState;\n  const slots = {\n    root: ['root', indeterminate && 'indeterminate', `color${capitalize(color)}`, `size${capitalize(size)}`]\n  };\n  const composedClasses = composeClasses(slots, getCheckboxUtilityClass, classes);\n  return {\n    ...classes,\n    // forward the disabled and checked classes to the SwitchBase\n    ...composedClasses\n  };\n};\nconst CheckboxRoot = styled(SwitchBase, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiCheckbox',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.indeterminate && styles.indeterminate, styles[`size${capitalize(ownerState.size)}`], ownerState.color !== 'default' && styles[`color${capitalize(ownerState.color)}`]];\n  }\n})(memoTheme(({\n  theme\n}) => ({\n  color: (theme.vars || theme).palette.text.secondary,\n  variants: [{\n    props: {\n      color: 'default',\n      disableRipple: false\n    },\n    style: {\n      '&:hover': {\n        backgroundColor: theme.vars ? `rgba(${theme.vars.palette.action.activeChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette.action.active, theme.palette.action.hoverOpacity)\n      }\n    }\n  }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).map(([color]) => ({\n    props: {\n      color,\n      disableRipple: false\n    },\n    style: {\n      '&:hover': {\n        backgroundColor: theme.vars ? `rgba(${theme.vars.palette[color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette[color].main, theme.palette.action.hoverOpacity)\n      }\n    }\n  })), ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).map(([color]) => ({\n    props: {\n      color\n    },\n    style: {\n      [`&.${checkboxClasses.checked}, &.${checkboxClasses.indeterminate}`]: {\n        color: (theme.vars || theme).palette[color].main\n      },\n      [`&.${checkboxClasses.disabled}`]: {\n        color: (theme.vars || theme).palette.action.disabled\n      }\n    }\n  })), {\n    // Should be last to override other colors\n    props: {\n      disableRipple: false\n    },\n    style: {\n      // Reset on touch devices, it doesn't add specificity\n      '&:hover': {\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  }]\n})));\nconst defaultCheckedIcon = /*#__PURE__*/_jsx(CheckBoxIcon, {});\nconst defaultIcon = /*#__PURE__*/_jsx(CheckBoxOutlineBlankIcon, {});\nconst defaultIndeterminateIcon = /*#__PURE__*/_jsx(IndeterminateCheckBoxIcon, {});\nconst Checkbox = /*#__PURE__*/React.forwardRef(function Checkbox(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiCheckbox'\n  });\n  const {\n    checkedIcon = defaultCheckedIcon,\n    color = 'primary',\n    icon: iconProp = defaultIcon,\n    indeterminate = false,\n    indeterminateIcon: indeterminateIconProp = defaultIndeterminateIcon,\n    inputProps,\n    size = 'medium',\n    disableRipple = false,\n    className,\n    slots = {},\n    slotProps = {},\n    ...other\n  } = props;\n  const icon = indeterminate ? indeterminateIconProp : iconProp;\n  const indeterminateIcon = indeterminate ? indeterminateIconProp : checkedIcon;\n  const ownerState = {\n    ...props,\n    disableRipple,\n    color,\n    indeterminate,\n    size\n  };\n  const classes = useUtilityClasses(ownerState);\n  const externalInputProps = slotProps.input ?? inputProps;\n  const [RootSlot, rootSlotProps] = useSlot('root', {\n    ref,\n    elementType: CheckboxRoot,\n    className: clsx(classes.root, className),\n    shouldForwardComponentProp: true,\n    externalForwardedProps: {\n      slots,\n      slotProps,\n      ...other\n    },\n    ownerState,\n    additionalProps: {\n      type: 'checkbox',\n      icon: /*#__PURE__*/React.cloneElement(icon, {\n        fontSize: icon.props.fontSize ?? size\n      }),\n      checkedIcon: /*#__PURE__*/React.cloneElement(indeterminateIcon, {\n        fontSize: indeterminateIcon.props.fontSize ?? size\n      }),\n      disableRipple,\n      slots,\n      slotProps: {\n        input: mergeSlotProps(typeof externalInputProps === 'function' ? externalInputProps(ownerState) : externalInputProps, {\n          'data-indeterminate': indeterminate\n        })\n      }\n    }\n  });\n  return /*#__PURE__*/_jsx(RootSlot, {\n    ...rootSlotProps,\n    classes: classes\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Checkbox.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n  /**\n   * The icon to display when the component is checked.\n   * @default <CheckBoxIcon />\n   */\n  checkedIcon: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#custom-colors).\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The default checked state. Use when the component is not controlled.\n   */\n  defaultChecked: PropTypes.bool,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the ripple effect is disabled.\n   * @default false\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * The icon to display when the component is unchecked.\n   * @default <CheckBoxOutlineBlankIcon />\n   */\n  icon: PropTypes.node,\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n  /**\n   * If `true`, the component appears indeterminate.\n   * This does not set the native input element to indeterminate due\n   * to inconsistent behavior across browsers.\n   * However, we set a `data-indeterminate` attribute on the `input`.\n   * @default false\n   */\n  indeterminate: PropTypes.bool,\n  /**\n   * The icon to display when the component is indeterminate.\n   * @default <IndeterminateCheckBoxIcon />\n   */\n  indeterminateIcon: PropTypes.node,\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   * @deprecated Use `slotProps.input` instead. This prop will be removed in v7. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  inputProps: PropTypes.object,\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {React.ChangeEvent<HTMLInputElement>} event The event source of the callback.\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n  /**\n   * If `true`, the `input` element is required.\n   * @default false\n   */\n  required: PropTypes.bool,\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense checkbox styling.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    input: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    root: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    input: PropTypes.elementType,\n    root: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The value of the component. The DOM API casts this to a string.\n   * The browser uses \"on\" as the default value.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default Checkbox;","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4\"\n}), 'PersonAdd');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7\"\n}), 'LocalOffer');","import React, { useState, useEffect } from \"react\";\nimport { bookingConfirm, createHotelPayment, createMyPayment, getOneRoomData, postBooking, verifyPayment } from \"../../services/services\";\nimport { R_KEY_ID } from \"../../services/Secret\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from \"@mui/material\";\nimport color from \"../color\";\nimport { toast } from \"react-toastify\";\nimport { getUserId, getUserName } from \"../../services/axiosClient\";\nimport dayjs from \"dayjs\";\n\ninterface BookingDetails {\n    hotel: any;\n    room: any;\n    guestInfo: {\n        name: string;\n        email: string;\n        phoneNumber: string;\n    };\n    timing: {\n        checkInDate: string;\n        checkInTime: string;\n        checkOutDate: string;\n        checkOutTime: string;\n        duration: string;\n    };\n    pricingDetails: any;\n    bookingType: string | null;\n    rooms: string | null;\n    adults: string | null;\n    children: string | null;\n}\n\ninterface RenderRazorpayProps {\n    orderDetails: any;\n    amount: any;\n    bookingDetails: BookingDetails;\n}\n\nconst RenderRazorpay: React.FC<RenderRazorpayProps> = ({\n    orderDetails,\n    bookingDetails\n}) => {\n    const [checkedInTimes, setCheckInTimes] = useState(\"\");\n    const [checkedOutTimes, setCheckOutTimes] = useState(\"\");\n    const navigate = useNavigate();\n    const [open, setOpen] = useState(true);\n    console.log(bookingDetails)\n\n    useEffect(() => {\n        // Fetch check-in/check-out times only for non-hourly bookings\n        if (bookingDetails?.bookingType !== \"hourly\") {\n            getOneRoomData(bookingDetails?.room?.id).then((res) => {\n                setCheckInTimes(res?.data?.data?.checkInTime || \"\");\n                setCheckOutTimes(res?.data?.data?.checkOutTime || \"\");\n            });\n        }\n    }, [bookingDetails]);\n\n    // Helper function to get final check-in/check-out times\n    const getTimingDetails = () => {\n        if (bookingDetails?.bookingType === \"hourly\") {\n            // For hourly booking: use the times provided in bookingDetails\n            return {\n                checkInTime: bookingDetails?.timing?.checkInTime,\n                checkOutTime: bookingDetails?.timing?.checkOutTime\n            };\n        } else {\n            // For daily booking: use times from database if available, otherwise fallback\n            return {\n                checkInTime: checkedInTimes || bookingDetails?.timing?.checkInTime,\n                checkOutTime: checkedOutTimes || bookingDetails?.timing?.checkOutTime\n            };\n        }\n    };\n\n    const loadScript = (src: string): Promise<boolean> =>\n        new Promise((resolve) => {\n            const script = document.createElement(\"script\");\n            script.src = src;\n            script.onload = () => resolve(true);\n            script.onerror = () => resolve(false);\n            document.body.appendChild(script);\n        });\n\n    const displayRazorpay = async () => {\n        const isScriptLoaded = await loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n        if (!isScriptLoaded || !(window as any).Razorpay) {\n            alert(\"Failed to load Razorpay SDK.\");\n            return;\n        }\n\n        const timingDetails = getTimingDetails();\n\n        const options = {\n            key: R_KEY_ID || \"\",\n            amount: orderDetails.data.amount,\n            currency: orderDetails.data.currency,\n            order_id: orderDetails.data.id,\n            prefill: {\n                name: bookingDetails?.guestInfo?.name,\n                email: bookingDetails?.guestInfo?.email,\n                contact: bookingDetails?.guestInfo?.phoneNumber,\n            },\n            \n            handler: async (response: any) => {\n                try {\n                    const res = await verifyPayment({\n                        orderId: response.razorpay_order_id,\n                        paymentId: response.razorpay_payment_id,\n                        signature: response.razorpay_signature,\n                    });\n                    \n                    console.log(res);\n                    alert(\"Payment Successful\");\n                    \n                    const payLoad = {\n                        userId: getUserId(),\n                        hotelId: bookingDetails?.hotel?.id,\n                        roomId: bookingDetails?.room?.id,\n                        geustName: bookingDetails?.guestInfo?.name,\n                        amountPaid: orderDetails.data.amount,\n                        checkInDate: bookingDetails?.timing?.checkInDate,\n                        checkInTime: timingDetails.checkInTime, // Use the calculated timing\n                        checkOutTime: timingDetails.checkOutTime, // Use the calculated timing\n                        checkOutDate: bookingDetails?.timing?.checkOutDate,\n                        bookingType: bookingDetails?.bookingType,\n                        geustDetails: bookingDetails?.guestInfo,\n                        adults: bookingDetails?.adults,\n                        children: bookingDetails?.children,\n                        hotelName: bookingDetails?.hotel?.propertyName,\n                        status: 'pending',\n                        paymentId: res?.data?.data?.id,\n                        rooms: bookingDetails?.rooms,\n                    };\n                    \n                    console.log(payLoad);\n\n                    postBooking(payLoad).then((res) => {\n                        const payoutPayLoad = {\n                            userId: getUserId(),\n                            paymentId: res?.data?.data?.id,\n                            hotelId: bookingDetails?.hotel?.id,\n                            roomId: bookingDetails?.room?.id,\n                            bookingId: res?.data?.data?.id,\n                            amountPaise: orderDetails.data.amount,\n                            feePaise: (bookingDetails?.pricingDetails?.platformFee + bookingDetails?.pricingDetails?.gstOnPlatform) * 100,\n                            netAmountPaise: (bookingDetails?.pricingDetails?.basePrice + bookingDetails?.pricingDetails?.gstOnBase) * 100,\n                            currency: \"INR\",\n                            bookingsIncluded: [{\n                                id: res?.data?.data?.id,\n                                bookingDate: res?.data?.data?.checkInDate\n                            }],\n                            scheduledAt: dayjs(bookingDetails?.timing?.checkInDate, \"DD MMM YYYY\").toDate(),\n                            status: \"pending\",\n                            transactionRef: null,\n                            gatewayResponse: null,\n                            failureReason: null,\n                            processedBy: null,\n                            note: \"Daily PayOut \",\n                        };\n\n                        const mypaymentPayload = {\n                            userId: getUserId(),\n                            paymentId: res?.data?.data?.id,\n                            hotelId: bookingDetails?.hotel?.id,\n                            bookingId: res?.data?.data?.id,\n                            roomId: bookingDetails?.room?.id,\n                            amountPaise: orderDetails.data.amount,\n                            feePaise: (bookingDetails?.pricingDetails?.platformFee + bookingDetails?.pricingDetails?.gstOnPlatform) * 100,\n                            netmyAmountPaise: (bookingDetails?.pricingDetails?.platformFee + bookingDetails?.pricingDetails?.gstOnPlatform) * 100,\n                            currency: \"INR\",\n                            bookingsIncluded: [res?.data?.data?.id],\n                            scheduledAt: dayjs(bookingDetails?.timing?.checkInDate, \"DD MMM YYYY\").toDate(),\n                            initiatedAt: new Date(),\n                            processedAt: null,\n                            status: \"pending\",\n                            transactionRef: null,\n                            gatewayResponse: null,\n                            failureReason: null,\n                            processedBy: null,\n                            note: \"Auto payout settlement\",\n                        };\n                        \n                        console.log(mypaymentPayload);\n                        \n                        createMyPayment(mypaymentPayload).then((res) => {\n                            console.log(\"My Payment is scheduled\");\n                        }).catch((err) => {\n                            console.log(\"error while creating the mypayment\", err);\n                        });\n                        \n                        console.log(payoutPayLoad);\n                        \n                        createHotelPayment(payoutPayLoad).then((res) => {\n                            console.log(\"My Payout is scheduled\");\n                        }).catch((err) => {\n                            console.log(\"error while creating the PayOut \", err);\n                        });\n\n                        toast(res?.data?.msg);\n                        \n                        const messagetamplet = {\n                            guestName: bookingDetails?.guestInfo?.name,\n                            location: bookingDetails?.hotel?.address,\n                            hotelName: bookingDetails?.hotel?.propertyName,\n                            checkInDate: dayjs(bookingDetails?.timing?.checkInDate, \"DD MMM YYYY\").format(\"DD MMM YYYY\"),\n                            checkInTime: timingDetails.checkInTime, // Use the calculated timing\n                            phone: bookingDetails?.guestInfo?.phoneNumber,\n                            amountPaid: (bookingDetails?.pricingDetails?.basePrice + bookingDetails?.pricingDetails?.gstOnBase),\n                            basePrice: bookingDetails?.pricingDetails?.basePrice,\n                            gstOnBase: bookingDetails?.pricingDetails?.gstOnBase,\n                            razorpayfee: (bookingDetails?.pricingDetails?.gstTotal - (bookingDetails?.pricingDetails?.gstOnBase + bookingDetails?.pricingDetails?.gstOnPlatform)),\n                            platformFee: bookingDetails?.pricingDetails?.platformFee,\n                            gstOnPlatform: bookingDetails?.pricingDetails?.gstOnPlatform,\n                            totalPrice: bookingDetails?.pricingDetails?.totalPrice,\n                            adults: bookingDetails?.adults,\n                            children: bookingDetails?.children,\n                            rooms: 1,\n                            checkOutTime: timingDetails.checkOutTime, // Use the calculated timing\n                            checkOutDate: dayjs(bookingDetails?.timing?.checkOutDate, \"DD MMM YYYY\").format(\"DD MMM YYYY\"),\n                            hotelEmail: bookingDetails?.hotel?.receptionEmail,\n                            receptionistPhone: bookingDetails?.hotel?.receptionMobile,\n                        };\n\n                        console.log(messagetamplet);\n                        \n                        bookingConfirm(messagetamplet).then((res) => {\n                            console.log(\"message send to the wp\", res);\n                        }).catch((err) => {\n                            console.log(err);\n                        });\n\n                        window.location.href=\"/my-bookings\"\n\n                    }).catch((err) => {\n                        console.log(err);\n                    });\n\n                } catch (error) {\n                    alert(\"Payment verification failed. Please try again.\");\n                }\n            },\n        };\n\n        const razorpay = new (window as any).Razorpay(options);\n        razorpay.open();\n    };\n\n    const handleOpen = () => setOpen(true);\n    const handleClose = () => setOpen(false);\n\n    return (\n        <div>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"xs\"\n                fullWidth\n                sx={{\n                    \"& .MuiPaper-root\": {\n                        padding: \"8px\",\n                        borderRadius: \"16px\",\n                    },\n                }}\n            >\n                <DialogTitle>Complete Your Payment</DialogTitle>\n                <DialogContent>\n                    <p>Ensure your payment details are correct before proceeding.</p>\n                </DialogContent>\n                <DialogActions style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                    <Button\n                        style={{\n                            textTransform: \"none\",\n                            color: \"black\",\n                        }}\n                        onClick={handleClose}\n                    >\n                        Cancel\n                    </Button>\n                    <Button\n                        onClick={displayRazorpay}\n                        variant=\"contained\"\n                        style={{\n                            background: color.firstColor,\n                            fontSize: \"18px\",\n                            textTransform: \"none\",\n                            border: \"solid 1px white\",\n                        }}\n                        sx={{\n                            padding: \"2px 10px\",\n                            transition: \"all 0.4s ease\",\n                            \"&:hover\": {\n                                paddingRight: \"20px\",\n                            },\n                        }}\n                    >\n                        Proceed to Pay\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default RenderRazorpay;","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport {\n  Box,\n  Card,\n  CardContent,\n  CardMedia,\n  Divider,\n  Typography,\n  Checkbox,\n  FormControlLabel,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  IconButton,\n  TextField,\n  MenuItem,\n  Select,\n  FormControl,\n  InputLabel,\n  Alert,\n} from \"@mui/material\";\nimport {\n  Edit as EditIcon,\n  Check as CheckIcon,\n  Close as CloseIcon,\n  LocalOffer as OfferIcon,\n  PersonAdd as PersonAddIcon,\n} from \"@mui/icons-material\";\nimport dayjs from \"dayjs\";\nimport { useFormik } from \"formik\";\nimport { useEffect, useRef, useState } from \"react\";\nimport PhoneInput from \"react-phone-input-2\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport * as Yup from \"yup\";\nimport CustomButton from \"../components/CustomButton\";\nimport RenderRazorpay from \"../components/Payments/RanderPayments\";\nimport color from \"../components/color\";\nimport { BoxStyle, CustomTextField } from \"../components/style\";\nimport { isLoggedIn } from \"../services/axiosClient\";\nimport { createOrder, getProfile, sendOTP } from \"../services/services\";\nimport LoginOtpModal from \"./Account/LoginOtpModal\";\nimport 'react-phone-input-2/lib/style.css';\n\n// UPDATED VALIDATION SCHEMA WITH PHONE VALIDATION\nconst validationSchema = Yup.object({\n  name: Yup.string().required(\"Guest name is required\"),\n  email: Yup.string().email(\"Invalid email\").optional(),\n  phoneNumber: Yup.string()\n    .required(\"Phone number is required\")\n    .test('is-valid-phone', 'Enter a valid phone number', (value) => {\n      if (!value) return false;\n      const phoneWithoutCode = value.slice(2);\n      return phoneWithoutCode.length >= 10;\n    }),\n});\n\n// ---------------- SIMPLE PRICE CALCULATION ----------------\nexport const calculatePriceBreakdown = (\n  basePrice: number,\n  couponApplied = true\n) => {\n  const numericBase = Number(basePrice) || 0;\n\n  if (!numericBase || numericBase <= 0) {\n    return {\n      basePrice: 0,\n      gstOnBase: 0,\n      platformFee: 0,\n      gstOnPlatform: 0,\n      convenienceFee: 0,\n      gstOnConvenience: 0,\n      totalWithoutDiscount: 0,\n      couponDiscount: 0,\n      finalPrice: 0,\n    };\n  }\n\n  // 1. GST on base (5%)\n  const gstOnBase = numericBase * 0.05;\n\n  // Amount after base GST\n  const amountAfterBaseGst = numericBase + gstOnBase;\n\n  // 2. Platform fee (13% on base + GST)\n  const platformFee = amountAfterBaseGst * 0.13;\n\n  // 3. GST on platform fee (18%)\n  const gstOnPlatform = platformFee * 0.18;\n\n  // 4. Subtotal before convenience\n  const subtotalBeforeConvenience =\n    numericBase + gstOnBase + platformFee + gstOnPlatform;\n\n  // 5. Convenience fee (2% on subtotal)\n  const convenienceFee = subtotalBeforeConvenience * 0.02;\n\n  // 6. GST on convenience fee (18%)\n  const gstOnConvenience = convenienceFee * 0.18;\n\n  // 7. Total without discount\n  const totalWithoutDiscount =\n    subtotalBeforeConvenience + convenienceFee + gstOnConvenience;\n\n  // 8. Coupon discount (5% on total without discount) - ONLY if coupon is applied\n  let couponDiscount = 0;\n  if (couponApplied) {\n    couponDiscount = totalWithoutDiscount * 0.05;\n  }\n\n  // 9. Final price = total without discount - discount\n  const finalPrice = totalWithoutDiscount - couponDiscount;\n\n  return {\n    basePrice: numericBase,\n    gstOnBase,\n    platformFee,\n    gstOnPlatform,\n    convenienceFee,\n    gstOnConvenience,\n    totalWithoutDiscount,\n    couponDiscount,\n    finalPrice,\n  };\n};\n\n// ========== GUEST DISTRIBUTION AND EXTRA CHARGE CALCULATION ==========\nconst distributeGuestsToRooms = (\n  totalGuests: number,\n  standardOccupancy: number,\n  maxOccupancy: number,\n  additionalGuestRate: number\n) => {\n  let requiredRooms = 0;\n  let extraGuestCount = 0;\n  let extraGuestCharge = 0;\n  const guestsPerRoom: number[] = [];\n\n  if (totalGuests <= 0) {\n    return { \n      requiredRooms: 1, \n      extraGuestCount: 0, \n      extraGuestCharge: 0, \n      guestsPerRoom: [0] \n    };\n  }\n\n  // Calculate required rooms based on MAXIMUM occupancy\n  requiredRooms = Math.ceil(totalGuests / maxOccupancy);\n\n  // DISTRIBUTE GUESTS EVENLY ACROSS ROOMS\n  let remainingGuests = totalGuests;\n  \n  // First, fill each room with standard occupancy\n  for (let i = 0; i < requiredRooms; i++) {\n    if (remainingGuests >= standardOccupancy) {\n      guestsPerRoom[i] = standardOccupancy;\n      remainingGuests -= standardOccupancy;\n    } else {\n      guestsPerRoom[i] = remainingGuests;\n      remainingGuests = 0;\n    }\n  }\n\n  // Now distribute remaining guests as extra guests\n  let roomIndex = 0;\n  while (remainingGuests > 0 && roomIndex < requiredRooms) {\n    // Check if this room can take more guests (up to max occupancy)\n    if (guestsPerRoom[roomIndex] < maxOccupancy) {\n      guestsPerRoom[roomIndex] += 1;\n      remainingGuests -= 1;\n    }\n    roomIndex++;\n    \n    // If we've checked all rooms and still have guests, loop back\n    if (roomIndex >= requiredRooms && remainingGuests > 0) {\n      roomIndex = 0;\n    }\n  }\n\n  // Calculate extra guest charges PER ROOM\n  guestsPerRoom.forEach(guestsInRoom => {\n    if (guestsInRoom > standardOccupancy) {\n      const extraInThisRoom = guestsInRoom - standardOccupancy;\n      extraGuestCount += extraInThisRoom;\n      extraGuestCharge += extraInThisRoom * additionalGuestRate;\n    }\n  });\n\n  return {\n    requiredRooms,\n    extraGuestCount,\n    extraGuestCharge,\n    guestsPerRoom,\n  };\n};\n// ---------------------------------------------------------------------------\n\nconst BookingSummary = () => {\n  const location = useLocation();\n  const hotel = location.state?.hotelData;\n  const room = location.state?.selectedRoom;\n  const selectedSlot = location.state?.selectedSlot;\n  const pricingDetails = location.state?.pricingDetails;\n  const inventoryData = location.state?.inventoryData || []; // Inventory data from HotelDetails\n  \n  const queryParams = new URLSearchParams(location.search);\n\n  const initialBookingType = queryParams.get(\"bookingType\");\n  const initialCheckinTime = queryParams.get(\"time\");\n  const initialCheckinDate = queryParams.get(\"checkinDate\");\n  const initialCheckOutDate = queryParams.get(\"checkOutDate\");\n  const initialRooms = queryParams.get(\"rooms\");\n  const initialAdults = queryParams.get(\"adults\");\n  const initialChildren = queryParams.get(\"children\");\n\n  // State for editable dates\n  const [bookingType, setBookingType] = useState(initialBookingType);\n  const [checkinTime, setCheckinTime] = useState(initialCheckinTime || \"12:00\");\n  const [checkinDate, setCheckinDate] = useState(initialCheckinDate || dayjs().format(\"YYYY-MM-DD\"));\n  const [checkOutDate, setCheckOutDate] = useState(initialCheckOutDate || dayjs().add(1, 'day').format(\"YYYY-MM-DD\"));\n  const [rooms, setRooms] = useState(initialRooms || \"1\");\n  const [adults, setAdults] = useState(initialAdults || \"1\");\n  const [children, setChildren] = useState(initialChildren || \"0\");\n\n  // State for editing\n  const [editingCheckin, setEditingCheckin] = useState(false);\n  const [editingCheckout, setEditingCheckout] = useState(false);\n  const [editingTime, setEditingTime] = useState(false);\n  const [tempCheckinDate, setTempCheckinDate] = useState(initialCheckinDate || dayjs().format(\"YYYY-MM-DD\"));\n  const [tempCheckOutDate, setTempCheckOutDate] = useState(initialCheckOutDate || dayjs().add(1, 'day').format(\"YYYY-MM-DD\"));\n  const [tempCheckinTime, setTempCheckinTime] = useState(initialCheckinTime || \"12:00\");\n\n  // Extract initial slot duration\n  const value = selectedSlot?.slot;\n  const number = value?.match(/\\d+/)?.[0];\n  const initialExtractedNumber = number ? parseInt(number, 10) : 3;\n  const [slotDuration, setSlotDuration] = useState(initialExtractedNumber);\n  const [tempSlotDuration, setTempSlotDuration] = useState(initialExtractedNumber);\n\n  const [user, setUser] = useState<any>({});\n  const [showOtpModal, setShowOtpModal] = useState(false);\n  const [otpData, setOtpData] = useState({\n    phone: \"\",\n    name: \"\",\n    email: \"\",\n    token: \"\",\n  });\n  const [orderDetails, setOrderDetails] = useState<any>(null);\n\n  // Terms & Conditions state\n  const [termsChecked, setTermsChecked] = useState(false);\n  const [termsOpen, setTermsOpen] = useState(false);\n\n  // Coupon state - Auto applied by default\n  const [couponCode, setCouponCode] = useState(\"HUTS4U\");\n  const [couponApplied, setCouponApplied] = useState(true);\n  const [couponError, setCouponError] = useState(\"\");\n\n  // Validation error state\n  const [validationError, setValidationError] = useState<string | null>(null);\n\n  // Refs for scrolling to fields\n  const nameFieldRef = useRef<HTMLInputElement>(null);\n  const phoneFieldRef = useRef<HTMLDivElement>(null);\n\n  // ========== UPDATED GUEST DISTRIBUTION LOGIC ==========\n  const calculateGuestDistribution = () => {\n    const totalGuests = Number(adults) + Number(children);\n    const standardOccupancy = room?.standardRoomOccupancy || 1;\n    const maxOccupancy = room?.maxRoomOccupancy || 1;\n    const additionalGuestRate = room?.additionalGuestRate || 0;\n\n    return distributeGuestsToRooms(\n      totalGuests, \n      standardOccupancy, \n      maxOccupancy, \n      additionalGuestRate\n    );\n  };\n\n  const guestDistribution = calculateGuestDistribution();\n  const { \n    requiredRooms, \n    extraGuestCount, \n    extraGuestCharge, \n    guestsPerRoom \n  } = guestDistribution;\n\n  // Get inventory-based price for the selected slot and date\n  const getInventoryPriceForDate = (slot: string): number => {\n    if (!room || !checkinDate || !slot) return 0;\n\n    const checkDay = dayjs(checkinDate).format('YYYY-MM-DD');\n    const dayInventory = inventoryData?.find((inv:any) => \n      dayjs(inv.date).format('YYYY-MM-DD') === checkDay\n    );\n\n    if (!dayInventory) {\n      // If no inventory data, fall back to room rates\n      switch(slot) {\n        case 'rateFor1Night':\n          return room.rateFor1Night || 0;\n        case 'rateFor3Hour':\n          return room.rateFor3Hour || 0;\n        case 'rateFor6Hour':\n          return room.rateFor6Hour || 0;\n        case 'rateFor12Hour':\n          return room.rateFor12Hour || 0;\n        default:\n          return 0;\n      }\n    }\n\n    // Return inventory-specific rate\n    switch(slot) {\n      case 'rateFor1Night':\n        return dayInventory.overnightRate || room.rateFor1Night || 0;\n      case 'rateFor3Hour':\n        return dayInventory.threeHourRate || room.rateFor3Hour || 0;\n      case 'rateFor6Hour':\n        return dayInventory.sixHourRate || room.rateFor6Hour || 0;\n      case 'rateFor12Hour':\n        return dayInventory.twelveHourRate || room.rateFor12Hour || 0;\n      default:\n        return 0;\n    }\n  };\n\n  // Check slot availability in inventory\n  const isSlotAvailable = (slot: string): boolean => {\n    if (!room || !checkinDate || !slot) return false;\n    \n    const roomStatus = room.status?.toLowerCase();\n    const isStatusAvailable = roomStatus === \"available\" || roomStatus === \"active\";\n    if (!isStatusAvailable) return false;\n    \n    const checkDay = dayjs(checkinDate).format('YYYY-MM-DD');\n    const dayInventory = inventoryData?.find((inv:any) => \n      dayjs(inv.date).format('YYYY-MM-DD') === checkDay\n    );\n    \n    if (!dayInventory) return true; // No inventory record means available\n    \n    if (dayInventory.isBlocked) return false;\n\n    switch(slot) {\n      case 'rateFor1Night':\n        return dayInventory.overnightAvailable > dayInventory.overnightBooked;\n      case 'rateFor3Hour':\n        return dayInventory.threeHourAvailable > dayInventory.threeHourBooked;\n      case 'rateFor6Hour':\n        return dayInventory.sixHourAvailable > dayInventory.sixHourBooked;\n      case 'rateFor12Hour':\n        return dayInventory.twelveHourAvailable > dayInventory.twelveHourBooked;\n      default:\n        return true;\n    }\n  };\n\n  // Get the slot key based on booking type\n  const getSlotKey = (): string => {\n    if (bookingType === \"hourly\") {\n      switch (slotDuration) {\n        case 3:\n          return 'rateFor3Hour';\n        case 6:\n          return 'rateFor6Hour';\n        case 12:\n          return 'rateFor12Hour';\n        default:\n          return 'rateFor3Hour';\n      }\n    } else {\n      return 'rateFor1Night';\n    }\n  };\n\n  // Check if the selected slot is still available\n  const checkSlotAvailability = (): { isAvailable: boolean, message: string } => {\n    const slotKey = getSlotKey();\n    const available = isSlotAvailable(slotKey);\n    \n    if (!available) {\n      return {\n        isAvailable: false,\n        message: 'The selected room/slot is no longer available. Please go back and select another room or date.'\n      };\n    }\n    \n    return {\n      isAvailable: true,\n      message: 'Available'\n    };\n  };\n\n  const slotAvailability = checkSlotAvailability();\n\n  // Get unit base price from inventory or room\n  const getUnitBasePrice = (): number => {\n    const slotKey = getSlotKey();\n    return getInventoryPriceForDate(slotKey);\n  };\n\n  const unitBase = Number(getUnitBasePrice());\n\n  // Auto-update rooms based on occupancy\n  useEffect(() => {\n    if (Number(rooms) !== requiredRooms) {\n      setRooms(requiredRooms.toString());\n    }\n  }, [adults, children, room]);\n\n  useEffect(() => {\n    if (isLoggedIn()) {\n      getProfile()\n        .then((res) => {\n          setUser(res?.data?.data);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, []);\n\n  // Handle date changes and update price\n  const handleCheckinDateSave = () => {\n    if (!tempCheckinDate) {\n      toast.error(\"Please select a check-in date\");\n      return;\n    }\n\n    if (!dayjs(tempCheckinDate, \"YYYY-MM-DD\", true).isValid()) {\n      toast.error(\"Invalid date format. Please use YYYY-MM-DD format\");\n      return;\n    }\n\n    if (bookingType === \"hourly\") {\n      setCheckinDate(tempCheckinDate);\n      setEditingCheckin(false);\n      toast.success(\"Check-in date updated\");\n    } else {\n      if (dayjs(tempCheckinDate).isAfter(dayjs(tempCheckOutDate))) {\n        toast.error(\"Check-in date cannot be after check-out date\");\n        return;\n      }\n      setCheckinDate(tempCheckinDate);\n      setEditingCheckin(false);\n      toast.success(\"Check-in date updated\");\n    }\n  };\n\n  const handleCheckoutDateSave = () => {\n    if (!tempCheckOutDate) {\n      toast.error(\"Please select a check-out date\");\n      return;\n    }\n\n    if (!dayjs(tempCheckOutDate, \"YYYY-MM-DD\", true).isValid()) {\n      toast.error(\"Invalid date format. Please use YYYY-MM-DD format\");\n      return;\n    }\n\n    if (dayjs(tempCheckOutDate).isBefore(dayjs(tempCheckinDate))) {\n      toast.error(\"Check-out date cannot be before check-in date\");\n      return;\n    }\n    setCheckOutDate(tempCheckOutDate);\n    setEditingCheckout(false);\n    toast.success(\"Check-out date updated\");\n  };\n\n  // Handle time changes for hourly bookings\n  const handleTimeSave = () => {\n    if (!tempCheckinTime) {\n      toast.error(\"Please select a check-in time\");\n      return;\n    }\n\n    // Validate time format\n    if (!tempCheckinTime.match(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/)) {\n      toast.error(\"Invalid time format. Please use HH:mm format\");\n      return;\n    }\n\n    setCheckinTime(tempCheckinTime);\n    setSlotDuration(tempSlotDuration);\n    setEditingTime(false);\n    toast.success(\"Check-in time and duration updated\");\n  };\n\n  // Calculate nights based on dates\n  const calculateNights = () => {\n    if (!checkinDate || !checkOutDate) return 1;\n\n    const inDate = dayjs(checkinDate, \"YYYY-MM-DD\", true);\n    const outDate = dayjs(checkOutDate, \"YYYY-MM-DD\", true);\n\n    if (!inDate.isValid() || !outDate.isValid()) return 1;\n\n    const diff = outDate.diff(inDate, \"day\");\n    return Math.max(1, diff);\n  };\n\n  const nights = calculateNights();\n\n  // Calculate price breakdown WITHOUT extra guest charges\n  const calculateTotalPrice = () => {\n    // Calculate multiplier WITHOUT extra guest charges\n    let totalMultiplier;\n    if (bookingType === \"hourly\") {\n      const hoursMultiplier = slotDuration / 3;\n      totalMultiplier = requiredRooms * hoursMultiplier;\n    } else {\n      totalMultiplier = requiredRooms * nights;\n    }\n\n    const totalBasePrice = unitBase * totalMultiplier;\n\n    // Calculate breakdown with coupon (NO extra guest charges added here)\n    const breakdown = calculatePriceBreakdown(totalBasePrice, couponApplied);\n\n    return {\n      ...breakdown,\n      nights,\n      totalMultiplier,\n      bookingType,\n      slotDuration,\n      requiredRooms,\n      unitBase,\n    };\n  };\n\n  const priceBreakdown = calculateTotalPrice();\n  const {\n    basePrice: totalBase,\n    gstOnBase,\n    platformFee,\n    gstOnPlatform,\n    convenienceFee,\n    gstOnConvenience,\n    totalWithoutDiscount,\n    couponDiscount,\n    finalPrice,\n    unitBase: inventoryUnitBase,\n  } = priceBreakdown;\n\n  // Display values for UI\n  const displayBase = totalBase;\n  const displayBasePlus700 = displayBase + 700;\n  const displayCombinedBasePlatform = totalBase + platformFee;\n  const displayGstTotal = gstOnBase + gstOnPlatform + convenienceFee + gstOnConvenience;\n  const payableAfterCoupon = Number(finalPrice.toFixed(2));\n\n  // Invoice pieces\n  const serviceTaxableValue = platformFee;\n  const cgstOnService = gstOnPlatform / 2;\n  const sgstOnService = gstOnPlatform / 2;\n  const convenienceFeeInclGst = convenienceFee + gstOnConvenience;\n  const grandTotal = payableAfterCoupon; // NO extra guest charges added\n\n  // Handle coupon removal\n  const handleRemoveCoupon = () => {\n    setCouponApplied(false);\n    toast.info(\"Huts4u Discount removed. Prices updated.\");\n  };\n\n  const handleApplyCoupon = () => {\n    setCouponApplied(true);\n    toast.success(\"Huts4u Discount applied!\");\n  };\n\n  const handlePayment = async () => {\n    try {\n      if (!grandTotal || grandTotal <= 0) {\n        alert(\"Booking amount cannot be zero.\");\n        return;\n      }\n\n      const payLoad = {\n        amount: Math.round(grandTotal),\n        currency: \"INR\",\n      };\n\n      const response = await createOrder(payLoad);\n\n      if (response?.data) {\n        setOrderDetails(response.data);\n      } else {\n        alert(\"Payment failed. Please try again.\");\n      }\n    } catch (error) {\n      console.error(\"Error during payment:\", error);\n      alert(\"Payment failed. Please try again.\");\n    }\n  };\n\n  const navigate = useNavigate();\n\n  const formik = useFormik({\n    initialValues: {\n      name: user.userName || \"\",\n      email: user.email || \"\",\n      phoneNumber: user.phoneNumber ? `91${user.phoneNumber}` : \"91\",\n    },\n    validationSchema,\n    enableReinitialize: true,\n    onSubmit: (values) => {\n      // Clear previous validation error\n      setValidationError(null);\n\n      // Check slot availability first\n      if (!slotAvailability.isAvailable) {\n        setValidationError(slotAvailability.message);\n        return;\n      }\n\n      // Check for required fields before terms\n      if (!values.name.trim()) {\n        setValidationError(\"Guest name is required\");\n        nameFieldRef.current?.focus();\n        nameFieldRef.current?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        return;\n      }\n\n      if (!values.phoneNumber || values.phoneNumber === \"91\" || values.phoneNumber.length < 12) {\n        setValidationError(\"Valid phone number is required\");\n        phoneFieldRef.current?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        return;\n      }\n\n      if (!termsChecked) {\n        setValidationError(\"Please accept Terms & Conditions before proceeding.\");\n        return;\n      }\n\n      if (isLoggedIn()) {\n        handlePayment();\n      } else {\n        const payLoad = {\n          name: values.name,\n          email: values.email,\n          phone: values.phoneNumber.slice(2),\n        };\n        sendOTP(payLoad)\n          .then((res) => {\n            console.log(res);\n            setShowOtpModal(true);\n            toast(\"OTP sent successfully. Please verify the OTP.\");\n            setOtpData({\n              phone: values.phoneNumber.slice(2),\n              name: values.name,\n              email: values.email,\n              token: res?.data?.data,\n            });\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    },\n  });\n\n  const handleOtpSuccess = () => {\n    setShowOtpModal(false);\n    handlePayment();\n  };\n\n  const textContainerRef = useRef<HTMLDivElement>(null);\n  const [imageHeight, setImageHeight] = useState(\"auto\");\n\n  const calculateCheckoutTime = () => {\n    if (bookingType === \"hourly\" && checkinTime && checkinDate && slotDuration) {\n      const checkInDateTime = dayjs(`${checkinDate} ${checkinTime}`, \"YYYY-MM-DD HH:mm\");\n      const checkOutDateTime = checkInDateTime.add(slotDuration, \"hour\");\n\n      return {\n        checkInDate: checkInDateTime.format(\"DD MMM YYYY\"),\n        checkInTime: checkInDateTime.format(\"hh:mm A\"),\n        checkOutDate: checkOutDateTime.format(\"DD MMM YYYY\"),\n        checkOutTime: checkOutDateTime.format(\"hh:mm A\"),\n        duration: `${slotDuration} hrs`,\n      };\n    } else {\n      const nights = calculateNights();\n      return {\n        checkInDate: dayjs(checkinDate, \"YYYY-MM-DD\").format(\"DD MMM YYYY\"),\n        checkInTime: \"12.00 PM\",\n        checkOutDate: dayjs(checkOutDate, \"YYYY-MM-DD\").format(\"DD MMM YYYY\"),\n        checkOutTime: \"11.00 AM\",\n        duration: `${nights} night${nights > 1 ? 's' : ''}`,\n      };\n    }\n  };\n\n  useEffect(() => {\n    if (textContainerRef.current) {\n      setImageHeight(`${textContainerRef.current.clientHeight}px`);\n    }\n  }, [hotel, nights, slotDuration]);\n\n  // Generate time slots for the time picker\n  const generateTimeSlots = () => {\n    const slots = [];\n    for (let hour = 0; hour < 24; hour++) {\n      for (let minute = 0; minute < 60; minute += 30) {\n        const time = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n        slots.push({ value: time, label: dayjs(time, \"HH:mm\").format(\"hh:mm A\") });\n      }\n    }\n    return slots;\n  };\n\n  // Generate available duration options based on inventory and room availability\n  const generateDurationOptions = () => {\n    const options = [];\n\n    // Check each slot type for availability\n    const checkSlotAvailability = (slotKey: string, hours: number) => {\n      if (!room) return false;\n      \n      // First check room status\n      const roomStatus = room.status?.toLowerCase();\n      const isStatusAvailable = roomStatus === \"available\" || roomStatus === \"active\";\n      if (!isStatusAvailable) return false;\n      \n      // Check inventory availability\n      const checkDay = dayjs(checkinDate).format('YYYY-MM-DD');\n      const dayInventory = inventoryData?.find((inv:any) => \n        dayjs(inv.date).format('YYYY-MM-DD') === checkDay\n      );\n      \n      if (dayInventory && dayInventory.isBlocked) return false;\n      \n      // Check specific slot availability\n      if (dayInventory) {\n        switch(slotKey) {\n          case 'rateFor3Hour':\n            return dayInventory.threeHourAvailable > dayInventory.threeHourBooked;\n          case 'rateFor6Hour':\n            return dayInventory.sixHourAvailable > dayInventory.sixHourBooked;\n          case 'rateFor12Hour':\n            return dayInventory.twelveHourAvailable > dayInventory.twelveHourBooked;\n          default:\n            return true;\n        }\n      }\n      \n      // No inventory record means available\n      return true;\n    };\n\n    // Check 3 hours\n    if (room?.rateFor3Hour && room.rateFor3Hour > 0 && checkSlotAvailability('rateFor3Hour', 3)) {\n      options.push({ value: 3, label: \"3 hrs\", price: getInventoryPriceForDate('rateFor3Hour') });\n    }\n\n    // Check 6 hours\n    if (room?.rateFor6Hour && room.rateFor6Hour > 0 && checkSlotAvailability('rateFor6Hour', 6)) {\n      options.push({ value: 6, label: \"6 hrs\", price: getInventoryPriceForDate('rateFor6Hour') });\n    }\n\n    // Check 12 hours\n    if (room?.rateFor12Hour && room.rateFor12Hour > 0 && checkSlotAvailability('rateFor12Hour', 12)) {\n      options.push({ value: 12, label: \"12 hrs\", price: getInventoryPriceForDate('rateFor12Hour') });\n    }\n\n    return options;\n  };\n\n  const timeSlots = generateTimeSlots();\n  const durationOptions = generateDurationOptions();\n\n  // T&C modal content\n  const termsText = `\nBy booking, you agree to the property's terms and conditions, cancellation policy, and house rules.\nYou also agree to follow Huts4u's official Terms & Conditions mentioned on the link below.\nPlease ensure you have read and understood all applicable policies.\n`;\n\n  // Function to check if form is valid\n  const isFormValid = () => {\n    const isNameValid = formik.values.name.trim() !== \"\";\n    const isPhoneValid = formik.values.phoneNumber &&\n      formik.values.phoneNumber !== \"91\" &&\n      formik.values.phoneNumber.length >= 12;\n    const isTermsAccepted = termsChecked;\n    const isSlotAvailable = slotAvailability.isAvailable;\n\n    return isNameValid && isPhoneValid && isTermsAccepted && isSlotAvailable;\n  };\n\n  // Function to handle field changes and show errors\n  const handleFieldChange = (field: string, value: string) => {\n    formik.setFieldValue(field, value);\n    formik.setFieldTouched(field, true);\n\n    // Clear validation error when user starts typing\n    if (validationError) {\n      setValidationError(null);\n    }\n  };\n\n  // Price source indicator\n  const getPriceSource = () => {\n    const checkDay = dayjs(checkinDate).format('YYYY-MM-DD');\n    const dayInventory = inventoryData?.find((inv:any) => \n      dayjs(inv.date).format('YYYY-MM-DD') === checkDay\n    );\n    \n    return dayInventory ? \"Dynamic Inventory Pricing\" : \"Standard Rate\";\n  };\n\n  return (\n    <Box\n      sx={{\n        ...BoxStyle,\n        background: \"#f6f6f6\",\n        mt: 0,\n        py: 4,\n        px: { xs: 1, md: 3 },\n        display: \"flex\",\n        flexDirection: { xs: \"column\", md: \"row\" },\n        justifyContent: \"center\",\n        gap: \"20px\",\n      }}\n    >\n      {/* LEFT: Booking + Guest Info */}\n      <Card\n        sx={{\n          p: 1,\n          background: \"white\",\n          maxWidth: \"700px\",\n          border: \"none\",\n          boxShadow: 0,\n          borderRadius: \"12px\",\n        }}\n      >\n        <CardContent>\n          <Typography\n            variant=\"h6\"\n            gutterBottom\n            sx={{ color: color.firstColor, fontWeight: \"bold\" }}\n          >\n            Your Booking Summary\n          </Typography>\n\n          {/* SLOT AVAILABILITY ALERT */}\n          {!slotAvailability.isAvailable && (\n            <Alert\n              severity=\"error\"\n              sx={{\n                mb: 2,\n                borderRadius: 2,\n                '& .MuiAlert-message': {\n                  fontSize: '14px',\n                  fontWeight: 500\n                }\n              }}\n            >\n              {slotAvailability.message}\n              <Button \n                variant=\"outlined\" \n                size=\"small\" \n                sx={{ ml: 2 }}\n                onClick={() => navigate(-1)}\n              >\n                Go Back\n              </Button>\n            </Alert>\n          )}\n\n          <Box\n            sx={{\n              display: \"flex\",\n              flexDirection: { xs: \"column\", md: \"row\" },\n              gap: { xs: 0, md: 2 },\n              position: \"relative\",\n              mt: 2,\n              height: \"fit-content\",\n              alignItems: \"stretch\",\n            }}\n          >\n            <CardMedia\n              component=\"img\"\n              sx={{\n                width: { xs: \"100%\", md: \"250px\" },\n                borderRadius: \"12px\",\n                objectFit: \"cover\",\n                height: imageHeight,\n                transition: \"height 0.3s ease\",\n              }}\n              image={hotel?.propertyImages?.[0]}\n            />\n            <div style={{ height: \"fit-content\" }} ref={textContainerRef}>\n              <Typography\n                sx={{\n                  fontSize: \"20px\",\n                  fontWeight: 600,\n                  color: color.firstColor,\n                  mt: { xs: 1.5, md: 1 },\n                  display: \"-webkit-box\",\n                  overflow: \"hidden\",\n                  textOverflow: \"ellipsis\",\n                  WebkitLineClamp: 1,\n                  WebkitBoxOrient: \"vertical\",\n                }}\n              >\n                {hotel?.propertyName}\n              </Typography>\n              <Typography\n                sx={{\n                  fontFamily: \"CustomFontSB\",\n                  fontSize: { xs: \"12px\", md: \"14px\" },\n                  display: \"-webkit-box\",\n                  overflow: \"hidden\",\n                  textOverflow: \"ellipsis\",\n                  WebkitLineClamp: 1,\n                  WebkitBoxOrient: \"vertical\",\n                }}\n              >\n                {hotel?.address}\n              </Typography>\n\n              <div\n                style={{\n                  marginTop: \"10px\",\n                  display: \"flex\",\n                  flexWrap: \"wrap\",\n                  flexDirection: \"column\",\n                  gap: \"4px\",\n                }}\n              >\n                {/* Editable Check-in Date */}\n                <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                  {editingCheckin ? (\n                    <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                      <TextField\n                        type=\"date\"\n                        size=\"small\"\n                        value={tempCheckinDate}\n                        onChange={(e) => setTempCheckinDate(e.target.value)}\n                        InputLabelProps={{ shrink: true }}\n                        sx={{ width: 150 }}\n                        InputProps={{\n                          sx: { height: 36 }\n                        }}\n                      />\n                      <IconButton size=\"small\" onClick={handleCheckinDateSave} sx={{ color: \"green\" }}>\n                        <CheckIcon />\n                      </IconButton>\n                      <IconButton size=\"small\" onClick={() => {\n                        setTempCheckinDate(checkinDate);\n                        setEditingCheckin(false);\n                      }} sx={{ color: \"red\" }}>\n                        <CloseIcon />\n                      </IconButton>\n                    </Box>\n                  ) : (\n                    <>\n                      <Typography sx={typoStyle}>\n                        <strong>Check-In Date:</strong>{\" \"}\n                        {dayjs(checkinDate, \"YYYY-MM-DD\").format(\"DD MMM YYYY\")}\n                      </Typography>\n                      <IconButton\n                        size=\"small\"\n                        onClick={() => {\n                          setTempCheckinDate(checkinDate);\n                          setEditingCheckin(true);\n                        }}\n                        sx={{ ml: -1 }}\n                      >\n                        <EditIcon fontSize=\"small\" />\n                      </IconButton>\n                    </>\n                  )}\n                </Box>\n\n                {/* Editable Check-in Time - Only for hourly bookings */}\n                {bookingType === \"hourly\" && (\n                  <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1, mt: 1 }}>\n                    {editingTime ? (\n                      <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 1, width: \"100%\" }}>\n                        <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                          <FormControl size=\"small\" sx={{ minWidth: 120 }}>\n                            <InputLabel>Time</InputLabel>\n                            <Select\n                              value={tempCheckinTime}\n                              onChange={(e) => setTempCheckinTime(e.target.value)}\n                              label=\"Time\"\n                            >\n                              {timeSlots.map((time) => (\n                                <MenuItem key={time.value} value={time.value}>\n                                  {time.label}\n                                </MenuItem>\n                              ))}\n                            </Select>\n                          </FormControl>\n                          <FormControl size=\"small\" sx={{ minWidth: 100 }}>\n                            <InputLabel>Duration</InputLabel>\n                            <Select\n                              value={tempSlotDuration}\n                              onChange={(e) => setTempSlotDuration(e.target.value as number)}\n                              label=\"Duration\"\n                            >\n                              {durationOptions.map((option) => (\n                                <MenuItem key={option.value} value={option.value}>\n                                  {option.label} - {option.price}\n                                </MenuItem>\n                              ))}\n                            </Select>\n                          </FormControl>\n                        </Box>\n                        <Box sx={{ display: \"flex\", gap: 1 }}>\n                          <IconButton size=\"small\" onClick={handleTimeSave} sx={{ color: \"green\" }}>\n                            <CheckIcon />\n                          </IconButton>\n                          <IconButton size=\"small\" onClick={() => {\n                            setTempCheckinTime(checkinTime);\n                            setTempSlotDuration(slotDuration);\n                            setEditingTime(false);\n                          }} sx={{ color: \"red\" }}>\n                            <CloseIcon />\n                          </IconButton>\n                        </Box>\n                      </Box>\n                    ) : (\n                      <>\n                        <Typography sx={typoStyle}>\n                          <strong>Check-In Time:</strong>{\" \"}\n                          {checkinTime ? dayjs(checkinTime, \"HH:mm\").format(\"hh:mm A\") : \"Not set\"}\n                        </Typography>\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => {\n                            setTempCheckinTime(checkinTime);\n                            setTempSlotDuration(slotDuration);\n                            setEditingTime(true);\n                          }}\n                          sx={{ ml: -1 }}\n                        >\n                          <EditIcon fontSize=\"small\" />\n                        </IconButton>\n                      </>\n                    )}\n                  </Box>\n                )}\n\n                {/* Editable Check-out Date - Only for nightly bookings */}\n                {bookingType !== \"hourly\" && (\n                  <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1, mt: 1 }}>\n                    {editingCheckout ? (\n                      <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                        <TextField\n                          type=\"date\"\n                          size=\"small\"\n                          value={tempCheckOutDate}\n                          onChange={(e) => setTempCheckOutDate(e.target.value)}\n                          InputLabelProps={{ shrink: true }}\n                          sx={{ width: 150 }}\n                          InputProps={{\n                            sx: { height: 36 }\n                          }}\n                        />\n                        <IconButton size=\"small\" onClick={handleCheckoutDateSave} sx={{ color: \"green\" }}>\n                          <CheckIcon />\n                        </IconButton>\n                        <IconButton size=\"small\" onClick={() => {\n                          setTempCheckOutDate(checkOutDate);\n                          setEditingCheckout(false);\n                        }} sx={{ color: \"red\" }}>\n                          <CloseIcon />\n                        </IconButton>\n                      </Box>\n                    ) : (\n                      <>\n                        <Typography sx={typoStyle}>\n                          <strong>Check-Out Date:</strong>{\" \"}\n                          {dayjs(checkOutDate, \"YYYY-MM-DD\").format(\"DD MMM YYYY\")}\n                        </Typography>\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => {\n                            setTempCheckOutDate(checkOutDate);\n                            setEditingCheckout(true);\n                          }}\n                          sx={{ ml: -1 }}\n                        >\n                          <EditIcon fontSize=\"small\" />\n                        </IconButton>\n                      </>\n                    )}\n                  </Box>\n                )}\n\n                {/* Duration display */}\n                {bookingType === \"hourly\" ? (\n                  <Typography sx={typoStyle}>\n                    <strong>Duration: </strong>\n                    {slotDuration} hrs\n                  </Typography>\n                ) : (\n                  <Typography sx={typoStyle}>\n                    <strong>Nights: </strong>\n                    {nights} night{nights > 1 ? 's' : ''}\n                  </Typography>\n                )}\n\n                <Typography sx={typoStyle}>\n                  <strong>Room type:</strong> {room?.roomCategory}\n                </Typography>\n\n                {/* Auto-calculated Room Info */}\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                  <Typography sx={typoStyle}>\n                    <strong>Room Info: </strong>\n                    {requiredRooms} Room{requiredRooms && requiredRooms > 1 ? 's' : ''},\n                    {adults} Adult{adults && Number(adults) > 1 ? 's' : ''},\n                    {children} Child{children && Number(children) > 1 ? 'ren' : ''}\n                  </Typography>\n                </Box>\n\n                {/* Price source indicator */}\n                <Typography sx={{ fontSize: 12, color: color.forthColor, mt: 1, fontStyle: 'italic' }}>\n                  {getPriceSource()}  Price may vary by date and availability\n                </Typography>\n              </div>\n            </div>\n          </Box>\n\n          {/* Occupancy Information Panel */}\n          <Box sx={{\n            mt: 2,\n            p: 1.5,\n            bgcolor: '#f5f5f5',\n            borderRadius: '8px',\n            border: '1px solid #e0e0e0'\n          }}>\n            <Typography variant=\"caption\" sx={{ fontWeight: 600, color: color.forthColor, display: 'block', mb: 0.5 }}>\n              Room Occupancy Rules\n            </Typography>\n\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n              <Typography variant=\"caption\" sx={{\n                bgcolor: '#e3f2fd',\n                color: '#1976d2',\n                px: 1,\n                py: 0.5,\n                borderRadius: '4px'\n              }}>\n                Standard: {room?.standardRoomOccupancy || 1} guest{room?.standardRoomOccupancy > 1 ? 's' : ''}\n              </Typography>\n\n              <Typography variant=\"caption\" sx={{\n                bgcolor: '#fff3e0',\n                color: '#f57c00',\n                px: 1,\n                py: 0.5,\n                borderRadius: '4px'\n              }}>\n                Maximum: {room?.maxRoomOccupancy || 1} guest{room?.maxRoomOccupancy > 1 ? 's' : ''}\n              </Typography>\n\n              <Typography variant=\"caption\" sx={{\n                bgcolor: '#e8f5e9',\n                color: '#2e7d32',\n                px: 1,\n                py: 0.5,\n                borderRadius: '4px'\n              }}>\n                Your Guest: {Number(adults) + Number(children)} guest{(Number(adults) + Number(children)) > 1 ? 's' : ''}\n              </Typography>\n\n              <Typography variant=\"caption\" sx={{\n                bgcolor: '#f3e5f5',\n                color: '#7b1fa2',\n                px: 1,\n                py: 0.5,\n                borderRadius: '4px'\n              }}>\n                Rooms needed: {requiredRooms}\n              </Typography>\n            </Box>\n\n            {/* ROOM-WISE DISTRIBUTION */}\n            {guestsPerRoom && guestsPerRoom.length > 0 && (\n              <Box sx={{ mt: 2 }}>\n                <Typography variant=\"caption\" sx={{ fontWeight: 600, color: color.forthColor, display: 'block', mb: 0.5 }}>\n                  Room-wise Guest Distribution:\n                </Typography>\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n                  {guestsPerRoom.map((guests, index) => {\n                    const standardOccupancy = room?.standardRoomOccupancy || 1;\n                    const extraInRoom = guests > standardOccupancy ? guests - standardOccupancy : 0;\n                    \n                    return (\n                      <Typography key={index} variant=\"caption\" sx={{\n                        bgcolor: extraInRoom > 0 ? '#ffebee' : '#e8f5e9',\n                        color: extraInRoom > 0 ? '#c62828' : '#2e7d32',\n                        px: 1,\n                        py: 0.5,\n                        borderRadius: '4px'\n                      }}>\n                        Room {index + 1}: {guests} guest{guests !== 1 ? 's' : ''}\n                        {extraInRoom > 0 && ` (+${extraInRoom} extra)`}\n                      </Typography>\n                    );\n                  })}\n                </Box>\n              </Box>\n            )}\n\n            {/* EXTRA GUEST CHARGE NOTICE - Only show if there are extra guests */}\n            {extraGuestCount > 0 && (\n              <Box sx={{\n                mt: 1.5,\n                p: 1,\n                bgcolor: '#fff3e0',\n                borderRadius: '6px',\n                border: '1px solid #ffcc80'\n              }}>\n                <Typography variant=\"caption\" sx={{ fontWeight: 600, color: '#e65100', display: 'flex', alignItems: 'center', gap: 0.5, mb: 1 }}>\n                  <PersonAddIcon fontSize=\"small\" />\n                  Additional Guest Charges (Payable at Property):\n                </Typography>\n                <Box sx={{ ml: 2, mt: 0.5 }}>\n                  <Typography variant=\"caption\" sx={{ display: 'block' }}>\n                     {extraGuestCount} extra guest{extraGuestCount > 1 ? 's' : ''} across {requiredRooms} room{requiredRooms > 1 ? 's' : ''}\n                    (Standard occupancy: {room?.standardRoomOccupancy || 1} guest{room?.standardRoomOccupancy > 1 ? 's' : ''} per room)\n                  </Typography>\n                  \n                  {/* Show room-wise breakdown if multiple rooms */}\n                  {guestsPerRoom && guestsPerRoom.length > 0 && (\n                    <Box sx={{ mt: 0.5 }}>\n                      <Typography variant=\"caption\" sx={{ display: 'block', fontWeight: 500 }}>\n                        Room-wise breakdown:\n                      </Typography>\n                      {guestsPerRoom.map((guests, index) => {\n                        const standardOccupancy = room?.standardRoomOccupancy || 1;\n                        const extraInRoom = guests - standardOccupancy;\n                        const additionalGuestRate = room?.additionalGuestRate || 0;\n                        \n                        if (extraInRoom > 0) {\n                          return (\n                            <Typography key={index} variant=\"caption\" sx={{ display: 'block', ml: 1 }}>\n                               Room {index + 1}: {extraInRoom} extra guest{extraInRoom > 1 ? 's' : ''} =  {(extraInRoom * additionalGuestRate).toFixed(2)}\n                            </Typography>\n                          );\n                        }\n                        return null;\n                      })}\n                    </Box>\n                  )}\n                  \n                  <Typography variant=\"caption\" sx={{ display: 'block', fontWeight: 600, color: '#e65100', mt: 0.5 }}>\n                     Total extra charge:  {extraGuestCharge.toFixed(2)}\n                  </Typography>\n                  <Typography variant=\"caption\" sx={{ display: 'block', color: '#666', mt: 0.5 }}>\n                    Note: This amount will be collected directly by the property during check-in.\n                  </Typography>\n                </Box>\n              </Box>\n            )}\n          </Box>\n\n          {/* VALIDATION ERROR MESSAGE */}\n          {validationError && (\n            <Alert\n              severity=\"error\"\n              sx={{\n                mt: 3,\n                mb: 2,\n                borderRadius: 2,\n                '& .MuiAlert-message': {\n                  fontSize: '14px',\n                  fontWeight: 500\n                }\n              }}\n              onClose={() => setValidationError(null)}\n            >\n              {validationError}\n            </Alert>\n          )}\n\n          {/* GUEST FORM */}\n          <form onSubmit={formik.handleSubmit}>\n            <Typography\n              variant=\"h6\"\n              mt={4}\n              sx={{ color: color.firstColor, fontWeight: \"bold\" }}\n            >\n              Guest Information\n            </Typography>\n\n            {/* Guest Name */}\n            <CustomTextField\n              label=\"Guest Name *\"\n              name=\"name\"\n              fullWidth\n              margin=\"normal\"\n              value={formik.values.name}\n              onChange={(e) => handleFieldChange(\"name\", e.target.value)}\n              onBlur={formik.handleBlur}\n              error={formik.touched.name && Boolean(formik.errors.name)}\n              helperText={\n                formik.touched.name && formik.errors.name\n                  ? String(formik.errors.name)\n                  : \" \"\n              }\n              inputRef={nameFieldRef}\n              sx={{\n                '& .MuiFormHelperText-root': {\n                  color: 'red',\n                  fontSize: '12px',\n                  marginLeft: 1,\n                  marginTop: 0.5,\n                  fontWeight: 500,\n                },\n                '& .MuiOutlinedInput-root': {\n                  '&.Mui-error fieldset': {\n                    borderColor: 'red',\n                    borderWidth: '2px',\n                  }\n                }\n              }}\n            />\n\n            {/* PHONE NUMBER */}\n            <Box\n              sx={{\n                display: \"flex\",\n                flexDirection: \"column\",\n              }}\n            >\n              <PhoneInput\n                country=\"in\"\n                enableSearch={false}\n                value={formik.values.phoneNumber}\n                placeholder=\"Phone Number\"\n                onChange={(value) => formik.setFieldValue(\"phoneNumber\", value)}\n                onBlur={() => formik.setFieldTouched(\"phoneNumber\", true)}\n                inputStyle={{\n                  width: \"100%\",\n                  height: \"56px\",\n                  borderRadius: \"52px\",\n                  border: \"none\",\n                  outline: \"none\",\n                  boxShadow: \"4px 4px 10px rgba(104, 39, 184, 0.17)\",\n                  color: color.firstColor,\n                  paddingLeft: \"60px\",\n                  fontSize: \"16px\",\n                  backgroundColor: \"white\",\n                }}\n                buttonStyle={{\n                  borderRadius: \"52px 0 0 52px\",\n                  backgroundColor: \"white\",\n                  marginLeft: \"5px\",\n                  border: \"none\",\n                }}\n                containerStyle={{\n                  width: \"100%\",\n                }}\n                dropdownStyle={{\n                  borderRadius: \"12px\",\n                }}\n              />\n\n              {formik.touched.phoneNumber && formik.errors.phoneNumber && (\n                <Typography\n                  sx={{\n                    color: \"red\",\n                    fontSize: \"12px\",\n                    mt: 0.5,\n                    ml: \"14px\",\n                  }}\n                >\n                  {formik.errors.phoneNumber}\n                </Typography>\n              )}\n            </Box>\n\n            {/* Email */}\n            <CustomTextField\n              label=\"Email Address (Optional)\"\n              name=\"email\"\n              fullWidth\n              margin=\"normal\"\n              value={formik.values.email}\n              onChange={(e) => handleFieldChange(\"email\", e.target.value)}\n              onBlur={formik.handleBlur}\n              error={formik.touched.email && Boolean(formik.errors.email)}\n              helperText={\n                formik.touched.email && formik.errors.email\n                  ? String(formik.errors.email)\n                  : \" \"\n              }\n              sx={{\n                '& .MuiFormHelperText-root': {\n                  fontSize: '12px',\n                  marginLeft: 1,\n                  marginTop: 0.5,\n                },\n              }}\n            />\n\n            {/* Coupon Section - Auto Applied */}\n            <Box sx={{ mt: 3, mb: 2 }}>\n              <Typography\n                variant=\"subtitle1\"\n                sx={{ color: color.firstColor, fontWeight: \"bold\", mb: 1 }}\n              >\n                Huts4u Discount\n              </Typography>\n\n              {couponApplied ? (\n                <Box sx={{\n                  p: 2,\n                  borderRadius: 2,\n                  bgcolor: \"#e8f5e9\",\n                  border: \"1px solid #c8e6c9\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\"\n                }}>\n                  <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                    <OfferIcon color=\"success\" />\n                    <Box>\n                      <Typography sx={{ fontWeight: 600, color: \"#2e7d32\" }}>\n                        HUTS4U Discount Applied\n                      </Typography>\n                      <Typography variant=\"body2\" sx={{ color: \"#388e3c\" }}>\n                        discount on total amount\n                      </Typography>\n                      <Typography variant=\"caption\" sx={{ color: \"#666\", display: \"block\", mt: 0.5 }}>\n                        You saved  {couponDiscount.toFixed(2)}\n                      </Typography>\n                    </Box>\n                  </Box>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"error\"\n                    size=\"small\"\n                    onClick={handleRemoveCoupon}\n                  >\n                    Remove\n                  </Button>\n                </Box>\n              ) : (\n                <Box sx={{\n                  p: 2,\n                  borderRadius: 2,\n                  bgcolor: \"#fff3e0\",\n                  border: \"1px solid #ffcc80\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\"\n                }}>\n                  <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                    <OfferIcon color=\"warning\" />\n                    <Box>\n                      <Typography sx={{ fontWeight: 600, color: \"#e65100\" }}>\n                        Huts4u Discount Available\n                      </Typography>\n                      \n                    </Box>\n                  </Box>\n                  <Button\n                    variant=\"contained\"\n                    sx={{ background: color.firstColor }}\n                    size=\"small\"\n                    onClick={handleApplyCoupon}\n                  >\n                    Apply\n                  </Button>\n                </Box>\n              )}\n\n              {couponApplied && (\n                <Typography sx={{ color: \"green\", fontSize: 12, mt: 1, textAlign: \"center\" }}>\n                    Huts4u Discount automatically applied to your booking\n                </Typography>\n              )}\n            </Box>\n\n            {/* Terms acceptance checkbox */}\n            <Box sx={{ mt: 2 }}>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={termsChecked}\n                    onChange={(e) => {\n                      setTermsChecked(e.target.checked);\n                      // Clear validation error when user checks terms\n                      if (validationError && e.target.checked) {\n                        setValidationError(null);\n                      }\n                    }}\n                    color=\"primary\"\n                  />\n                }\n                label={\n                  <span>\n                    I accept the{\" \"}\n                    <span\n                      style={{\n                        color: color.firstColor,\n                        cursor: \"pointer\",\n                        textDecoration: \"underline\",\n                      }}\n                      onClick={() => setTermsOpen(true)}\n                    >\n                      Terms & Conditions\n                    </span>\n                  </span>\n                }\n              />\n            </Box>\n\n            {/* Submit button with improved validation - DISABLED until all conditions are met */}\n            <CustomButton\n              variant=\"contained\"\n              color=\"primary\"\n              fullWidth\n              sx={{\n                mt: 2,\n                opacity: isFormValid() ? 1 : 0.7,\n                '&:disabled': {\n                  backgroundColor: '#e0e0e0',\n                  color: '#9e9e9e',\n                  cursor: 'not-allowed',\n                }\n              }}\n              type=\"submit\"\n              disabled={!isFormValid()}\n            >\n              {isLoggedIn() ? 'Pay Now' : 'Verify Phone & Pay'}\n            </CustomButton>\n\n            <LoginOtpModal\n              open={showOtpModal}\n              onClose={() => setShowOtpModal(false)}\n              onVerificationSuccess={handleOtpSuccess}\n              phone={otpData.phone}\n              name={otpData.name}\n              email={otpData.email}\n              token={otpData.token}\n            />\n\n            {/* Razorpay */}\n            {orderDetails && (\n              <RenderRazorpay\n                orderDetails={orderDetails}\n                amount={grandTotal}\n                bookingDetails={{\n                  hotel,\n                  room,\n                  guestInfo: formik.values,\n                  timing: calculateCheckoutTime(),\n                  pricingDetails: {\n                    ...priceBreakdown,\n                    nights,\n                    rooms: requiredRooms.toString(),\n                    adults,\n                    children,\n                    bookingType,\n                    checkinDate,\n                    checkOutDate,\n                    checkinTime,\n                    slotDuration,\n                    extraGuestCount,\n                    extraGuestCharge,\n                    guestsPerRoom,\n                    inventoryData,\n                    unitBase: inventoryUnitBase,\n                  },\n                  bookingType,\n                  rooms: requiredRooms.toString(),\n                  adults,\n                  children,\n                }}\n              />\n            )}\n          </form>\n        </CardContent>\n      </Card>\n\n      {/* RIGHT: BILL SUMMARY */}\n      <Card\n        sx={{\n          p: 1,\n          background: \"white\",\n          border: \"none\",\n          boxShadow: 0,\n          borderRadius: \"12px\",\n          height: \"fit-content\",\n          minWidth: { md: \"350px\" },\n        }}\n      >\n        <CardContent>\n          <Typography\n            variant=\"h6\"\n            gutterBottom\n            sx={{ color: color.firstColor, fontWeight: \"bold\" }}\n          >\n            Your Bill Summary\n          </Typography>\n\n          {/* Price Source Indicator */}\n          <Box sx={{ \n            mb: 2, \n            p: 1, \n            bgcolor: \"#e8f5e9\", \n            borderRadius: 1,\n            border: \"1px solid #c8e6c9\"\n          }}>\n            <Typography variant=\"body2\" sx={{ fontWeight: 600, color: \"#2e7d32\" }}>\n              {getPriceSource()}\n            </Typography>\n            <Typography variant=\"caption\" sx={{ color: \"#388e3c\", display: \"block\", mt: 0.5 }}>\n              {bookingType === \"hourly\"\n                ? `${slotDuration} hrs  ${requiredRooms} room${requiredRooms && requiredRooms > 1 ? 's' : ''}`\n                : `${nights} night${nights > 1 ? 's' : ''}  ${requiredRooms} room${requiredRooms && requiredRooms > 1 ? 's' : ''}`}\n            </Typography>\n            {couponApplied && (\n              <Typography variant=\"body2\" sx={{ color: \"green\", fontWeight: 600, mt: 0.5 }}>\n                  Huts4u Discount Applied\n              </Typography>\n            )}\n          </Box>\n\n          {/* EXTRA GUEST CHARGE NOTICE */}\n          {extraGuestCount > 0 && (\n            <Box sx={{\n              mb: 2,\n              p: 1.5,\n              bgcolor: '#fff3e0',\n              borderRadius: '8px',\n              border: '1px solid #ffcc80'\n            }}>\n              <Typography variant=\"caption\" sx={{ fontWeight: 600, color: '#e65100', display: 'flex', alignItems: 'center', gap: 0.5, mb: 1 }}>\n                <PersonAddIcon fontSize=\"small\" />\n                Additional Guest Charges\n              </Typography>\n              <Typography variant=\"body2\" sx={{ ml: 2 }}>\n                {extraGuestCount} extra guest{extraGuestCount > 1 ? 's' : ''}:  {extraGuestCharge.toFixed(2)}\n              </Typography>\n              <Typography variant=\"caption\" sx={{ display: 'block', color: '#666', mt: 1, fontStyle: 'italic' }}>\n                Note: This amount will be collected directly by the property during check-in.\n              </Typography>\n            </Box>\n          )}\n\n          {/* TOP: Compact price view */}\n          <div\n            style={{\n              marginTop: \"10px\",\n              display: \"flex\",\n              flexWrap: \"wrap\",\n              flexDirection: \"column\",\n              gap: \"8px\",\n              alignItems: \"flex-end\",\n            }}\n          >\n            {/* 1) Top struck-through bigger: base + 700 */}\n            <Typography\n              sx={{\n                fontSize: \"16px\",\n                color: color.forthColor,\n                textDecoration: \"line-through\",\n                fontWeight: 600,\n                opacity: 0.95,\n              }}\n            >\n              {displayBase > 0\n                ? ` ${displayBasePlus700.toFixed(0)}`\n                : \"---\"}\n            </Typography>\n\n            {/* 2) Main bold price = base + platform */}\n            <Typography\n              sx={{\n                fontSize: \"24px\",\n                color: color.firstColor,\n                fontWeight: \"bold\",\n              }}\n            >\n              {displayCombinedBasePlatform > 0\n                ? ` ${displayCombinedBasePlatform.toFixed(0)}`\n                : \"\"}\n            </Typography>\n\n            {/* 3) GST breakdown */}\n            <Typography\n              sx={{\n                fontSize: \"13px\",\n                color: color.forthColor,\n                textAlign: \"right\",\n              }}\n            >\n              {displayGstTotal > 0 ? (\n                <>{displayGstTotal.toFixed(0)} taxes &amp; fees</>\n              ) : (\n                \"\"\n              )}\n            </Typography>\n            <Divider sx={{ width: \"100%\", mt: 1 }} />\n\n            {/* 4) Final total */}\n            <div style={{ width: \"100%\", textAlign: \"right\" }}>\n              {/* Show coupon amount if applied */}\n              {couponDiscount > 0 && couponApplied && (\n                <>\n                  <Typography sx={{ fontSize: 13, color: color.forthColor }}>\n                    Subtotal before discount:  {totalWithoutDiscount.toFixed(2)}\n                  </Typography>\n                  <Typography\n                    sx={{\n                      fontSize: 14,\n                      color: \"green\",\n                      fontWeight: 600,\n                    }}\n                  >\n                     Huts4u Discount: -  {couponDiscount.toFixed(2)}\n                  </Typography>\n                </>\n              )}\n\n              <Typography\n                sx={{\n                  fontSize: \"16px\",\n                  color: color.firstColor,\n                  fontWeight: \"700\",\n                  mt: (couponDiscount > 0 && couponApplied) ? 1 : 0,\n                }}\n              >\n                {finalPrice > 0\n                  ? `Final:  ${payableAfterCoupon.toFixed(2)}`\n                  : \"---\"}\n              </Typography>\n            </div>\n          </div>\n\n          {/* DETAILED INVOICE-STYLE BREAKUP */}\n          <Box\n            sx={{\n              mt: 3,\n              borderRadius: 2,\n              border: \"1px dashed #ddd\",\n              p: 2,\n              backgroundColor: \"#fafafa\",\n            }}\n          >\n            <Typography\n              sx={{\n                fontSize: 13,\n                fontWeight: 600,\n                mb: 1,\n                color: color.forthColor,\n              }}\n            >\n              Detailed Breakup\n            </Typography>\n\n            {/* Unit Price Display */}\n            {/* <Typography sx={{ fontSize: 12, color: \"#666\", mb: 1 }}>\n              Unit Price:  {inventoryUnitBase.toFixed(2)} {bookingType === \"hourly\" ? `per ${slotDuration} hours` : 'per night'}\n            </Typography> */}\n\n            {/* 1. Base Price + Hotel GST */}\n            <Typography sx={{ fontSize: 13 }}>\n              <strong>1. Base Price (Reimbursement)</strong>{\" \"}\n              <span style={{ fontSize: 11 }}>(HSN 9985)</span>\n              <span style={{ float: \"right\" }}>\n                 {(totalBase + gstOnBase).toFixed(2)}\n              </span>\n            </Typography>\n\n            {/* 2. Service Charges + CGST + SGST */}\n            <Typography sx={{ fontSize: 13, mt: 1 }}>\n              <strong>2. Service Charges</strong>{\" \"}\n              <span style={{ fontSize: 11 }}>(HSN 996111)</span>\n              <span style={{ float: \"right\" }}>\n                 {serviceTaxableValue.toFixed(2)}\n              </span>\n            </Typography>\n            <Typography sx={{ fontSize: 12, ml: 2, mt: 0.3 }}>\n              CGST @ 9% on Service\n              <span style={{ float: \"right\" }}>\n                 {cgstOnService.toFixed(2)}\n              </span>\n            </Typography>\n            <Typography sx={{ fontSize: 12, ml: 2 }}>\n              SGST @ 9% on Service\n              <span style={{ float: \"right\" }}>\n                 {sgstOnService.toFixed(2)}\n              </span>\n            </Typography>\n\n            {/* 3. Convenience Fees (Incl. GST) */}\n            <Typography sx={{ fontSize: 13, mt: 1 }}>\n              <strong>3. Convenience Fees (Incl. GST)</strong>{\" \"}\n              <span style={{ fontSize: 11 }}>(Reimbursement, HSN 9985)</span>\n              <span style={{ float: \"right\" }}>\n                 {convenienceFeeInclGst.toFixed(2)}\n              </span>\n            </Typography>\n\n            <Divider sx={{ my: 1.5 }} />\n\n            {/* SUBTOTAL BEFORE DISCOUNT */}\n            <Box sx={{ display: \"flex\", justifyContent: \"space-between\", mb: 1 }}>\n              <Typography sx={{ fontSize: 14, fontWeight: 600 }}>\n                Subtotal:\n              </Typography>\n              <Typography sx={{ fontSize: 14, fontWeight: 600 }}>\n                 {totalWithoutDiscount.toFixed(2)}\n              </Typography>\n            </Box>\n\n            {/* DISCOUNT - Only show if applied */}\n            {couponApplied && couponDiscount > 0 && (\n              <Box sx={{ display: \"flex\", justifyContent: \"space-between\", mb: 1.5 }}>\n                <Typography sx={{ fontSize: 14, fontWeight: 600, color: \"green\" }}>\n                  Huts4u Discount:\n                </Typography>\n                <Typography sx={{ fontSize: 14, fontWeight: 600, color: \"green\" }}>\n                  -  {couponDiscount.toFixed(2)}\n                </Typography>\n              </Box>\n            )}\n\n            <Divider sx={{ my: 1 }} />\n\n            {/* FINAL TOTAL PAYABLE */}\n            <Box sx={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", mt: 1.5 }}>\n              <Typography sx={{ fontSize: 16, fontWeight: 700, color: color.firstColor }}>\n                Total Payable\n              </Typography>\n              <Typography sx={{ fontSize: 18, fontWeight: 700, color: color.firstColor }}>\n                 {grandTotal.toFixed(2)}\n              </Typography>\n            </Box>\n\n            {/* Additional savings note */}\n            {couponApplied && couponDiscount > 0 && (\n              <Box sx={{ mt: 1.5, p: 1.5, bgcolor: \"#e8f5e9\", borderRadius: 1 }}>\n                <Typography sx={{ fontSize: 13, color: \"#2e7d32\", fontWeight: 600, textAlign: \"center\" }}>\n                   You saved  {couponDiscount.toFixed(2)} with Huts4u Discount!\n                </Typography>\n              </Box>\n            )}\n          </Box>\n        </CardContent>\n      </Card>\n\n      {/* Terms & Conditions Dialog */}\n      <Dialog\n        open={termsOpen}\n        onClose={() => setTermsOpen(false)}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogTitle>Terms & Conditions</DialogTitle>\n        <DialogContent>\n          <Typography variant=\"body2\" sx={{ whiteSpace: \"pre-line\" }}>\n            {termsText}\n          </Typography>\n          <Typography\n            variant=\"body2\"\n            sx={{\n              color: color.firstColor,\n              textDecoration: \"underline\",\n              cursor: \"pointer\",\n              fontWeight: 600,\n            }}\n            onClick={() => window.open(\"https://huts4u.com/terms\", \"_blank\")}\n          >\n            Open Huts4u Terms & Conditions\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => {\n              setTermsOpen(false);\n            }}\n          >\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default BookingSummary;\n\nconst typoStyle = {\n  borderRadius: \"52px\",\n  boxShadow: \"4px 4px 10px rgba(104, 39, 184, 0.17)\",\n  color: color.firstColor,\n  background: \"white\",\n  fontSize: { xs: \"12px\", md: \"14px\" },\n  width: \"fit-content\",\n  p: 1,\n  px: 2,\n  mb: 1,\n};"],"names":["createSvgIcon","_jsx","d","getCheckboxUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CheckboxRoot","styled","SwitchBase","shouldForwardProp","prop","rootShouldForwardProp","name","overridesResolver","props","styles","ownerState","root","indeterminate","concat","capitalize","size","color","memoTheme","_ref","theme","vars","palette","text","secondary","variants","disableRipple","style","backgroundColor","action","activeChannel","hoverOpacity","alpha","active","Object","entries","filter","createSimplePaletteValueFilter","map","_ref2","mainChannel","main","_ref3","checkboxClasses","checked","disabled","defaultCheckedIcon","CheckBoxIcon","defaultIcon","CheckBoxOutlineBlankIcon","defaultIndeterminateIcon","IndeterminateCheckBoxIcon","React","inProps","ref","_slotProps$input","_icon$props$fontSize","_indeterminateIcon$pr","useDefaultProps","checkedIcon","icon","iconProp","indeterminateIcon","indeterminateIconProp","inputProps","className","slots","slotProps","other","_objectWithoutProperties","_objectSpread","classes","composedClasses","composeClasses","useUtilityClasses","externalInputProps","input","RootSlot","rootSlotProps","useSlot","elementType","clsx","shouldForwardComponentProp","externalForwardedProps","additionalProps","type","fontSize","mergeSlotProps","orderDetails","bookingDetails","checkedInTimes","setCheckInTimes","useState","checkedOutTimes","setCheckOutTimes","open","setOpen","useNavigate","console","log","useEffect","_bookingDetails$room","bookingType","getOneRoomData","room","id","then","res","_res$data","_res$data$data","_res$data2","_res$data2$data","data","checkInTime","checkOutTime","handleClose","children","_jsxs","Dialog","onClose","maxWidth","fullWidth","sx","padding","borderRadius","DialogTitle","DialogContent","DialogActions","display","justifyContent","Button","textTransform","onClick","async","_bookingDetails$guest","_bookingDetails$guest2","_bookingDetails$guest3","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","window","Razorpay","alert","timingDetails","getTimingDetails","_bookingDetails$timin","_bookingDetails$timin2","_bookingDetails$timin3","_bookingDetails$timin4","timing","options","key","R_KEY_ID","amount","currency","order_id","prefill","guestInfo","email","contact","phoneNumber","handler","_bookingDetails$hotel","_bookingDetails$room2","_bookingDetails$guest4","_bookingDetails$timin5","_bookingDetails$timin6","_bookingDetails$hotel2","_res$data3","_res$data3$data","verifyPayment","orderId","response","razorpay_order_id","paymentId","razorpay_payment_id","signature","razorpay_signature","payLoad","userId","getUserId","hotelId","hotel","roomId","geustName","amountPaid","checkInDate","checkOutDate","geustDetails","adults","hotelName","propertyName","status","rooms","postBooking","_res$data4","_res$data4$data","_bookingDetails$hotel3","_bookingDetails$room3","_res$data5","_res$data5$data","_bookingDetails$prici","_bookingDetails$prici2","_bookingDetails$prici3","_bookingDetails$prici4","_res$data6","_res$data6$data","_res$data7","_res$data7$data","_bookingDetails$timin7","_res$data8","_res$data8$data","_bookingDetails$hotel4","_res$data9","_res$data9$data","_bookingDetails$room4","_bookingDetails$prici5","_bookingDetails$prici6","_bookingDetails$prici7","_bookingDetails$prici8","_res$data0","_res$data0$data","_bookingDetails$timin8","_res$data1","_bookingDetails$guest5","_bookingDetails$hotel5","_bookingDetails$hotel6","_bookingDetails$timin9","_bookingDetails$guest6","_bookingDetails$prici9","_bookingDetails$prici0","_bookingDetails$prici1","_bookingDetails$prici10","_bookingDetails$prici11","_bookingDetails$prici12","_bookingDetails$prici13","_bookingDetails$prici14","_bookingDetails$prici15","_bookingDetails$prici16","_bookingDetails$timin0","_bookingDetails$hotel7","_bookingDetails$hotel8","payoutPayLoad","bookingId","amountPaise","feePaise","pricingDetails","platformFee","gstOnPlatform","netAmountPaise","basePrice","gstOnBase","bookingsIncluded","bookingDate","scheduledAt","dayjs","toDate","transactionRef","gatewayResponse","failureReason","processedBy","note","mypaymentPayload","netmyAmountPaise","initiatedAt","Date","processedAt","createMyPayment","catch","err","createHotelPayment","toast","msg","messagetamplet","guestName","location","address","format","phone","razorpayfee","gstTotal","totalPrice","hotelEmail","receptionEmail","receptionistPhone","receptionMobile","bookingConfirm","href","error","variant","background","firstColor","border","transition","paddingRight","validationSchema","Yup","required","optional","test","value","slice","length","calculatePriceBreakdown","couponApplied","arguments","undefined","numericBase","Number","convenienceFee","gstOnConvenience","totalWithoutDiscount","couponDiscount","finalPrice","subtotalBeforeConvenience","BookingSummary","_location$state","_location$state2","_location$state3","_location$state4","_location$state5","_value$match","_hotel$propertyImages","useLocation","state","hotelData","selectedRoom","selectedSlot","inventoryData","queryParams","URLSearchParams","search","initialBookingType","get","initialCheckinTime","initialCheckinDate","initialCheckOutDate","initialRooms","initialAdults","initialChildren","setBookingType","checkinTime","setCheckinTime","checkinDate","setCheckinDate","setCheckOutDate","add","setRooms","setAdults","setChildren","editingCheckin","setEditingCheckin","editingCheckout","setEditingCheckout","editingTime","setEditingTime","tempCheckinDate","setTempCheckinDate","tempCheckOutDate","setTempCheckOutDate","tempCheckinTime","setTempCheckinTime","number","match","initialExtractedNumber","parseInt","slotDuration","setSlotDuration","tempSlotDuration","setTempSlotDuration","user","setUser","showOtpModal","setShowOtpModal","otpData","setOtpData","token","setOrderDetails","termsChecked","setTermsChecked","termsOpen","setTermsOpen","couponCode","setCouponCode","setCouponApplied","couponError","setCouponError","validationError","setValidationError","nameFieldRef","useRef","phoneFieldRef","guestDistribution","distributeGuestsToRooms","totalGuests","standardOccupancy","maxOccupancy","additionalGuestRate","requiredRooms","extraGuestCount","extraGuestCharge","guestsPerRoom","Math","ceil","remainingGuests","i","roomIndex","forEach","guestsInRoom","extraInThisRoom","standardRoomOccupancy","maxRoomOccupancy","getInventoryPriceForDate","checkDay","dayInventory","find","inv","date","rateFor1Night","rateFor3Hour","rateFor6Hour","rateFor12Hour","overnightRate","threeHourRate","sixHourRate","twelveHourRate","getSlotKey","slotAvailability","_room$status","roomStatus","toLowerCase","isBlocked","overnightAvailable","overnightBooked","threeHourAvailable","threeHourBooked","sixHourAvailable","sixHourBooked","twelveHourAvailable","twelveHourBooked","isSlotAvailable","isAvailable","message","unitBase","getUnitBasePrice","slotKey","toString","isLoggedIn","getProfile","calculateNights","inDate","outDate","isValid","diff","max","nights","priceBreakdown","calculateTotalPrice","totalMultiplier","breakdown","totalBase","inventoryUnitBase","displayBase","displayBasePlus700","displayCombinedBasePlatform","displayGstTotal","payableAfterCoupon","toFixed","serviceTaxableValue","cgstOnService","sgstOnService","convenienceFeeInclGst","grandTotal","handlePayment","round","createOrder","navigate","formik","useFormik","initialValues","userName","enableReinitialize","onSubmit","values","_nameFieldRef$current","_nameFieldRef$current2","_phoneFieldRef$curren","trim","current","focus","scrollIntoView","behavior","block","sendOTP","textContainerRef","imageHeight","setImageHeight","clientHeight","timeSlots","generateTimeSlots","hour","minute","time","padStart","push","label","durationOptions","generateDurationOptions","checkSlotAvailability","hours","_room$status2","price","isFormValid","isNameValid","isPhoneValid","handleFieldChange","field","setFieldValue","setFieldTouched","getPriceSource","Box","BoxStyle","mt","py","px","xs","md","flexDirection","gap","Card","p","boxShadow","CardContent","Typography","gutterBottom","fontWeight","Alert","severity","mb","ml","position","height","alignItems","CardMedia","component","width","objectFit","image","propertyImages","overflow","textOverflow","WebkitLineClamp","WebkitBoxOrient","fontFamily","marginTop","flexWrap","TextField","onChange","e","target","InputLabelProps","shrink","InputProps","IconButton","handleCheckinDateSave","success","isAfter","CheckIcon","CloseIcon","_Fragment","typoStyle","EditIcon","FormControl","minWidth","InputLabel","Select","MenuItem","option","handleTimeSave","handleCheckoutDateSave","isBefore","roomCategory","forthColor","fontStyle","bgcolor","guests","index","extraInRoom","PersonAddIcon","handleSubmit","CustomTextField","margin","onBlur","handleBlur","touched","Boolean","errors","helperText","String","inputRef","marginLeft","borderColor","borderWidth","PhoneInput","country","enableSearch","placeholder","inputStyle","outline","paddingLeft","buttonStyle","containerStyle","dropdownStyle","OfferIcon","handleRemoveCoupon","info","handleApplyCoupon","textAlign","FormControlLabel","control","Checkbox","cursor","textDecoration","CustomButton","opacity","LoginOtpModal","onVerificationSuccess","handleOtpSuccess","RenderRazorpay","calculateCheckoutTime","checkInDateTime","checkOutDateTime","duration","Divider","float","my","whiteSpace"],"ignoreList":[],"sourceRoot":""}