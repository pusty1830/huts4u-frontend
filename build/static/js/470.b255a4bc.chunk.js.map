{"version":3,"file":"static/js/470.b255a4bc.chunk.js","mappings":"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","sources":["pages/BookingDetails.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Divider,\n  Grid,\n  Typography,\n  CircularProgress,\n  Container,\n} from \"@mui/material\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport html2canvas from \"html2canvas\";\nimport jsPDF from \"jspdf\";\nimport color from \"../components/color\";\nimport { getAllMyBookings } from \"../services/services\";\nimport { toast } from \"react-toastify\";\nimport { getUserName } from \"../services/axiosClient\";\n\n// small helpers\nconst safeNumber = (v: any): number => {\n  if (v === null || v === undefined || v === \"\") return 0;\n  const n = Number(v);\n  if (isNaN(n)) return 0;\n  return n;\n};\n\nconst normalizeAmountToRupees = (val: any) => {\n  const n = safeNumber(val);\n  if (Math.abs(n) > 1000) return n / 100;\n  return n;\n};\n\nconst round2 = (n: number) => Math.round(n * 100) / 100;\n\n// Calculate invoice breakdown based on the example image structure\nconst calculateInvoiceBreakdown = (finalAmount: number) => {\n  const discountPercentage = 0.05; // 5% discount\n  const serviceChargePercentage = 0.13; // 13% of Base Price WITH GST\n  const convenienceFeePercentage = 0.02; // 2% convenience fee\n  \n  // Step 1: Calculate subtotal before discount\n  const subtotalBeforeDiscount = round2(finalAmount / (1 - discountPercentage));\n  const discountAmount = round2(subtotalBeforeDiscount * discountPercentage);\n  \n  // Step 2: We need to find Base Price (x) that satisfies:\n  const basePriceExclGST = round2(subtotalBeforeDiscount / 1.23965);\n  \n  // Now calculate all components\n  // Base Price with 5% GST\n  const baseCGST = round2(basePriceExclGST * 0.025);\n  const baseSGST = round2(basePriceExclGST * 0.025);\n  const baseTotal = round2(basePriceExclGST + baseCGST + baseSGST);\n  \n  // Service Charges (13% of Base Total) with 18% GST\n  const serviceChargesExclGST = round2(baseTotal * serviceChargePercentage);\n  const serviceCGST = round2(serviceChargesExclGST * 0.09);\n  const serviceSGST = round2(serviceChargesExclGST * 0.09);\n  const serviceTotal = round2(serviceChargesExclGST + serviceCGST + serviceSGST);\n  \n  // Convenience Fee (2% of core) with 18% GST\n  const coreTotal = baseTotal + serviceTotal;\n  const convenienceFeeExclGST = round2(coreTotal * convenienceFeePercentage);\n  const convenienceCGST = round2(convenienceFeeExclGST * 0.09);\n  const convenienceSGST = round2(convenienceFeeExclGST * 0.09);\n  const convenienceTotal = round2(convenienceFeeExclGST + convenienceCGST + convenienceSGST);\n  \n  // Recalculate subtotal to ensure accuracy\n  const calculatedSubtotal = round2(baseTotal + serviceTotal + convenienceTotal);\n  const calculatedDiscount = round2(calculatedSubtotal * discountPercentage);\n  const calculatedFinal = round2(calculatedSubtotal - calculatedDiscount);\n  \n  return {\n    basePrice: basePriceExclGST,\n    baseCGST: baseCGST,\n    baseSGST: baseSGST,\n    baseTotal: baseTotal,\n    serviceCharges: serviceChargesExclGST,\n    serviceCGST: serviceCGST,\n    serviceSGST: serviceSGST,\n    serviceTotal: serviceTotal,\n    convenienceFee: convenienceFeeExclGST,\n    convenienceCGST: convenienceCGST,\n    convenienceSGST: convenienceSGST,\n    convenienceTotal: convenienceTotal,\n    subtotalBeforeDiscount: calculatedSubtotal,\n    discountAmount: calculatedDiscount,\n    finalAmount: calculatedFinal,\n    totalCGST: round2(baseCGST + serviceCGST + convenienceCGST),\n    totalSGST: round2(baseSGST + serviceSGST + convenienceSGST),\n    totalGST: round2(baseCGST + baseSGST + serviceCGST + serviceSGST + convenienceCGST + convenienceSGST),\n    totalTaxable: round2(basePriceExclGST + serviceChargesExclGST + convenienceFeeExclGST),\n  };\n};\n\nconst numberToWords = (amount: number) => {\n  const single = [\n    \"\", \"One\", \"Two\", \"Three\", \"Four\", \"Five\", \"Six\", \"Seven\", \"Eight\", \"Nine\",\n    \"Ten\", \"Eleven\", \"Twelve\", \"Thirteen\", \"Fourteen\", \"Fifteen\", \"Sixteen\", \n    \"Seventeen\", \"Eighteen\", \"Nineteen\"\n  ];\n  const tens = [\n    \"\", \"\", \"Twenty\", \"Thirty\", \"Forty\", \"Fifty\", \"Sixty\", \"Seventy\", \n    \"Eighty\", \"Ninety\"\n  ];\n\n  const toWords = (n: number): string => {\n    let word = \"\";\n    if (n >= 10000000) {\n      word += toWords(Math.floor(n / 10000000)) + \" Crore \";\n      n = n % 10000000;\n    }\n    if (n >= 100000) {\n      word += toWords(Math.floor(n / 100000)) + \" Lakh \";\n      n = n % 100000;\n    }\n    if (n >= 1000) {\n      word += toWords(Math.floor(n / 1000)) + \" Thousand \";\n      n = n % 1000;\n    }\n    if (n >= 100) {\n      word += toWords(Math.floor(n / 100)) + \" Hundred \";\n      n = n % 100;\n    }\n    if (n > 0) {\n      if (n < 20) word += single[n] + \" \";\n      else {\n        word += tens[Math.floor(n / 10)] + \" \" + single[n % 10] + \" \";\n      }\n    }\n    return word.trim() + \" \";\n  };\n\n  const rupees = Math.floor(amount);\n  const paise = Math.round((amount - rupees) * 100);\n\n  let result = \"\";\n  if (rupees > 0) result += toWords(rupees) + \"Rupees\";\n  if (paise > 0) {\n    if (result) result += \" and \";\n    result += toWords(paise) + \"Paise\";\n  }\n  if (!result) result = \"Zero Rupees\";\n  result += \" Only\";\n  return result.replace(/\\s+/g, \" \").trim();\n};\n\n// Simple GST Info Section - Only shows essential user GST details\nconst UserGstInfoSection: React.FC<{\n  gstDetails: any;\n  invoiceNumber: string;\n  dated: string;\n  bookingId: string;\n}> = ({ gstDetails, invoiceNumber, dated, bookingId }) => {\n  const gstNumber = gstDetails.gstNumber || gstDetails.gstin || \"\";\n  const legalName = gstDetails.legalName || gstDetails.companyName || \"\";\n  \n  if (!gstNumber || !legalName) return null;\n\n  return (\n    <Box sx={{ \n      mb: 3, \n      p: 2, \n      backgroundColor: \"#f5f5f5\", \n      borderRadius: \"4px\",\n      fontSize: \"11px\" \n    }}>\n      <Grid container spacing={1}>\n        <Grid item xs={6} sm={3}>\n          <Typography sx={{ fontWeight: 700 }}>Booking ID</Typography>\n          <Typography>{bookingId || \"-\"}</Typography>\n        </Grid>\n        <Grid item xs={6} sm={3}>\n          <Typography sx={{ fontWeight: 700 }}>Invoice No.</Typography>\n          <Typography>{invoiceNumber}</Typography>\n        </Grid>\n        <Grid item xs={6} sm={3}>\n          <Typography sx={{ fontWeight: 700 }}>Date</Typography>\n          <Typography>{dated}</Typography>\n        </Grid>\n        <Grid item xs={6} sm={3}>\n          <Typography sx={{ fontWeight: 700 }}>Place of Supply</Typography>\n          <Typography>Odisha</Typography>\n        </Grid>\n        <Grid item xs={6} sm={3}>\n          <Typography sx={{ fontWeight: 700 }}>GSTIN</Typography>\n          <Typography>{gstNumber}</Typography>\n        </Grid>\n        <Grid item xs={6} sm={3}>\n          <Typography sx={{ fontWeight: 700 }}>Company Legal Name</Typography>\n          <Typography>{legalName}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography sx={{ fontWeight: 700 }}>Company Address</Typography>\n          <Typography>{gstDetails.address || gstDetails.companyAddress || \"\"}</Typography>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nconst BookingDetails: React.FC = () => {\n  const { id } = useParams();\n  const location = useLocation();\n  const [booking, setBooking] = useState<any>(location.state || null);\n  const [loading, setLoading] = useState(false);\n  const invoiceRef = useRef<HTMLDivElement | null>(null);\n  const [generatingPdf, setGeneratingPdf] = useState(false);\n\n  useEffect(() => {\n    const loadBookingIfNeeded = async () => {\n      if (booking) return;\n      if (!id) return;\n      setLoading(true);\n      try {\n        const Payload = { \n          data: { filter: \"\", bookingId: id }, \n          page: 0, \n          pageSize: 1, \n          order: [[\"createdAt\", \"DESC\"]] \n        };\n        const res = await getAllMyBookings(Payload);\n        const row = res?.data?.data?.rows?.[0];\n        if (row) setBooking(row);\n        else toast.error(\"Booking not found\");\n      } catch (err) {\n        console.error(\"Failed to fetch booking\", err);\n        toast.error(\"Failed to load booking details\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadBookingIfNeeded();\n  }, [id, booking]);\n\n  const UserName = getUserName();\n\n  const formatCurrency = (amount: number | string) => {\n    if (amount === null || amount === undefined) return \"₹0.00\";\n    const rupees = normalizeAmountToRupees(amount);\n    return rupees.toLocaleString(\"en-IN\", { \n      style: \"currency\", \n      currency: \"INR\", \n      minimumFractionDigits: 2 \n    });\n  };\n\n  const downloadInvoice = async () => {\n    if (!invoiceRef.current) return;\n    setGeneratingPdf(true);\n    try {\n      const invoiceElement = invoiceRef.current;\n      const clone = invoiceElement.cloneNode(true) as HTMLElement;\n      \n      clone.style.width = \"800px\";\n      clone.style.margin = \"0 auto\";\n      clone.style.padding = \"20px\";\n      clone.style.backgroundColor = \"white\";\n      clone.style.color = \"black\";\n      clone.style.fontFamily = \"'Arial', sans-serif\";\n      \n      clone.style.position = \"fixed\";\n      clone.style.left = \"-9999px\";\n      clone.style.top = \"0\";\n      document.body.appendChild(clone);\n\n      const canvas = await html2canvas(clone, {\n        scale: 2,\n        useCORS: true,\n        backgroundColor: \"#ffffff\",\n        logging: false,\n        width: clone.scrollWidth,\n        height: clone.scrollHeight,\n        windowWidth: clone.scrollWidth,\n        windowHeight: clone.scrollHeight\n      });\n\n      document.body.removeChild(clone);\n\n      const imgData = canvas.toDataURL(\"image/png\", 1.0);\n      const pdf = new jsPDF({\n        orientation: \"portrait\",\n        unit: \"mm\",\n        format: \"a4\"\n      });\n\n      const pdfWidth = pdf.internal.pageSize.getWidth();\n      const pdfHeight = pdf.internal.pageSize.getHeight();\n      \n      const imgWidth = canvas.width;\n      const imgHeight = canvas.height;\n      \n      const ratio = Math.min(pdfWidth / imgWidth, pdfHeight / imgHeight);\n      const imgX = (pdfWidth - imgWidth * ratio) / 2;\n      const imgY = 5;\n      \n      pdf.addImage(\n        imgData, \n        \"PNG\", \n        imgX, \n        imgY, \n        imgWidth * ratio, \n        imgHeight * ratio\n      );\n      \n      pdf.save(`HUTS4U-Invoice-${booking?.id || id}.pdf`);\n      toast.success(\"Invoice downloaded successfully!\");\n    } catch (err) {\n      console.error(\"Failed to generate PDF\", err);\n      toast.error(\"Failed to generate invoice PDF.\");\n    } finally {\n      setGeneratingPdf(false);\n    }\n  };\n\n  if (loading || !booking) {\n    return (\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", py: 6 }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  // Calculate invoice amounts\n  const finalAmount = round2(normalizeAmountToRupees(booking.amountPaid ?? booking.amount ?? 0));\n  const breakdown = calculateInvoiceBreakdown(finalAmount);\n\n  // Get GST details from booking object - handle both camelCase and PascalCase\n  const gstDetails = booking.gstDetail || booking.GstDetail || {};\n  const gstNumber = gstDetails.gstNumber || gstDetails.gstin || \"\";\n  const legalName = gstDetails.legalName || gstDetails.companyName || \"\";\n  const gstAddress = gstDetails.address || gstDetails.companyAddress || \"\";\n  \n  // Check if we have GST details\n  const hasGstDetails = gstNumber && legalName;\n\n  const invoiceNumber = booking.invoiceNo || `HUTS-${booking.id}`;\n  const dated = booking.createdAt \n    ? new Date(booking.createdAt).toLocaleDateString(\"en-IN\")\n    : new Date().toLocaleDateString(\"en-IN\");\n  const amountInWords = booking.amountInWords || numberToWords(breakdown.finalAmount);\n  const logoUrl = \"https://huts44u.s3.ap-south-1.amazonaws.com/hutlogo-removebg-preview.png\";\n\n  // Company information (HUTS4U company info)\n  const companyInfo = {\n    name: \"HUTS4U\",\n    address: \"Ground Floor, Plot No. 370/10537, New Pokhran Village, Chandrasekharpur, Bhubaneswar, Odisha – 751016, India\",\n    gstin: \"21AASFH3550L1Z7\"\n  };\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n      <Button \n        onClick={() => window.history.back()} \n        sx={{ mb: 3, textTransform: \"none\" }}\n      >\n        ← Back to Bookings\n      </Button>\n\n      <Grid container spacing={3}>\n        {/* Booking Summary Card */}\n        <Grid item xs={12} md={8}>\n          <Card sx={{ p: 3, borderRadius: 2, boxShadow: 2 }}>\n            <CardContent>\n              <Typography variant=\"h5\" sx={{ fontWeight: 700, mb: 2, color: color.firstColor }}>\n                Booking Details\n              </Typography>\n\n              <Grid container spacing={2}>\n                <Grid item xs={12} sm={6}>\n                  <Typography sx={{ mb: 1 }}>\n                    <strong>Property:</strong> {booking.hotelName || booking.propertyName || \"-\"}\n                  </Typography>\n                  <Typography sx={{ mb: 1 }}>\n                    <strong>Guest:</strong> {UserName}\n                  </Typography>\n                  <Typography sx={{ mb: 1 }}>\n                    <strong>Booking ID:</strong> {booking.id}\n                  </Typography>\n                  {hasGstDetails && (\n                    <>\n                      <Typography sx={{ mb: 1 }}>\n                        <strong>Company Name:</strong> {legalName}\n                      </Typography>\n                      <Typography sx={{ mb: 1 }}>\n                        <strong>GSTIN:</strong> {gstNumber}\n                      </Typography>\n                    </>\n                  )}\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <Typography sx={{ mb: 1 }}>\n                    <strong>Check-in:</strong> {booking.checkInDate ?? \"-\"} {booking.checkInTime ?? \"\"}\n                  </Typography>\n                  <Typography sx={{ mb: 1 }}>\n                    <strong>Check-out:</strong> {booking.checkOutDate ?? \"-\"} {booking.checkOutTime ?? \"\"}\n                  </Typography>\n                  <Typography sx={{ mb: 1 }}>\n                    <strong>Status:</strong> {booking.status || \"Confirmed\"}\n                  </Typography>\n                  {hasGstDetails && gstAddress && (\n                    <Typography sx={{ mb: 1 }}>\n                      <strong>Company Address:</strong> {gstAddress.substring(0, 50)}...\n                    </Typography>\n                  )}\n                </Grid>\n              </Grid>\n\n              <Divider sx={{ my: 3 }} />\n\n              <Box sx={{ textAlign: \"center\", py: 2 }}>\n                <Typography variant=\"h6\" sx={{ mb: 1 }}>\n                  Total Amount Paid\n                </Typography>\n                <Typography variant=\"h4\" sx={{ fontWeight: 700, color: color.firstColor }}>\n                  {formatCurrency(finalAmount)}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n                  {hasGstDetails ? \"GST Invoice\" : \"Regular Invoice\"}\n                </Typography>\n              </Box>\n\n              <Divider sx={{ my: 3 }} />\n\n              <Box sx={{ display: \"flex\", gap: 2, flexWrap: \"wrap\" }}>\n                <Button \n                  variant=\"contained\" \n                  onClick={downloadInvoice} \n                  disabled={generatingPdf}\n                  sx={{ \n                    background: color.firstColor,\n                    textTransform: \"none\",\n                    px: 3,\n                    py: 1,\n                    \"&:hover\": {\n                      background: color.firstColor,\n                      opacity: 0.9\n                    }\n                  }}\n                >\n                  {generatingPdf ? \"Generating PDF...\" : \"Download Invoice (PDF)\"}\n                </Button>\n                <Button \n                  variant=\"outlined\" \n                  onClick={() => window.print()}\n                  sx={{ textTransform: \"none\" }}\n                >\n                  Print\n                </Button>\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        {/* Invoice Summary Card */}\n        <Grid item xs={12} md={4}>\n          <Card sx={{ p: 3, borderRadius: 2, boxShadow: 2, height: \"90%\" }}>\n            <CardContent>\n              <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 700 }}>\n                Invoice Summary\n              </Typography>\n              <Divider sx={{ mb: 2 }} />\n              \n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                  Invoice Number\n                </Typography>\n                <Typography variant=\"body1\" sx={{ fontWeight: 600 }}>\n                  {invoiceNumber}\n                </Typography>\n              </Box>\n              \n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                  Invoice Date\n                </Typography>\n                <Typography variant=\"body1\">\n                  {dated}\n                </Typography>\n              </Box>\n              \n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                  Guest Name\n                </Typography>\n                <Typography variant=\"body1\" sx={{ fontWeight: 600 }}>\n                  {UserName}\n                </Typography>\n              </Box>\n              \n              {hasGstDetails && (\n                <>\n                  <Divider sx={{ my: 2 }} />\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                    GST Details\n                  </Typography>\n                  <Box sx={{ mb: 2 }}>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      Company Name\n                    </Typography>\n                    <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                      {legalName}\n                    </Typography>\n                  </Box>\n                  \n                  <Box sx={{ mb: 2 }}>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      GSTIN\n                    </Typography>\n                    <Typography variant=\"body2\">\n                      {gstNumber}\n                    </Typography>\n                  </Box>\n                </>\n              )}\n            </CardContent>\n          </Card>\n        </Grid>\n\n        {/* Invoice Preview for PDF */}\n        <Grid item xs={12}>\n          <Box \n            ref={invoiceRef} \n            sx={{ \n              background: \"#fff\", \n              p: { xs: 2, md: 4 }, \n              color: \"#000\", \n              border: \"1px solid #e0e0e0\",\n              borderRadius: 1,\n              maxWidth: \"800px\",\n              margin: \"0 auto\",\n              '@media print': {\n                border: 'none',\n                padding: 0\n              }\n            }}\n          >\n            {/* Header */}\n            <Box sx={{ display: \"flex\", justifyContent: \"space-between\", mb: 3 }}>\n              <Box sx={{ flex: 1 }}>\n                <img\n                  src={logoUrl}\n                  alt=\"HUTS4U logo\"\n                  crossOrigin=\"anonymous\"\n                  style={{ \n                    maxHeight: \"60px\", \n                    objectFit: \"contain\", \n                    marginBottom: \"8px\" \n                  }}\n                />\n                <Typography variant=\"h6\" sx={{ fontWeight: 800, fontSize: \"16px\" }}>\n                  {companyInfo.name}\n                </Typography>\n                <Typography sx={{ fontSize: \"11px\", lineHeight: 1.2, maxWidth: \"200px\" }}>\n                  {companyInfo.address}\n                </Typography>\n                <Typography sx={{ fontSize: \"11px\", mt: 1 }}>\n                  GSTIN/UIN: {companyInfo.gstin}\n                </Typography>\n              </Box>\n\n              <Box sx={{ textAlign: \"right\", flex: 1 }}>\n                <Typography sx={{ fontWeight: 700, fontSize: \"14px\" }}>\n                  {hasGstDetails ? \"TAX INVOICE\" : \"INVOICE\"}\n                </Typography>\n                <Typography sx={{ fontSize: \"12px\", mt: 1 }}>\n                  <strong>Invoice No:</strong> {invoiceNumber}\n                </Typography>\n                <Typography sx={{ fontSize: \"12px\" }}>\n                  <strong>Date:</strong> {dated}\n                </Typography>\n                <Typography sx={{ fontSize: \"12px\", mt: 2 }}>\n                  <strong>Booking ID:</strong> {booking.id}\n                </Typography>\n              </Box>\n            </Box>\n\n            <Divider sx={{ my: 2, borderWidth: 1 }} />\n\n            {/* User GST Information Section - Only show basic user GST details */}\n            {hasGstDetails && (\n              <>\n                <UserGstInfoSection \n                  gstDetails={gstDetails}\n                  invoiceNumber={invoiceNumber}\n                  dated={dated}\n                  bookingId={booking.id}\n                />\n                <Divider sx={{ my: 2 }} />\n              </>\n            )}\n\n            {/* Bill To Section */}\n            <Box sx={{ mb: 3 }}>\n              <Typography sx={{ fontSize: \"12px\", fontWeight: 700, mb: 1 }}>\n                Bill To:\n              </Typography>\n              <Typography sx={{ fontSize: \"12px\", mb: 1 }}>\n                {UserName}\n              </Typography>\n              {hasGstDetails && (\n                <>\n                  <Typography sx={{ fontSize: \"12px\", mb: 1 }}>\n                    <strong>GSTIN/UIN:</strong> {gstNumber}\n                  </Typography>\n                  <Typography sx={{ fontSize: \"12px\", mb: 1 }}>\n                    <strong>Company:</strong> {legalName}\n                  </Typography>\n                  {gstAddress && (\n                    <Typography sx={{ fontSize: \"12px\", mb: 1 }}>\n                      <strong>Address:</strong> {gstAddress}\n                    </Typography>\n                  )}\n                </>\n              )}\n              <Typography sx={{ fontSize: \"12px\" }}>\n                <strong>Property:</strong> {booking.hotelName || booking.propertyName || \"-\"}\n              </Typography>\n              <Typography sx={{ fontSize: \"12px\" }}>\n                <strong>Check-in:</strong> {booking.checkInDate ?? \"-\"} {booking.checkInTime ?? \"\"}\n              </Typography>\n              <Typography sx={{ fontSize: \"12px\" }}>\n                <strong>Check-out:</strong> {booking.checkOutDate ?? \"-\"} {booking.checkOutTime ?? \"\"}\n              </Typography>\n            </Box>\n\n            {/* Price Breakdown Table */}\n            <Box sx={{ mb: 3 }}>\n              <table style={{ \n                width: \"100%\", \n                borderCollapse: \"collapse\",\n                fontSize: \"12px\"\n              }}>\n                <thead>\n                  <tr style={{ backgroundColor: \"#f5f5f5\" }}>\n                    <th style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"left\" }}>#</th>\n                    <th style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"left\" }}>Description</th>\n                    <th style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\" }}>Amount (₹)</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {/* Base Price */}\n                  <tr>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}>1</td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}>\n                      Base Price (Reimbursement) (HSN 9985)\n                    </td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\" }}>\n                      {formatCurrency(breakdown.baseTotal)}\n                    </td>\n                  </tr>\n                  \n                  {/* Service Charges */}\n                  <tr>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}>2</td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}>\n                      Service Charges (HSN 99611)\n                    </td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\" }}>\n                      {formatCurrency(breakdown.serviceCharges)}\n                    </td>\n                  </tr>\n                  \n                  {/* CGST on Service */}\n                  <tr>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}></td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", paddingLeft: \"32px\" }}>\n                      CGST @ 9% on Service\n                    </td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\" }}>\n                      {formatCurrency(breakdown.serviceCGST)}\n                    </td>\n                  </tr>\n                  \n                  {/* SGST on Service */}\n                  <tr>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}></td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", paddingLeft: \"32px\" }}>\n                      SGST @ 9% on Service\n                    </td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\" }}>\n                      {formatCurrency(breakdown.serviceSGST)}\n                    </td>\n                  </tr>\n                  \n                  {/* Convenience Fees */}\n                  <tr>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}>3</td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}>\n                      Convenience Fees (Incl. GST) (Reimbursement, HSN 9985)\n                    </td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\" }}>\n                      {formatCurrency(breakdown.convenienceTotal)}\n                    </td>\n                  </tr>\n                  \n                  {/* Subtotal */}\n                  <tr>\n                    <td colSpan={2} style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\", fontWeight: 700 }}>\n                      Subtotal before discount:\n                    </td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\", fontWeight: 700 }}>\n                      {formatCurrency(breakdown.subtotalBeforeDiscount)}\n                    </td>\n                  </tr>\n                  \n                  {/* Discount */}\n                  <tr>\n                    <td colSpan={2} style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\", fontWeight: 700, color: \"green\" }}>\n                      Huts4u Discount:\n                    </td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\", fontWeight: 700, color: \"green\" }}>\n                      -{formatCurrency(breakdown.discountAmount)}\n                    </td>\n                  </tr>\n                  \n                  {/* Grand Total */}\n                  <tr style={{ backgroundColor: \"#f0f8ff\" }}>\n                    <td colSpan={2} style={{ border: \"1px solid #ddd\", padding: \"10px\", textAlign: \"right\", fontWeight: 800 }}>\n                      GRAND TOTAL:\n                    </td>\n                    <td style={{ border: \"1px solid #ddd\", padding: \"10px\", textAlign: \"right\", fontWeight: 800, fontSize: \"14px\" }}>\n                      {formatCurrency(finalAmount)}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </Box>\n\n            {/* GST Summary - Show in BOTH GST and non-GST invoices (This is HUTS4U's GST) */}\n            <Box sx={{ mb: 3, overflowX: 'auto' }}>\n              <Typography sx={{ fontSize: \"12px\", fontWeight: 700, mb: 1 }}>\n                GST Summary:\n              </Typography>\n              <Box sx={{ \n                minWidth: '650px',\n                '@media (max-width: 600px)': {\n                  minWidth: '650px'\n                }\n              }}>\n                <table style={{ \n                  width: \"100%\", \n                  borderCollapse: \"collapse\",\n                  fontSize: \"11px\"\n                }}>\n                  <thead>\n                    <tr style={{ backgroundColor: \"#f5f5f5\" }}>\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", whiteSpace: 'nowrap' }}>HSN/SAC</th>\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>Taxable Value</th>\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>CGST Rate</th>\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>CGST Amt</th>\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>SGST Rate</th>\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>SGST Amt</th>\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>Total Tax</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr>\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", whiteSpace: 'nowrap' }}>99611</td>\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>\n                        {formatCurrency(breakdown.serviceCharges)}\n                      </td>\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>\n                        9%\n                      </td>\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>\n                        {formatCurrency(breakdown.serviceCGST)}\n                      </td>\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>\n                        9%\n                      </td>\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>\n                        {formatCurrency(breakdown.serviceSGST)}\n                      </td>\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>\n                        {formatCurrency(breakdown.serviceCGST + breakdown.serviceSGST)}\n                      </td>\n                    </tr>\n                    \n                    <tr style={{ backgroundColor: \"#f0f8ff\" }}>\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", fontWeight: 700, whiteSpace: 'nowrap' }}>Total</td>\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", fontWeight: 700, whiteSpace: 'nowrap' }}>\n                        {formatCurrency(breakdown.serviceCharges)}\n                      </td>\n                      <td></td>\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", fontWeight: 700, whiteSpace: 'nowrap' }}>\n                        {formatCurrency(breakdown.serviceCGST)}\n                      </td>\n                      <td></td>\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", fontWeight: 700, whiteSpace: 'nowrap' }}>\n                        {formatCurrency(breakdown.serviceSGST)}\n                      </td>\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", fontWeight: 700, whiteSpace: 'nowrap' }}>\n                        {formatCurrency(breakdown.serviceCGST + breakdown.serviceSGST)}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </Box>\n            </Box>\n\n            {/* Amount in Words */}\n            <Box sx={{ mb: 3, p: 2, backgroundColor: \"#f9f9f9\", borderRadius: \"4px\" }}>\n              <Typography sx={{ fontSize: \"11px\", fontWeight: 700, mb: 1 }}>\n                Amount Chargeable (in words):\n              </Typography>\n              <Typography sx={{ fontSize: \"12px\", fontStyle: \"italic\" }}>\n                {amountInWords}\n              </Typography>\n            </Box>\n\n            {/* Footer */}\n            <Box sx={{ mt: 4, pt: 2, borderTop: \"1px solid #ddd\" }}>\n              <Typography sx={{ fontSize: \"10px\", mb: 1 }}>\n                Declaration: We declare that this invoice shows the actual price of the goods described \n                and that all particulars are true and correct.\n              </Typography>\n              <Typography sx={{ fontSize: \"10px\", mb: 3 }}>\n                E. & O.E.\n              </Typography>\n              \n              <Box sx={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-end\" }}>\n                <Box>\n                  <Typography sx={{ fontSize: \"10px\", color: \"#666\" }}>\n                    For {companyInfo.name}\n                  </Typography>\n                  <Typography sx={{ fontSize: \"10px\", color: \"#666\", mt: 2 }}>\n                    This is a Computer Generated Invoice\n                  </Typography>\n                </Box>\n                <Box sx={{ textAlign: \"center\" }}>\n                  <Typography sx={{ fontSize: \"11px\", fontWeight: 700, mb: 1 }}>\n                    Authorised Signatory\n                  </Typography>\n                  <Box sx={{ height: \"40px\", width: \"120px\", borderBottom: \"1px solid #000\" }}></Box>\n                </Box>\n              </Box>\n            </Box>\n          </Box>\n          \n          <Box sx={{ mt: 3, textAlign: \"center\" }}>\n            <Typography variant=\"caption\" color=\"text.secondary\">\n              {hasGstDetails \n                ? \"GST Invoice Preview - Shows how the GST invoice will appear in the PDF\" \n                : \"Regular Invoice Preview - Shows how the invoice will appear in the PDF\"}\n            </Typography>\n          </Box>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default BookingDetails;"],"names":["normalizeAmountToRupees","val","n","v","undefined","Number","isNaN","safeNumber","Math","abs","round2","round","UserGstInfoSection","_ref","gstDetails","invoiceNumber","dated","bookingId","gstNumber","gstin","legalName","companyName","_jsx","Box","sx","mb","p","backgroundColor","borderRadius","fontSize","children","_jsxs","Grid","container","spacing","item","xs","sm","Typography","fontWeight","address","companyAddress","BookingDetails","_ref2","_booking$amountPaid","_booking$checkInDate","_booking$checkInTime","_booking$checkOutDate","_booking$checkOutTime","_booking$checkInDate2","_booking$checkInTime2","_booking$checkOutDate2","_booking$checkOutTime2","id","useParams","location","useLocation","booking","setBooking","useState","state","loading","setLoading","invoiceRef","useRef","generatingPdf","setGeneratingPdf","useEffect","async","_res$data","_res$data$data","_res$data$data$rows","Payload","data","filter","page","pageSize","order","res","getAllMyBookings","row","rows","toast","error","err","console","loadBookingIfNeeded","UserName","getUserName","formatCurrency","amount","toLocaleString","style","currency","minimumFractionDigits","display","justifyContent","py","CircularProgress","finalAmount","amountPaid","breakdown","discountPercentage","subtotalBeforeDiscount","basePriceExclGST","baseCGST","baseSGST","baseTotal","serviceChargesExclGST","serviceCGST","serviceSGST","serviceTotal","convenienceFeeExclGST","convenienceCGST","convenienceSGST","convenienceTotal","calculatedSubtotal","calculatedDiscount","basePrice","serviceCharges","convenienceFee","discountAmount","totalCGST","totalSGST","totalGST","totalTaxable","calculateInvoiceBreakdown","gstDetail","GstDetail","gstAddress","hasGstDetails","invoiceNo","concat","createdAt","Date","toLocaleDateString","amountInWords","single","tens","toWords","word","floor","trim","rupees","paise","result","replace","numberToWords","companyInfo","Container","maxWidth","Button","onClick","window","history","back","textTransform","md","Card","boxShadow","CardContent","variant","color","firstColor","hotelName","propertyName","_Fragment","checkInDate","checkInTime","checkOutDate","checkOutTime","status","substring","Divider","my","textAlign","mt","gap","flexWrap","current","clone","cloneNode","width","margin","padding","fontFamily","position","left","top","document","body","appendChild","canvas","html2canvas","scale","useCORS","logging","scrollWidth","height","scrollHeight","windowWidth","windowHeight","removeChild","imgData","toDataURL","pdf","jsPDF","orientation","unit","format","pdfWidth","internal","getWidth","pdfHeight","getHeight","imgWidth","imgHeight","ratio","min","imgX","imgY","addImage","save","success","disabled","background","px","opacity","print","ref","border","flex","src","alt","crossOrigin","maxHeight","objectFit","marginBottom","lineHeight","borderWidth","borderCollapse","paddingLeft","colSpan","overflowX","minWidth","whiteSpace","fontStyle","pt","borderTop","alignItems","borderBottom"],"ignoreList":[],"sourceRoot":""}