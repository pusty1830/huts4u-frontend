"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[537],{43641:(e,t,o)=>{o.d(t,{E_:()=>H});var r=o(1706),a=o(20228),i=o(91783),s=o(23783),n=o(36715),l=o(24233),d=o(80286),c=o(2739),x=o(97187),u=o(8537),h=o(55968),p=o(10116),m=o(37460),f=o(4353),g=o(66717),A=o(78174),v=o(82372),b=o(43998),y=o(29206),j=o(63824),S=o(64340),w=o(5192),k=o(30270),C=o(95645),z=o(70579);const H={"Swimming Pool":(0,z.jsx)(y.A,{fontSize:"small"}),Gym:(0,z.jsx)(x.A,{fontSize:"small"}),"Free WiFi":(0,z.jsx)(C.A,{fontSize:"small"}),"Private Beach":(0,z.jsx)(i.A,{fontSize:"small"}),Breakfast:(0,z.jsx)(u.A,{fontSize:"small"}),Parking:(0,z.jsx)(g.A,{fontSize:"small"}),Spa:(0,z.jsx)(S.A,{fontSize:"small"}),Restaurant:(0,z.jsx)(m.A,{fontSize:"small"}),"Airport Shuttle":(0,z.jsx)(a.A,{fontSize:"small"}),"Business Center":(0,z.jsx)(s.A,{fontSize:"small"}),"Pet Friendly":(0,z.jsx)(b.A,{fontSize:"small"}),Bar:(0,z.jsx)(p.A,{fontSize:"small"}),"Room Service":(0,z.jsx)(j.A,{fontSize:"small"}),TV:(0,z.jsx)(k.A,{fontSize:"small"}),"Air Conditioning":(0,z.jsx)(r.A,{fontSize:"small"}),"Laundry Service":(0,z.jsx)(f.A,{fontSize:"small"}),"Child Care":(0,z.jsx)(l.A,{fontSize:"small"}),"King Bed":(0,z.jsx)(h.A,{fontSize:"small"}),Casino:(0,z.jsx)(n.A,{fontSize:"small"}),"Car Rental":(0,z.jsx)(d.A,{fontSize:"small"}),"Night Club":(0,z.jsx)(A.A,{fontSize:"small"}),"Tennis Court":(0,z.jsx)(w.A,{fontSize:"small"}),"BBQ Facilities":(0,z.jsx)(v.A,{fontSize:"small"}),"Fire Safety":(0,z.jsx)(c.A,{fontSize:"small"})}},46537:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ie});var r=o(89379),a=o(29435),i=o(20751),s=o(91794),n=o(59383),l=o(4247),d=o(10990),c=o(12110),x=o(7353),u=o(78185),h=o(77739),p=o(36591),m=o(26494),f=o(94496),g=o(43845),A=o(97629),v=o(57972),b=o(68903),y=o(94109),j=o(41985),S=o(91576),w=o(84511),k=o(74605),C=o(26240),z=o(34535),H=o(85442),F=o(65043),M=o(73216),B=o(33580),R=o(31716),D=o(43641),W=o(61968),Y=o(69995),I=o(45763),N=o(60446),L=o.n(N),P=o(49367),T=o(59007),E=o(14434),_=o(70579);const U={hotels:[],ratings:null,inventories:null,hourlyClosures:[],lastFetched:0,TTL:3e5},O=e=>{let{isMobile:t}=e;return(0,_.jsx)(c.A,{sx:{mb:2,height:{xs:"auto",md:220}},children:(0,_.jsxs)(x.A,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},height:"100%"},children:[(0,_.jsx)(u.A,{variant:"rectangular",width:t?"100%":300,height:t?200:"100%"}),(0,_.jsxs)(x.A,{sx:{p:2,flex:1,position:"relative",display:"flex",flexDirection:"column"},children:[(0,_.jsx)(u.A,{width:"40%",height:24}),(0,_.jsx)(u.A,{width:"60%",height:20,sx:{mt:1}}),(0,_.jsx)(u.A,{width:"80%",height:20,sx:{mt:1}}),(0,_.jsx)(x.A,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:[...Array(3)].map((e,t)=>(0,_.jsx)(u.A,{width:80,height:24},t))}),(0,_.jsxs)(x.A,{sx:{mt:"auto",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,_.jsxs)(x.A,{children:[(0,_.jsx)(u.A,{width:120,height:28}),(0,_.jsx)(u.A,{width:180,height:36,sx:{mt:1}}),(0,_.jsx)(u.A,{width:140,height:20,sx:{mt:1}})]}),(0,_.jsx)(u.A,{width:100,height:40,variant:"rectangular",sx:{borderRadius:"8px"}})]})]})]})})},G=(e,t,o,r)=>{if(!e||!o)return 0;const a=e.id,i=L()(o).format("YYYY-MM-DD"),s=null===t||void 0===t?void 0:t.find(e=>e.roomId===a&&L()(e.date).format("YYYY-MM-DD")===i);if(s)switch(r){case"rateFor1Night":return s.overnightRate||0;case"rateFor3Hour":return s.threeHourRate||0;case"rateFor6Hour":return s.sixHourRate||0;case"rateFor12Hour":return s.twelveHourRate||0;default:return 0}return e[r]||0},V=(e,t,o,r,a)=>{var i;if(!e||!o)return!1;const s=null===(i=e.status)||void 0===i?void 0:i.toLowerCase();if(!("available"===s||"active"===s))return!1;const n=L()(o).format("YYYY-MM-DD"),l=null===t||void 0===t?void 0:t.find(e=>L()(e.date).format("YYYY-MM-DD")===n);if(!l)return!0;if(l.isBlocked)return!1;switch(r){case"rateFor1Night":return l.overnightAvailable>l.overnightBooked;case"rateFor3Hour":return l.threeHourAvailable>l.threeHourBooked;case"rateFor6Hour":return l.sixHourAvailable>l.sixHourBooked;case"rateFor12Hour":return l.twelveHourAvailable>l.twelveHourBooked;default:return!0}},X=function(e,t,o,r,a){var i;if("hourly"===a){const t=((e,t,o,r)=>{const a=t.filter(t=>t.hotelId===e.id&&!0===t.active);if(0===a.length)return{isClosed:!1,closureReason:""};const i=L()(o);for(const l of a){const e=L()(l.closureDate);if(i.isBefore(e,"day"))continue;let t=0;if(r){const[e,o]=r.split(":").map(Number);t=60*e+o}else{const e=L()();t=60*e.hour()+e.minute()}const[o,a]=l.startTime.split(":").map(Number),[s,n]=l.endTime.split(":").map(Number),d=60*o+a,c=60*s+n;let x=!1;if(x=d<=c?t>=d&&t<c:t>=d||t<c,x)return{isClosed:!1,closureReason:""}}let s="";const n=a[0];return n&&(s=ee(n.startTime)),{isClosed:!0,closureReason:"Hotel opens at ".concat(s)}})(e,arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],r,arguments.length>6?arguments[6]:void 0);if(t.isClosed)return{isAvailable:!1,status:"Closed",reason:t.closureReason}}if("Unavailable"===((null===e||void 0===e?void 0:e.roomAvailable)||"Available"))return{isAvailable:!1,status:"Sold Out",reason:"Hotel is currently sold out"};const s=null===t||void 0===t||null===(i=t.status)||void 0===i?void 0:i.toLowerCase();if(!("available"===s||"active"===s))return{isAvailable:!1,status:"Sold Out",reason:"Room is currently sold out"};const n=r?L()(r).format("YYYY-MM-DD"):"";if(!n)return{isAvailable:!0,status:"Available",reason:"Available for booking (no date specified)"};const l=n?o.find(e=>L()(e.date).format("YYYY-MM-DD")===n):null;if(l){if(l.isBlocked)return{isAvailable:!1,status:"Blocked",reason:"Room is blocked for selected date"};if("hourly"===a){const e=l.threeHourAvailable>l.threeHourBooked,t=l.sixHourAvailable>l.sixHourBooked,o=l.twelveHourAvailable>l.twelveHourBooked;if(!(e||t||o))return{isAvailable:!1,status:"Sold Out",reason:"No hourly slots available for selected date"}}else{if(!(l.overnightAvailable>l.overnightBooked))return{isAvailable:!1,status:"Sold Out",reason:"No overnight availability for selected date"}}}return{isAvailable:!0,status:"Available",reason:"Available for booking"}},Z=function(e){var t;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if(null===e||void 0===e||null===(t=e.rooms)||void 0===t||!t[0])return 0;const i=e.rooms[0];let s=[];if("Unavailable"===((null===e||void 0===e?void 0:e.roomAvailable)||"Available"))return 0;if("hourly"===a){s=[{key:"rateFor3Hour",rate:G(i,o,r,"rateFor3Hour"),available:V(i,o,r,"rateFor3Hour")},{key:"rateFor6Hour",rate:G(i,o,r,"rateFor6Hour"),available:V(i,o,r,"rateFor6Hour")},{key:"rateFor12Hour",rate:G(i,o,r,"rateFor12Hour"),available:V(i,o,r,"rateFor12Hour")}].filter(e=>e.rate>0&&e.available).map(e=>e.rate),0===s.length&&(s=[i.rateFor3Hour||0,i.rateFor6Hour||0,i.rateFor12Hour||0].filter(e=>e>0))}else{const e=G(i,o,r,"rateFor1Night"),t=V(i,o,r,"rateFor1Night");e>0&&t?s.push(e):i.rateFor1Night>0&&s.push(i.rateFor1Night)}return s.length?Math.min(...s):0},q=e=>e.toLocaleString("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}),J=e=>{if(!e||!Array.isArray(e)||0===e.length)return 0;const t=e.reduce((e,t)=>e+(Number(t.rating)||0),0);return Math.round(t/e.length*10)/10},K=(e,t)=>{if(!e||!t)return[];let o=[];if(Array.isArray(e))o=e;else if(e&&"object"===typeof e)if(Array.isArray(e.data))o=e.data;else if(Array.isArray(e.rows))o=e.rows;else{if(!Array.isArray(e.result))return[];o=e.result}return Array.isArray(o)?o.filter(e=>{const o=e.hotelId||e.propertyId||e.hotel_id||e.hotelID;return o===t||(null===o||void 0===o?void 0:o.toString())===(null===t||void 0===t?void 0:t.toString())}):[]},Q=async(e,t)=>{try{var o,r,a,i,s,n,l;const d={data:{filter:"",roomId:e,date:t},page:0,pageSize:1e3,order:[["createdAt","ASC"]]},c=await(0,Y.ww)(d);let x=[];return null!==c&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&null!==(r=o.data)&&void 0!==r&&r.data&&Array.isArray(c.data.data.data)?x=c.data.data.data:null!==c&&void 0!==c&&null!==(a=c.data)&&void 0!==a&&null!==(i=a.data)&&void 0!==i&&i.rows&&Array.isArray(c.data.data.rows)?x=c.data.data.rows:null!==c&&void 0!==c&&null!==(s=c.data)&&void 0!==s&&null!==(n=s.data)&&void 0!==n&&n.result&&Array.isArray(c.data.data.result)?x=c.data.data.result:Array.isArray(null===c||void 0===c||null===(l=c.data)||void 0===l?void 0:l.data)&&(x=c.data.data),x}catch(d){return console.error("Error fetching inventory for room ".concat(e,":"),d),[]}},$=async()=>{try{var e,t,o;const r={data:{filter:"",active:!0},page:0,pageSize:1e3,order:[["closureDate","ASC"]]},a=await(0,Y.mI)(r);let i=[];return null!==a&&void 0!==a&&null!==(e=a.data)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.rows&&Array.isArray(a.data.data.rows)?i=a.data.data.rows:Array.isArray(null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.data)&&(i=a.data.data),i}catch(r){return console.error("Error fetching hourly closures:",r),[]}},ee=e=>{if(!e)return"N/A";try{const[t,o]=e.split(":"),r=parseInt(t),a=r>=12?"PM":"AM";return"".concat(r%12||12,":").concat(o," ").concat(a)}catch(t){return e}},te=e=>{var t,o,s,n,u,A,v,b,y;let{hotel:j,queryParams:S,isMobile:w,hotelRatings:k=[],inventoryData:C=[],hourlyClosures:z=[]}=e;const H=T.hr,F=T.w4,R=(0,M.Zp)(),Y=w?2:4,I=(null===j||void 0===j||null===(t=j.rooms)||void 0===t||null===(o=t[0])||void 0===o||null===(s=o.amenities)||void 0===s?void 0:s.slice(0,Y))||[],N=Math.max(0,((null===j||void 0===j||null===(n=j.rooms)||void 0===n||null===(u=n[0])||void 0===u||null===(A=u.amenities)||void 0===A?void 0:A.length)||0)-Y),P=(null===j||void 0===j?void 0:j.isPremium)||!1,U=(null===j||void 0===j||null===(v=j.rooms)||void 0===v?void 0:v[0])||{},O=S.get("bookingType")||"fullDay",K=S.get("checkinDate")||L()().format("YYYY-MM-DD"),Q=S.get("time")||"",$=S.get("bookingHours")||"3",ee=Math.max(1,Number(S.get("rooms"))||1),te="hourly"===O?1:Math.max(1,Number(S.get("nights"))||1),oe=X(j,U,C,K,O,z,Q),re=oe.isAvailable,ae=Z(j,C,K,O,Q),ie=(0,E.zG)(ae),se=ie.finalPrice,ne=ie.basePrice,le=ie.platformFee,de=ie.gstTotal,ce=ee*te,xe=+ne*ce,ue=+le*ce,he=+de*ce,pe=+se*ce,me=xe+700,fe=k.length>0?J(k):(null===j||void 0===j||null===(b=j.ratings)||void 0===b?void 0:b.rating)||0,ge=k.length||(null===j||void 0===j?void 0:j.reviews)||0,Ae="hourly"===O?[{key:"3",label:"3 Hrs",slot:"rateFor3Hour",rate:G(U,C,K,"rateFor3Hour"),available:V(U,C,K,"rateFor3Hour")},{key:"6",label:"6 Hrs",slot:"rateFor6Hour",rate:G(U,C,K,"rateFor6Hour"),available:V(U,C,K,"rateFor6Hour")},{key:"12",label:"12 Hrs",slot:"rateFor12Hour",rate:G(U,C,K,"rateFor12Hour"),available:V(U,C,K,"rateFor12Hour")}].filter(e=>e.rate>0&&e.available).map(e=>{const t=(0,E.zG)(e.rate),o=t.basePrice,a=t.platformFee,i=t.gstTotal,s=o*ee,n=a*ee,l=i*ee,d=s+n+l;return(0,r.A)((0,r.A)({},e),{},{totalBase:s,totalPlatform:n,totalGst:l,totalFinal:d})}):[],ve=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return e?e.length<=t?e:e.substring(0,t)+"...":"Address not available"},be=()=>{if(!re)return;const e=S.toString();R("/hotel/".concat(j.id).concat(e?"?".concat(e):""),{state:{hotelData:j}})};return(0,_.jsxs)(c.A,{onClick:be,sx:{display:"flex",flexDirection:{xs:"column",md:"row"},mb:3,background:re?B.A.thirdColor:"#f5f5f5",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)",borderRadius:"16px",transition:"all 0.3s ease",cursor:re?"pointer":"not-allowed",border:"1px solid ".concat(re?"transparent":"#e0e0e0"),position:"relative",overflow:"hidden",minHeight:{xs:"auto",md:220},"&:hover":{transform:re?"translateY(-4px)":"none",boxShadow:re?"0px 8px 24px rgba(0, 0, 0, 0.15)":"0px 4px 12px rgba(0, 0, 0, 0.1)",borderColor:re?B.A.firstColor:"#e0e0e0"},opacity:re?1:.7},children:[!re&&(0,_.jsx)(h.A,{title:oe.reason,children:(0,_.jsx)(x.A,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"16px"},children:(0,_.jsxs)(x.A,{sx:{background:(e=>{switch(e){case"Closed":return"#ff6b6b";case"Sold Out":default:return"#ff4444";case"Blocked":return"#ffaa00"}})(oe.status),color:"white",px:3,py:1.5,borderRadius:"8px",fontWeight:"bold",fontSize:{xs:"13px",md:"14px"},transform:"rotate(-3deg)",boxShadow:"0 4px 8px rgba(255, 77, 77, 0.3)",display:"flex",alignItems:"center",gap:1},children:[(0,_.jsx)(i.A,{sx:{fontSize:20}}),oe.status.toUpperCase()]})})}),(0,_.jsxs)(x.A,{sx:{width:{xs:"100%",md:300},height:{xs:200,md:"100%"},minHeight:{xs:200,md:220},maxHeight:{xs:200,md:250},position:"relative",overflow:"hidden",flexShrink:0},children:[(0,_.jsx)(p.A,{component:"img",sx:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.5s ease",filter:re?"none":"grayscale(80%) brightness(0.9)",opacity:re?1:.7,"&:hover":{transform:re?"scale(1.05)":"none"}},image:(ye=(null===j||void 0===j||null===(y=j.propertyImages)||void 0===y?void 0:y[0])||"https://via.placeholder.com/400x250?text=No+Image",ye?ye.includes(H)?ye.replace(H,F):ye:"/default-hotel.jpg"),alt:null===j||void 0===j?void 0:j.propertyName,loading:"lazy"}),P&&(0,_.jsxs)(x.A,{sx:{position:"absolute",top:12,left:12,background:"linear-gradient(135deg, #FFD700, #FFA500)",color:"#000",px:1.5,py:.5,borderRadius:"6px",fontSize:"10px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",zIndex:1},children:[(0,_.jsx)(d.A,{sx:{fontSize:"12px"}})," PREMIUM"]})]}),(0,_.jsxs)(m.A,{sx:{padding:{xs:"16px",md:"20px 24px"},width:"100%",display:"flex",flexDirection:"column",flex:1,position:"relative"},children:[P&&(0,_.jsx)(x.A,{sx:{width:"fit-content",mb:1.5},children:(0,_.jsxs)(f.A,{sx:{fontWeight:700,color:"#000",width:"fit-content",px:1.5,py:.5,borderRadius:"6px",fontSize:"10px",background:"linear-gradient(135deg, #FFD700, #FFA500)",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,_.jsx)(d.A,{sx:{fontSize:"12px"}})," Huts4u PREMIUM"]})}),(0,_.jsxs)(x.A,{sx:{mb:1.5},children:[(0,_.jsx)(f.A,{sx:{fontSize:{xs:"17px",md:"20px"},fontWeight:700,color:re?B.A.firstColor:"#666",display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",lineHeight:1.2},children:null===j||void 0===j?void 0:j.propertyName}),(0,_.jsxs)(f.A,{sx:{fontFamily:"CustomFontSB",fontSize:{xs:"12px",md:"14px"},color:re?"#666":"#888",display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",mt:.5,lineHeight:1.3},children:["\ud83d\udccd ",ve((null===j||void 0===j?void 0:j.address)||(null===j||void 0===j?void 0:j.city)||"",35)+"  BBSR"]})]}),!w&&(0,_.jsxs)(x.A,{sx:{position:"absolute",top:{xs:"auto",md:20},right:{xs:"auto",md:24},display:"flex",flexDirection:"column",alignItems:"flex-end",mb:1.5},children:[(0,_.jsx)(x.A,{sx:{display:"flex",alignItems:"center",gap:"4px",mb:.5},children:fe>0?(0,_.jsxs)(x.A,{sx:{background:(0,W.t0)(fe),color:"#fff",px:1.2,py:.6,borderRadius:"8px",fontSize:"14px",fontWeight:700,display:"flex",alignItems:"center",gap:"4px",minWidth:"60px",justifyContent:"center",boxShadow:"0 2px 6px rgba(0,0,0,0.2)"},children:[fe.toFixed(1),(0,_.jsx)(l.A,{sx:{fontSize:"14px"}})]}):(0,_.jsxs)(x.A,{sx:{background:"rgba(0,0,0,0.05)",color:"#888",px:1.2,py:.6,borderRadius:"8px",fontSize:"14px",fontWeight:700,display:"flex",alignItems:"center",gap:"4px",minWidth:"60px",justifyContent:"center",border:"1px dashed #ddd"},children:["N/A",(0,_.jsx)(l.A,{sx:{fontSize:"14px",color:"#aaa"}})]})}),ge>0?(0,_.jsxs)(f.A,{variant:"body2",fontWeight:600,color:re?"#666":"#aaa",sx:{fontSize:"11px",textAlign:"right"},children:["(",ge," review",1!==ge?"s":"",")"]}):(0,_.jsx)(f.A,{variant:"body2",fontWeight:600,color:re?"#888":"#aaa",sx:{fontSize:"11px",fontStyle:"italic"},children:"No reviews yet"})]}),(0,_.jsxs)(x.A,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mt:1.5,mb:{xs:2,md:1.5}},children:[I.map((e,t)=>(0,_.jsx)(g.A,{label:e,icon:D.E_[e]||(0,_.jsx)(a.A,{}),size:"small",sx:{bgcolor:"rgba(75, 42, 173, 0.1)",fontSize:{xs:"10px",md:"11px"},color:re?"#4B2AAD":"#aaa",height:"24px",border:"1px solid rgba(75, 42, 173, 0.2)","& .MuiChip-icon":{fontSize:{xs:"12px",md:"14px"},color:re?"#4B2AAD":"#aaa",marginLeft:"4px",marginRight:"-4px"}}},t)),N>0&&(0,_.jsx)(g.A,{label:"+".concat(N," more"),size:"small",sx:{bgcolor:re?"rgba(0,0,0,0.05)":"#f5f5f5",fontSize:{xs:"10px",md:"11px"},color:re?"#666":"#aaa",height:"24px"}})]}),(0,_.jsxs)(x.A,{sx:{display:"flex",flexDirection:"column",gap:{xs:2,md:1},mt:"auto",pt:{xs:3,md:0},borderTop:{xs:"1px dashed #e0e0e0",md:"none"}},children:[w&&(0,_.jsx)(x.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:(0,_.jsxs)(x.A,{sx:{display:"flex",alignItems:"center",gap:"8px"},children:[fe>0?(0,_.jsxs)(x.A,{sx:{background:(0,W.t0)(fe),color:"#fff",px:1,py:.5,borderRadius:"6px",fontSize:"13px",fontWeight:700,display:"flex",alignItems:"center",gap:"4px",minWidth:"55px",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:[fe.toFixed(1),(0,_.jsx)(l.A,{sx:{fontSize:"13px"}})]}):(0,_.jsxs)(x.A,{sx:{background:"rgba(0,0,0,0.05)",color:"#888",px:1,py:.5,borderRadius:"6px",fontSize:"13px",fontWeight:700,display:"flex",alignItems:"center",gap:"4px",minWidth:"55px",justifyContent:"center",border:"1px dashed #ddd"},children:["N/A",(0,_.jsx)(l.A,{sx:{fontSize:"13px",color:"#aaa"}})]}),ge>0?(0,_.jsxs)(f.A,{variant:"body2",fontWeight:600,color:re?"#666":"#aaa",sx:{fontSize:"12px"},children:["(",ge," review",1!==ge?"s":"",")"]}):(0,_.jsx)(f.A,{variant:"body2",fontWeight:600,color:re?"#888":"#aaa",sx:{fontSize:"12px",fontStyle:"italic"},children:"No reviews yet"})]})}),"hourly"===O?(0,_.jsx)(x.A,{sx:{width:"100%"},children:Ae.length>0?(()=>{const e=Ae.find(e=>e.key===$);if(!e)return(0,_.jsx)(f.A,{sx:{fontSize:"12px",color:"#888",textAlign:"center",py:2},children:"Not available for selected hours"});const t=Math.round(e.totalBase+e.totalPlatform),o=Math.round(e.totalGst);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(x.A,{sx:{display:"flex",gap:{xs:.5,sm:1},mb:2,justifyContent:{xs:"flex-start",sm:"flex-start"},flexWrap:"nowrap",overflowX:{xs:"auto",sm:"visible"},pb:{xs:1,sm:0},"&::-webkit-scrollbar":{height:"4px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#ccc",borderRadius:"2px"}},children:Ae.map(e=>{const t=e.key===$;return(0,_.jsx)(x.A,{onClick:t=>{t.stopPropagation(),re&&(e=>{if(!re)return;const t=new URLSearchParams(S.toString());t.set("bookingHours",e),R("/search?".concat(t.toString()),{replace:!0})})(e.key)},sx:{flexShrink:0,textAlign:"center",py:{xs:.75,sm:1},px:{xs:.75,sm:1.5},borderRadius:"8px",cursor:re?"pointer":"not-allowed",fontSize:{xs:"11px",sm:"12px",md:"13px"},fontWeight:700,background:t?re?"#4B2AAD":"#aaa":"rgba(75, 42, 173, 0.1)",color:t?"#fff":re?"#4B2AAD":"#888",border:"1px solid ".concat(t?"#4B2AAD":"rgba(75, 42, 173, 0.3)"),transition:"all 0.2s ease",opacity:re?1:.6,minWidth:{xs:"70px",sm:"80px"},whiteSpace:"nowrap","&:hover":re?{transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(75, 42, 173, 0.3)"}:{}},children:e.label},e.key)})}),(0,_.jsxs)(x.A,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},gap:{xs:1.5,sm:2,md:3}},children:[(0,_.jsxs)(x.A,{sx:{flex:1},children:[(0,_.jsxs)(f.A,{sx:{fontSize:{xs:"12px",md:"13px"},color:re?"#666":"#888",mb:.5,fontWeight:500,display:"flex",alignItems:"center",gap:.5,flexWrap:"wrap"},children:[(0,_.jsxs)("span",{children:[ee," room",ee>1?"s":""]}),(0,_.jsx)("span",{children:"\u2022"}),(0,_.jsx)("span",{children:e.label})]}),(0,_.jsxs)(x.A,{sx:{display:"flex",alignItems:"baseline",gap:1,flexWrap:"wrap"},children:[(0,_.jsx)(f.A,{sx:{fontSize:{xs:"20px",sm:"22px",md:"24px"},fontWeight:800,color:re?B.A.firstColor:"#888",lineHeight:1},children:re?q(t):"---"}),re&&(0,_.jsxs)(f.A,{sx:{fontSize:{xs:"11px",md:"12px"},color:"#666",fontWeight:500},children:["+ ",q(o)," taxes & fees"]})]})]}),re?(0,_.jsx)(x.A,{onClick:e=>{e.stopPropagation(),be()},sx:{background:"linear-gradient(135deg, #4B2AAD, #6C4BD3)",color:"#fff",px:{xs:0,sm:2.5,md:3},py:{xs:0,sm:1.25,md:1.5},borderRadius:"10px",textAlign:"center",minWidth:{xs:"40%",sm:"120px",md:"140px"},cursor:"pointer",transition:"all 0.3s ease",mt:{xs:1,sm:0},marginRight:{xs:3},display:"flex",alignItems:"center",justifyContent:"center",height:{xs:"44px",sm:"48px"},"&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(75, 42, 173, 0.4)"}},children:(0,_.jsx)(f.A,{sx:{fontSize:{xs:"14px",sm:"15px",md:"16px"},fontWeight:700,whiteSpace:"nowrap"},children:"Book Now"})}):(0,_.jsx)(x.A,{sx:{background:"#e0e0e0",color:"#888",px:{xs:0,sm:2.5,md:3},py:{xs:0,sm:1.25,md:1.5},borderRadius:"10px",textAlign:"center",minWidth:{xs:"40%",sm:"120px",md:"140px"},cursor:"not-allowed",mt:{xs:1,sm:0},marginRight:{xs:3},display:"flex",alignItems:"center",justifyContent:"center",height:{xs:"44px",sm:"48px"}},children:(0,_.jsx)(f.A,{sx:{fontSize:{xs:"14px",sm:"15px",md:"16px"},fontWeight:700,whiteSpace:"nowrap"},children:oe.status})})]})]})})():(0,_.jsx)(f.A,{sx:{fontSize:"12px",color:"#888",textAlign:"center",py:2,border:"1px dashed #ddd",borderRadius:"8px",background:"#f9f9f9"},children:"Not available for hourly stay"})}):(0,_.jsxs)(x.A,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},gap:{xs:1.5,sm:2,md:3},width:"100%"},children:[(0,_.jsxs)(x.A,{sx:{flex:1,minWidth:0},children:[re&&me>0&&(0,_.jsx)(f.A,{sx:{fontSize:{xs:"12px",md:"14px"},color:re?"#999":"#aaa",textDecoration:"line-through",fontWeight:500,mb:.5},children:q(Math.round(me))}),(0,_.jsxs)(x.A,{sx:{display:"flex",alignItems:"baseline",gap:1,flexWrap:"wrap"},children:[(0,_.jsx)(f.A,{sx:{fontSize:{xs:"22px",sm:"24px",md:"26px"},color:re?B.A.firstColor:"#888",fontWeight:800,lineHeight:1},children:re&&xe+ue>0?"".concat(q(Math.round(xe+ue))):"---"}),re&&pe>0&&(0,_.jsxs)(f.A,{sx:{fontSize:{xs:"11px",md:"13px"},color:"#666",fontWeight:500},children:["+ ",q(Math.round(he))," taxes & fees"]})]}),(0,_.jsxs)(f.A,{sx:{fontSize:{xs:"12px",md:"13px"},color:re?"#666":"#aaa",mt:1,fontWeight:500,display:"flex",alignItems:"center",gap:.5,flexWrap:"wrap"},children:[(0,_.jsxs)("span",{children:[ee," room",ee>1?"s":""]}),"hourly"!==O&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("span",{children:"\u2022"}),(0,_.jsxs)("span",{children:[te," night",te>1?"s":""]})]})]})]}),re?(0,_.jsx)(x.A,{onClick:e=>{e.stopPropagation(),be()},sx:{background:"linear-gradient(135deg, #4B2AAD, #6C4BD3)",color:"#fff",px:{xs:0,sm:2.5,md:3},py:{xs:0,sm:1.25,md:1.5},borderRadius:"10px",textAlign:"center",minWidth:{xs:"40%",sm:"130px",md:"150px"},cursor:"pointer",transition:"all 0.3s ease",mt:{xs:1,sm:0},marginRight:{xs:3},display:"flex",alignItems:"center",justifyContent:"center",height:{xs:"44px",sm:"48px"},"&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(75, 42, 173, 0.4)"}},children:(0,_.jsx)(f.A,{sx:{fontSize:{xs:"14px",sm:"15px",md:"16px"},fontWeight:700,whiteSpace:"nowrap"},children:"Book Now"})}):(0,_.jsx)(x.A,{sx:{background:"#e0e0e0",color:"#888",px:{xs:0,sm:2.5,md:3},py:{xs:0,sm:1.25,md:1.5},borderRadius:"10px",textAlign:"center",minWidth:{xs:"40%",sm:"130px",md:"150px"},cursor:"not-allowed",mt:{xs:1,sm:0},marginRight:{xs:3},display:"flex",alignItems:"center",justifyContent:"center",height:{xs:"44px",sm:"48px"}},children:(0,_.jsx)(f.A,{sx:{fontSize:{xs:"14px",sm:"15px",md:"16px"},fontWeight:700,whiteSpace:"nowrap"},children:oe.status})})]})]})]})]});var ye},oe={background:"linear-gradient(135deg, #f3eee1, #e8e0cf)",width:"fit-content",borderRadius:"8px",p:1.5,m:-2,mx:-4,mb:2,fontWeight:700,color:B.A.firstColor,fontSize:{xs:"16px",md:"18px"},boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},re=(0,z.Ay)(w.A)(e=>{let{theme:t}=e;return{borderRadius:"8px",textTransform:"none",fontSize:"13px",padding:"6px 12px",fontWeight:600,border:"1px solid rgba(75, 42, 173, 0.3)",transition:"all 0.2s ease","&.Mui-selected":{backgroundColor:B.A.secondColor,color:"white",borderColor:B.A.secondColor,boxShadow:"0 2px 8px rgba(75, 42, 173, 0.3)","&:hover":{backgroundColor:B.A.firstColor}},"&:hover":{backgroundColor:"rgba(75, 42, 173, 0.1)"}}}),ae=(0,z.Ay)(k.A)({"& .MuiFormControlLabel-label":{fontSize:"14px",fontWeight:600,color:"#333"}}),ie=()=>{const e=(0,M.Zp)(),t=(0,M.zy)(),[o,a]=(0,F.useState)([]),[i,l]=(0,F.useState)([]),[d,c]=(0,F.useState)([]),[h,p]=(0,F.useState)(null),[m,g]=(0,F.useState)({}),[w,k]=(0,F.useState)([]),[z,D]=(0,F.useState)(!0),[N,T]=(0,F.useState)(!1),[G,V]=(0,F.useState)(1),[X,q]=(0,F.useState)(1),[ee,ie]=(0,F.useState)(!1),[se,ne]=(0,F.useState)(new Set),[le,de]=(0,F.useState)([]),ce=new URLSearchParams(t.search),xe=(0,C.A)(),ue=(0,H.A)(xe.breakpoints.down("sm")),he=(0,H.A)(xe.breakpoints.between("sm","md")),pe=((0,H.A)(xe.breakpoints.up("md")),(0,F.useRef)(!1)),me=(0,F.useRef)(null);(0,F.useEffect)(()=>{const e=Number(ce.get("page"))||1;V(e)},[t.search]);const fe=async()=>{try{var e;const t={data:{filter:""},page:0,pageSize:1e3,order:[["createdAt","ASC"]]},o=await(0,Y.Ge)(t);let r=null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.data;return null!==r&&void 0!==r&&r.data&&Array.isArray(r.data)?r.data:null!==r&&void 0!==r&&r.rows&&Array.isArray(r.rows)?r.rows:null!==r&&void 0!==r&&r.result&&Array.isArray(r.result)?r.result:Array.isArray(r)?r:[]}catch(t){return console.error("Error fetching ratings:",t),[]}},ge=async(e,t)=>{const o={};if(!e.rooms||0===e.rooms.length)return o;for(const a of e.rooms)try{const e=await Q(a.id,t);o[a.id]=e}catch(r){console.error("Error fetching inventory for room ".concat(a.id,":"),r),o[a.id]=[]}return o},Ae=(e,t)=>e.map(e=>{const o=e.id,a=K(t,o),i=J(a);return(0,r.A)((0,r.A)({},e),{},{ratings:{rating:i,count:a.length}})}),ve=async(e,t,o)=>{const r=e.slice(t,o).map(async e=>{try{const t={id:e,secondTable:"Room"},o=await(0,Y.YT)(t),r=(null===o||void 0===o?void 0:o.data)||null;return r&&Array.isArray(r.data)&&r.data.length?r.data[0]:null}catch(t){return console.error("Error fetching hotel ".concat(e,":"),t),null}});return(await Promise.all(r)).filter(e=>null!==e)};(0,F.useEffect)(()=>((async()=>{if(!pe.current){pe.current=!0;try{var e,t;if(D(!0),U.hotels.length>0&&Date.now()-U.lastFetched<U.TTL&&U.ratings&&U.hourlyClosures)return a(U.hotels),p(U.ratings),k(U.hourlyClosures),D(!1),void(pe.current=!1);const i={data:{filter:"",status:"Approved"},page:0,pageSize:1e3,order:[["createdAt","ASC"]]},s=await(0,Y.Vy)(i),n=((null===s||void 0===s||null===(e=s.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.rows)||[]).map(e=>e.id);de(n);const[l,d]=await Promise.all([fe(),$()]);U.hourlyClosures=d,U.ratings=l;const c=5*(G-1),x=c+5,u=n.slice(c,x),h=await ve(u,0,u.length);ne(new Set(u));const m=Ae(h,l),f=ce.get("checkinDate")||L()().format("YYYY-MM-DD"),A=m.map(async e=>{const t=await ge(e,f);return{hotelId:e.id,inventory:t}}),v=(await Promise.all(A)).reduce((e,t)=>{let{hotelId:o,inventory:r}=t;return e[o]=r,e},{});if(g(v),a(m),p(l),k(d),D(!1),U.hotels=[...m],U.lastFetched=Date.now(),n.length>u.length){ie(!0);const e=new Set(u),t=n.filter(t=>!e.has(t)),i=Math.ceil(t.length/30);for(let s=0;s<i;s++){const e=30*s,n=e+30,d=t.slice(e,n);try{const e=await ve(d,0,d.length);if(e.length>0){const t=Ae(e,l),o=t.map(async e=>{const t=await ge(e,f);return{hotelId:e.id,inventory:t}}),i=(await Promise.all(o)).reduce((e,t)=>{let{hotelId:o,inventory:r}=t;return e[o]=r,e},{});g(e=>(0,r.A)((0,r.A)({},e),i)),a(e=>[...e,...t]),U.hotels=[...U.hotels,...t],U.lastFetched=Date.now(),ne(e=>{const t=new Set(e);return d.forEach(e=>t.add(e)),t})}s<i-1&&await new Promise(e=>setTimeout(e,100))}catch(o){console.error("Error in batch ".concat(s+1,":"),o)}}ie(!1)}}catch(i){console.error("Error fetching hotels with rooms:",i),a([]),D(!1)}finally{pe.current=!1}}})(),()=>{me.current&&me.current.abort()}),[t.search]);(0,F.useEffect)(()=>{if(!z){const e=(()=>{const e=ce.get("location")||"",t=ce.get("bookingType"),a=(ce.get("bookingHours"),ce.get("sortBy")),i=Number(ce.get("maxBudget"))||2e4,s=Number(ce.get("minBudget"))||100,n=ce.get("checkinDate")||L()().format("YYYY-MM-DD"),l=ce.get("time")||"",d="hourly"===t?1:Math.max(1,Number(ce.get("nights"))||1),c=e=>{var o,r,a;const i=(null===(o=m[e.id])||void 0===o?void 0:o[null===(r=e.rooms)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.id])||[],s=Z(e,i,n,t||"fullDay",l);return s?(0,E.zG)(s).finalPrice*d:1/0};let x=o.filter(e=>{if("fullDay"===t){var o,r;const t="Overnight"===(null===e||void 0===e||null===(o=e.rooms)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.stayType);return"Hotel"===e.propertyType&&t}var a,i;return"hourly"===t?"Hourly"===(null===e||void 0===e||null===(a=e.rooms)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.stayType)&&(null===e||void 0===e||e.roomAvailable,!0):"villa"===t&&"Villa"===e.propertyType});x=x.filter(e=>{const t=c(e);return"Unavailable"===((null===e||void 0===e?void 0:e.roomAvailable)||"Available")||t>=s&&t<=i&&t!==1/0}),x=x.map(t=>{if(""!==e.trim()){const o=(e=>{if(!e.trim())return"mixed";const t=e.toLowerCase().trim(),o=["hotel","inn","resort","villa","apartment","guest house","lodging","accommodation","stay","room","suite"],r=["near","close to","beside","next to","opposite","adjacent","in","at","area","locality","road","street","lane","avenue"],a=o.some(e=>t.includes(e))||/^[A-Z][a-z]+\s+[A-Z][a-z]+/.test(e)||/Hotel\s+|Resort\s+|Inn\s+/i.test(e),i=r.some(e=>t.includes(e))||/patia|sahid|jaydev|infocity|kiit|soa|chandrasekharpur|railway|airport/i.test(t)||/near\s+|close to\s+/i.test(t);if(a&&!i)return"hotel";if(i&&!a)return"location";const s=t.split(/\s+/);let n=0,l=0;return s.forEach(e=>{o.includes(e)&&n++,(r.includes(e)||["patia","bhubaneswar","bbsr","kiit","airport"].includes(e))&&l++}),n>l?"hotel":l>n?"location":"mixed"})(e),{score:a,isExactHotelMatch:i,isExactLocationMatch:s}=((e,t,o)=>{let r=0,a=!1,i=!1;if(!t.trim())return{score:0,isExactHotelMatch:!1,isExactLocationMatch:!1};const s=t.toLowerCase().trim(),n=((null===e||void 0===e?void 0:e.propertyName)||"").toLowerCase(),l=((null===e||void 0===e?void 0:e.address)||"").toLowerCase(),d=((null===e||void 0===e?void 0:e.city)||"").toLowerCase(),c=((null===e||void 0===e?void 0:e.area)||"").toLowerCase(),x=s.split(/[,\s]+/).map(e=>e.trim()).filter(e=>e.length>0);n===s&&(r+=1e3,a=!0),n.startsWith(s)&&(r+="hotel"===o?500:300),n.includes(s)&&(r+="hotel"===o?400:200);let u=0;for(const p of x)p.length>1&&n.includes(p)&&(u++,r+="hotel"===o?150:75);u===x.length&&x.length>0&&(r+="hotel"===o?200:100);const h="location"===o?3:"mixed"===o?2:1;for(const p of x)p.length>2&&(l===p&&(r+=100*h,i=!0),l.includes(p)&&(r+=40*h),c===p&&(r+=120*h,i=!0),c.includes(p)&&(r+=50*h),d===p&&(r+=80*h),d.includes(p)&&(r+=30*h));if(s.includes("near ")||s.includes("close to ")){const e=s.replace(/(near |close to )/,"").trim();(l.includes(e)||c.includes(e))&&(r+=200*h)}if("hotel"!==o){(d.includes("bhubaneswar")||d.includes("bbsr"))&&(r+=20);const e=["patia","sahid nagar","jaydev vihar","infocity","chandrasekharpur"];for(const t of e)s.includes(t)&&(c.includes(t)||l.includes(t))&&(r+=150*h)}return{score:r,isExactHotelMatch:a,isExactLocationMatch:i}})(t,e,o),n="Unavailable"!==((null===t||void 0===t?void 0:t.roomAvailable)||"Available");return(0,r.A)((0,r.A)({},t),{},{_relevanceScore:a,_isExactHotelMatch:i,_isExactLocationMatch:s,_searchType:o,_isAvailable:n})}const o="Unavailable"!==((null===t||void 0===t?void 0:t.roomAvailable)||"Available");return(0,r.A)((0,r.A)({},t),{},{_relevanceScore:0,_isExactHotelMatch:!1,_isExactLocationMatch:!1,_searchType:"mixed",_isAvailable:o})}),x.sort((e,t)=>{if(e._isAvailable&&!t._isAvailable)return-1;if(t._isAvailable&&!e._isAvailable)return 1;const o=(t._locationRelevanceScore||0)-(e._locationRelevanceScore||0);if(0!==o)return o;if(e._isExactMatch&&!t._isExactMatch)return-1;if(t._isExactMatch&&!e._isExactMatch)return 1;if(e._hasLocationMatch&&!t._hasLocationMatch)return-1;if(t._hasLocationMatch&&!e._hasLocationMatch)return 1;const r=(t._relevanceScore||0)-(e._relevanceScore||0);if(0!==r)return r;var i,s;if("rating"===a)return(Number(null===t||void 0===t||null===(i=t.ratings)||void 0===i?void 0:i.rating)||0)-(Number(null===e||void 0===e||null===(s=e.ratings)||void 0===s?void 0:s.rating)||0);if("lowToHigh"===a)return c(e)-c(t);if("highToLow"===a)return c(t)-c(e);if("popularity"===a)return(Number(null===t||void 0===t?void 0:t.reviews)||0)-(Number(null===e||void 0===e?void 0:e.reviews)||0);{const o=(t._locationRelevanceScore||0)-(e._locationRelevanceScore||0);return 0!==o?o:c(e)-c(t)}});const u=Math.max(1,Number(ce.get("rooms"))||1);return x.map(e=>{var o,a,i;const s=(null===(o=m[e.id])||void 0===o?void 0:o[null===(a=e.rooms)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.id])||[],d=Z(e,s,n,t||"fullDay",l),c=(0,E.zG)(d),x=c.finalPrice,h="hourly"===t?1:Math.max(1,Number(ce.get("nights"))||1),p=u*h;return(0,r.A)((0,r.A)({},e),{},{_pricing:{perRoomFinal:x,perRoomBase:c.basePrice,perRoomPlatform:c.platformFee,perRoomGstTotal:c.gstTotal,roomsCount:u,nights:h,totalFinal:+x*p,totalBase:+c.basePrice*p,totalPlatform:+c.platformFee*p,totalGst:+c.gstTotal*p}})})})();l(e);const t=e.length,a=Math.ceil(t/5);q(a);const i=5*(G-1),s=i+5,n=e.slice(i,s);c(n)}},[z,o,t.search,G,m,w]);const be=(0,F.useCallback)((t,o)=>{V(o);const i=new URLSearchParams(ce.toString());i.set("page",o.toString()),e({search:i.toString()},{replace:!0});const s=5*(o-1),n=s+5,l=le.slice(s,n).filter(e=>!se.has(e));l.length>0&&!ee&&(async()=>{try{const e=await ve(l,0,l.length);if(e.length>0&&h){const t=Ae(e,h),o=ce.get("checkinDate")||L()().format("YYYY-MM-DD"),i=t.map(async e=>{const t=await ge(e,o);return{hotelId:e.id,inventory:t}}),s=(await Promise.all(i)).reduce((e,t)=>{let{hotelId:o,inventory:r}=t;return e[o]=r,e},{});g(e=>(0,r.A)((0,r.A)({},e),s)),a(e=>{const o=new Set(e.map(e=>e.id)),r=t.filter(e=>!o.has(e.id));return[...e,...r]}),ne(e=>{const t=new Set(e);return l.forEach(e=>t.add(e)),t}),U.hotels=[...U.hotels,...t],U.lastFetched=Date.now()}}catch(e){console.error("Error fetching missing hotels:",e)}})(),window.scrollTo({top:0,behavior:"smooth"})},[le,se,ee,h,ce,e]),ye=[Number(ce.get("minBudget"))||100,Number(ce.get("maxBudget"))||2e4],je=ce.get("bookingHours")||"3",Se=ce.get("sortBy")||"all",[we,ke]=(0,F.useState)(ye),[Ce,ze]=(0,F.useState)(je),[He,Fe]=(0,F.useState)(Se),Me=(o,r)=>{const a=new URLSearchParams(t.search);Array.isArray(r)?(a.set("minBudget",String(r[0])),a.set("maxBudget",String(r[1]))):a.set(o,String(r)),a.set("page","1"),V(1),e({search:a.toString()},{replace:!0})};(0,F.useEffect)(()=>{const o=new URLSearchParams(t.search);let r=!1;o.has("minBudget")||(o.set("minBudget",String(ye[0])),r=!0),o.has("maxBudget")||(o.set("maxBudget",String(ye[1])),r=!0),o.has("bookingHours")||(o.set("bookingHours",je),r=!0),o.has("sortBy")||(o.set("sortBy",Se),r=!0),o.has("page")||(o.set("page","1"),r=!0),r&&e({search:o.toString()},{replace:!0})},[]);const Be=(0,_.jsxs)(x.A,{sx:{position:"sticky",top:20},children:[(0,_.jsxs)(x.A,{sx:(0,r.A)((0,r.A)({},W.VX),{},{mt:3}),children:[(0,_.jsx)(f.A,{sx:(0,r.A)((0,r.A)({},oe),{},{mb:5}),children:"Budget"}),(0,_.jsx)(A.Ay,{value:we,onChange:(e,t,o)=>{Array.isArray(t)&&(ke(t),Me("minBudget",t[0]),Me("maxBudget",t[1]))},step:100,min:100,max:2e4,sx:{color:B.A.secondColor,"& .MuiSlider-thumb":{backgroundColor:"white",border:"2px solid ".concat(B.A.secondColor),width:20,height:20},"& .MuiSlider-valueLabel":{backgroundColor:B.A.secondColor,color:"white",fontSize:"12px",borderRadius:"5px",padding:"2px 8px"},"& .MuiSlider-track":{height:6},"& .MuiSlider-rail":{height:6,opacity:.3}},valueLabelFormat:e=>"\u20b9".concat(e),valueLabelDisplay:"on"}),(0,_.jsxs)(x.A,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:[(0,_.jsxs)(f.A,{sx:{fontSize:"14px",fontWeight:600,color:B.A.firstColor},children:["\u20b9",we[0]]}),(0,_.jsxs)(f.A,{sx:{fontSize:"14px",fontWeight:600,color:B.A.firstColor},children:["\u20b9",we[1]]})]})]}),"hourly"===ce.get("bookingType")&&(0,_.jsxs)(x.A,{sx:(0,r.A)({},W.VX),children:[(0,_.jsx)(f.A,{sx:(0,r.A)({},oe),children:"Book For"}),(0,_.jsx)(x.A,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",gap:"8px",mt:1},children:["3","6","12"].map(e=>(0,_.jsxs)(re,{value:e,selected:Ce===e,onClick:()=>{return ze(t=e),void Me("bookingHours",t);var t},sx:{flex:1,minWidth:{xs:"30%",sm:"auto"},py:1,fontSize:{xs:"11px",sm:"12px",md:"13px"},whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[e," Hours"]},e))})]}),(0,_.jsxs)(x.A,{sx:(0,r.A)({},W.VX),children:[(0,_.jsx)(f.A,{sx:(0,r.A)({},oe),children:"Sort By"}),(0,_.jsxs)(v.A,{sx:{mt:0},value:He,onChange:e=>{return t=e.target.value,Fe(t),void Me("sortBy",t);var t},children:[(0,_.jsx)(ae,{value:"all",control:(0,_.jsx)(W.YY,{}),label:"All"}),(0,_.jsx)(ae,{value:"lowToHigh",control:(0,_.jsx)(W.YY,{}),label:"Price Low To High"}),(0,_.jsx)(ae,{value:"highToLow",control:(0,_.jsx)(W.YY,{}),label:"Price High To Low"}),(0,_.jsx)(ae,{value:"popularity",control:(0,_.jsx)(W.YY,{}),label:"Popularity"}),(0,_.jsx)(ae,{value:"rating",control:(0,_.jsx)(W.YY,{}),label:"Customer Rating"}),(0,_.jsx)(ae,{value:"locationRelevance",control:(0,_.jsx)(W.YY,{}),label:"Near Search Location"})]})]}),(0,_.jsx)(x.A,{sx:(0,r.A)((0,r.A)({},W.VX),{},{mt:3}),children:(0,_.jsx)(R.A,{variant:"contained",onClick:()=>{ue&&T(!1);const t=new URLSearchParams(ce.toString());t.set("page","1"),e({search:t.toString()},{replace:!0})},customStyles:{width:"100%",padding:"12px",fontSize:"16px",fontWeight:700,background:"linear-gradient(135deg, #4B2AAD, #6C4BD3)",boxShadow:"0 4px 12px rgba(75, 42, 173, 0.3)"},children:"Apply Filters"})}),ee&&(0,_.jsx)(x.A,{sx:(0,r.A)((0,r.A)({},W.VX),{},{mt:2}),children:(0,_.jsx)(f.A,{sx:{fontSize:"12px",color:"#666",textAlign:"center"},children:"Loading more hotels in background..."})})]}),Re={"@context":"https://schema.org","@type":"ItemList",itemListElement:d.map((e,t)=>({"@type":"ListItem",position:t+1,url:"https://huts4u.com/hotel/".concat(e.id),name:e.propertyName}))};return(0,_.jsxs)(x.A,{sx:{background:B.A.thirdColor,p:{xs:2,sm:3,md:4},minHeight:"100vh"},children:[(0,_.jsxs)(P.mg,{children:[(0,_.jsx)("title",{children:"Search Hotels in Bhubaneswar | Huts4u"}),(0,_.jsx)("meta",{name:"description",content:"Search and book hourly hotels in Bhubaneswar quickly. Find hotels near you for short stays, business trips, or leisure visits."}),(0,_.jsx)("link",{rel:"canonical",href:"https://huts4u.com/search"}),(0,_.jsx)("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"WebPage",name:"Search Hotels",url:"https://huts4u.com/search"})}),d.length>0&&(0,_.jsx)("script",{type:"application/ld+json",children:JSON.stringify(Re)})]}),(0,_.jsx)(I.A,{}),(0,_.jsxs)(b.Ay,{container:!0,spacing:{xs:2,md:3},children:[ue?(0,_.jsx)(y.Ay,{anchor:"left",open:N,onClose:()=>T(!1),sx:{"& .MuiDrawer-paper":{width:{xs:"100%",sm:"85%"},maxWidth:400,height:"100%",overflowY:"auto"}},children:(0,_.jsxs)(x.A,{sx:{p:{xs:2,sm:3},height:"100%",overflowY:"auto"},children:[(0,_.jsxs)(x.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,position:"sticky",top:0,zIndex:1,pb:2,borderBottom:"1px solid #eee"},children:[(0,_.jsx)(f.A,{variant:"h5",sx:{background:"linear-gradient(135deg, #f3eee1, #e8e0cf)",width:"fit-content",borderRadius:"8px",p:1.5,fontWeight:700,color:B.A.firstColor,fontSize:{xs:"16px",md:"18px"},boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:"Filter & Sort"}),(0,_.jsx)(s.A,{onClick:()=>T(!1),sx:{fontSize:28,color:B.A.firstColor,cursor:"pointer","&:hover":{opacity:.8}}})]}),Be]})}):(0,_.jsx)(b.Ay,{item:!0,xs:12,md:3,lg:2.5,children:Be}),(0,_.jsxs)(b.Ay,{item:!0,xs:12,md:9,lg:9.5,children:[(0,_.jsxs)(x.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},mb:3,flexWrap:"wrap",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[z?(0,_.jsx)(u.A,{width:200,height:32}):(0,_.jsxs)(x.A,{children:[(0,_.jsxs)(f.A,{variant:"h6",sx:{fontWeight:700,fontSize:{xs:"17px",sm:"18px",md:"20px"},color:B.A.firstColor,marginTop:"10px"},children:[i.length," properties found",ee&&" (loading more...)"]}),X>1&&(0,_.jsxs)(f.A,{variant:"body2",sx:{color:"#666",fontSize:{xs:"13px",md:"14px"},mt:.5},children:["Page ",G," of ",X,ee&&" \u2022 Background loading active"]})]}),ue&&(0,_.jsx)(x.A,{sx:{display:"flex",gap:1,width:"100%"},children:(0,_.jsx)(R.A,{customStyles:{padding:"8px 16px",fontSize:"14px",borderRadius:"8px",flex:1},onClick:()=>T(!0),variant:"contained",startIcon:(0,_.jsx)(n.A,{}),children:"Filter & Sort"})})]}),z?[...Array(5)].map((e,t)=>(0,_.jsx)(O,{isMobile:ue},t)):d.length>0?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(x.A,{sx:{mb:4},children:d.map(e=>{var t,o,r;const a=e.id,i=K(h,a),s=(null===(t=m[a])||void 0===t?void 0:t[null===(o=e.rooms)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.id])||[];return(0,_.jsx)(te,{hotel:e,queryParams:ce,isMobile:ue,hotelRatings:i,inventoryData:s,hourlyClosures:w},e.id)})}),X>1&&(0,_.jsxs)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:4,mb:2,flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0}},children:[(0,_.jsx)(j.A,{count:X,page:G,onChange:be,color:"primary",size:ue||he?"medium":"large",showFirstButton:!ue,showLastButton:!ue,siblingCount:ue?1:2,boundaryCount:ue?1:2,renderItem:e=>(0,_.jsx)(S.A,(0,r.A)((0,r.A)({},e),{},{sx:{"&.Mui-selected":{backgroundColor:B.A.firstColor,color:B.A.thirdColor,"&:hover":{backgroundColor:B.A.secondColor}},"&.MuiPaginationItem-root":{fontWeight:600,fontSize:{xs:"14px",md:"14px"},minWidth:{xs:"36px",sm:"40px",md:"48px"},height:{xs:"36px",sm:"40px",md:"48px"}}}}))}),!ue&&(0,_.jsxs)(f.A,{variant:"body2",sx:{ml:2,color:"#666",fontSize:"14px",fontWeight:500,whiteSpace:"nowrap"},children:["Showing ",Math.min(5*(G-1)+1,i.length),"-",Math.min(5*G,i.length)," of ",i.length," properties"]})]})]}):(0,_.jsx)(x.A,{sx:{textAlign:"center",py:8,px:2},children:(0,_.jsxs)(x.A,{sx:{maxWidth:400,mx:"auto",p:4,borderRadius:"16px",background:"linear-gradient(135deg, #f8f9ff, #f0f2ff)",boxShadow:"0 4px 20px rgba(0,0,0,0.05)"},children:[(0,_.jsx)(f.A,{variant:"h5",sx:{fontWeight:700,color:B.A.firstColor,mb:2,fontSize:{xs:"20px",md:"22px"}},children:"No properties found"}),(0,_.jsx)(f.A,{variant:"body1",sx:{color:"#666",mb:3,fontSize:{xs:"14px",md:"16px"}},children:"Try adjusting your search criteria or filters"}),(0,_.jsx)(R.A,{variant:"contained",onClick:()=>e("/"),customStyles:{background:"linear-gradient(135deg, #4B2AAD, #6C4BD3)",borderRadius:"8px",fontSize:"15px",fontWeight:600},children:"Search Again"})]})})]})]})]})}}}]);
//# sourceMappingURL=537.16c844e8.chunk.js.map