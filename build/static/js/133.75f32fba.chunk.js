"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[133],{15294:(e,t,o)=>{o.d(t,{A:()=>n,k:()=>a});var r=o(92532),s=o(72372);function a(e){return(0,s.Ay)("MuiAvatar",e)}const n=(0,r.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"])},30133:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ie});var r=o(89379),s=o(51214),a=o(59662),n=o(70579);const i=(0,a.A)((0,n.jsx)("path",{d:"m14.43 10-1.47-4.84c-.29-.95-1.63-.95-1.91 0L9.57 10H5.12c-.97 0-1.37 1.25-.58 1.81l3.64 2.6-1.43 4.61c-.29.93.79 1.68 1.56 1.09l3.69-2.8 3.69 2.81c.77.59 1.85-.16 1.56-1.09l-1.43-4.61 3.64-2.6c.79-.57.39-1.81-.58-1.81h-4.45z"}),"StarRateRounded");var l=o(17953),c=o(70577),d=o(93287);const h=(0,a.A)((0,n.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh");var x=o(94389),m=o(42796),u=o(26240),p=o(85442),f=o(7353),g=o(55263),A=o(94496),v=o(39336),j=o(35721),y=o(30681),b=o(38968),S=o(2050),w=o(48734),k=o(81637),C=o(65043),z=o(2810),D=o(98206);const R="function"===typeof(0,z.Dp)({}),F=(e,t)=>(0,r.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),M=e=>(0,r.A)((0,r.A)({color:(e.vars||e).palette.text.primary},e.typography.body1),{},{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),I=function(e){var t;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s={};o&&e.colorSchemes&&"function"===typeof e.getColorSchemeSelector&&Object.entries(e.colorSchemes).forEach(t=>{let[o,r]=t;const a=e.getColorSchemeSelector(o);var n,i;a.startsWith("@")?s[a]={":root":{colorScheme:null===(n=r.palette)||void 0===n?void 0:n.mode}}:s[a.replace(/\s*&/,"")]={colorScheme:null===(i=r.palette)||void 0===i?void 0:i.mode}});let a=(0,r.A)({html:F(e,o),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,r.A)((0,r.A)({margin:0},M(e)),{},{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},s);const n=null===(t=e.components)||void 0===t||null===(t=t.MuiCssBaseline)||void 0===t?void 0:t.styleOverrides;return n&&(a=[a,n]),a},W="mui-ecs",E=(0,z.Dp)(R?e=>{let{theme:t,enableColorScheme:o}=e;return I(t,o)}:e=>{let{theme:t}=e;return(e=>{const t=I(e,!1),o=Array.isArray(t)?t[0]:t;return!e.vars&&o&&(o.html[":root:has(".concat(W,")")]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{let[r,s]=t;const a=e.getColorSchemeSelector(r);var n,i;a.startsWith("@")?o[a]={[":root:not(:has(.".concat(W,"))")]:{colorScheme:null===(n=s.palette)||void 0===n?void 0:n.mode}}:o[a.replace(/\s*&/,"")]={["&:not(:has(.".concat(W,"))")]:{colorScheme:null===(i=s.palette)||void 0===i?void 0:i.mode}}}),t})(t)});const P=function(e){const t=(0,D.b)({props:e,name:"MuiCssBaseline"}),{children:o,enableColorScheme:r=!1}=t;return(0,n.jsxs)(C.Fragment,{children:[R&&(0,n.jsx)(E,{enableColorScheme:r}),!R&&!r&&(0,n.jsx)("span",{className:W,style:{display:"none"}}),o]})};var N=o(60295),Y=o(92314),B=o(17392),H=o(53193),G=o(57465),T=o(32143),O=o(11906),L=o(68903),V=o(12110),K=o(26494),q=o(60587),J=o(50108),X=o(11653),Z=o(87734),Q=o(52185),U=o(6026),$=o(86150),_=o(90168),ee=o(33580),te=o(69995),oe=o(82533),re=o(73216),se=o(60446),ae=o.n(se);const ne=240,ie=()=>{var e,t;const o=(0,re.Zp)(),a=(0,u.A)(),z=(0,p.A)(a.breakpoints.down("sm")),[D,R]=((0,p.A)(a.breakpoints.between("sm","lg")),(0,p.A)(a.breakpoints.up("lg")),(0,C.useState)(!1)),[F,M]=(0,C.useState)(!0),[I,W]=(0,C.useState)(!1),[E,se]=(0,C.useState)([{name:"Dec 27",revenue:0},{name:"Jan 28",revenue:0},{name:"Feb 28",revenue:0}]),[ie,le]=(0,C.useState)([]),[ce,de]=(0,C.useState)({}),[he,xe]=(0,C.useState)(""),[me,ue]=(0,C.useState)(0),[pe,fe]=(0,C.useState)(0),[ge,Ae]=(0,C.useState)({avg:0,count:0}),[ve,je]=(0,C.useState)(""),[ye,be]=(0,C.useState)({}),[Se,we]=(0,C.useState)({}),[ke,Ce]=(0,C.useState)({});(0,C.useEffect)(()=>{(async()=>{M(!0);try{await ze(),await Promise.all([De(),Re(),Fe(),Me()])}catch(e){console.error("Error fetching dashboard data:",e)}finally{M(!1)}})()},[]);const ze=async()=>{const e={data:{filter:"",userId:(0,oe.F6)()},page:0,pageSize:100,order:[["createdAt","ASC"]]};try{var t,o;const r=await(0,te.Vy)(e);if(null!==r&&void 0!==r&&null!==(t=r.data)&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.rows){const e=r.data.data.rows.map(e=>{var t,o;return{id:e.id,name:null!==(t=null!==(o=e.propertyName)&&void 0!==o?o:e.name)&&void 0!==t?t:"Hotel ".concat(e.id)}});if(le(e),e.length>0){const t=e[0].id;xe(t),je(t)}}}catch(r){console.error("Error fetching hotels:",r)}},De=async()=>{try{var e,t;const o={data:{filter:""},page:0,pageSize:1e3,order:[["createdAt","DESC"]]},r=await(0,te.Gc)(o),s=(null===r||void 0===r||null===(e=r.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.rows)||[],a={};s.forEach(e=>{const t=e.hotelId;a[t]||(a[t]=[]),a[t].push(e)}),de(a);const n=s.filter(e=>{const t=String(e.status||"").toLowerCase();return"pending"===t||"confirmed"===t||"upcoming"===t});ue(n.length)}catch(o){console.error("Error fetching all bookings:",o)}},Re=async()=>{W(!0);try{var e,t;const o={data:{filter:""},page:0,pageSize:1e3,order:[["createdAt","DESC"]]},r=await(0,te.Al)(o),s=(null===r||void 0===r||null===(e=r.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.rows)||[];console.log("Raw revenue data:",s);let a=0;const n={};s.forEach(e=>{var t;let o=0;if(e.netAmountPaise?o=parseFloat(e.netAmountPaise)/100:e.amount?o=parseFloat(e.amount):e.totalAmount?o=parseFloat(e.totalAmount):e.revenue&&(o=parseFloat(e.revenue)),o<=0)return;const r=e.hotelId||e.propertyId||(null===(t=e.hotel)||void 0===t?void 0:t.id)||he;r&&(n[r]||(n[r]={total:0}),n[r].total+=o),a+=o}),console.log("Processed revenue:",{totalRevenue:a,revenueByHotel:n,dataCount:s.length}),Ce(n),fe(a)}catch(o){console.error("Error fetching revenue:",o)}finally{W(!1)}},Fe=async()=>{try{var e,t;const o={data:{filter:"",userId:(0,oe.F6)()},page:0,pageSize:1e3,order:[["createdAt","DESC"]]},r=await(0,te.Ge)(o),s=(null===r||void 0===r||null===(e=r.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.rows)||[],a={},n={};s.forEach(e=>{const t=e.hotelId||e.propertyId;t&&(a[t]||(a[t]=[]),a[t].push(e))}),Object.keys(a).forEach(e=>{const t=a[e],o=t.length;let r=0;t.forEach(e=>{r+=parseFloat(e.rating||0)});const s=o>0?parseFloat((r/o).toFixed(1)):0;n[e]={avg:s,count:o}});const i=s.map(e=>parseFloat(e.rating||0)).filter(e=>!isNaN(e)),l=i.length,c=i.reduce((e,t)=>e+t,0),d=l>0?parseFloat((c/l).toFixed(1)):0;be(n),we(a),Ae({avg:d,count:l})}catch(o){console.error("Error fetching ratings:",o)}},Me=async()=>{try{var e,t;const o={data:{filter:"",userId:(0,oe.F6)()},page:0,pageSize:1e3,order:[["createdAt","DESC"]]},r=await(0,te.Al)(o),s=(null===r||void 0===r||null===(e=r.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.rows)||[],a=[];for(let e=6;e>=0;e--){const t=ae()().subtract(e,"day");a.push({name:t.format("DD MMM"),date:t.format("YYYY-MM-DD"),revenue:0})}s.forEach(e=>{let t=0;if(e.netAmountPaise?t=parseFloat(e.netAmountPaise)/100:e.amount?t=parseFloat(e.amount):e.totalAmount&&(t=parseFloat(e.totalAmount)),t<=0)return;const o=e.createdAt||e.date;if(o){const e=ae()(o).format("YYYY-MM-DD"),r=a.find(t=>t.date===e);r&&(r.revenue+=t)}});const n=a.map(e=>({name:e.name,revenue:Math.max(0,Math.round(e.revenue))}));se(n)}catch(o){console.error("Error fetching chart data:",o)}};(0,C.useEffect)(()=>{he&&(We(he),ye[he]||Ie(he))},[he]);const Ie=async e=>{if(e)try{var t,o;const s={data:{filter:"",hotelId:e},page:0,pageSize:1e3,order:[["createdAt","DESC"]]},a=await(0,te.Ge)(s),n=(null===a||void 0===a||null===(t=a.data)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.rows)||[],i=n.length;let l=0;if(i>0){const e=n.reduce((e,t)=>{var o,r;const s=Number(null!==(o=null!==(r=t.rating)&&void 0!==r?r:t.score)&&void 0!==o?o:0);return e+(isNaN(s)?0:s)},0);l=+(e/i).toFixed(2)}be(t=>(0,r.A)((0,r.A)({},t),{},{[e]:{avg:l,count:i}})),we(t=>(0,r.A)((0,r.A)({},t),{},{[e]:n}))}catch(s){console.error("Error fetching ratings for hotel ".concat(e,":"),s),be(t=>(0,r.A)((0,r.A)({},t),{},{[e]:{avg:0,count:0}})),we(t=>(0,r.A)((0,r.A)({},t),{},{[e]:[]}))}},We=async e=>{if(e)try{var t,o,s;const a={data:{filter:"",hotelId:e},page:0,pageSize:1e3,order:[["createdAt","ASC"]]},n=await(0,te.E5)(a),i=null!==(t=null===n||void 0===n||null===(o=n.data)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.rows)&&void 0!==t?t:[];let l=0;const c=[];Array.isArray(i)&&i.length>0&&i.forEach((e,t)=>{let o=0;if(e.netAmountPaise?o=parseFloat(e.netAmountPaise)/100:e.amount?o=parseFloat(e.amount):e.totalAmount&&(o=parseFloat(e.totalAmount)),o<=0)return;l+=o;const r=e.createdAt?ae()(e.createdAt).format("DD MMM"):"Rec ".concat(t+1);c.push({name:r,revenue:o})}),console.log("Revenue for hotel ".concat(e,":"),{total:l,chart:c}),Ce(t=>(0,r.A)((0,r.A)({},t),{},{[e]:{total:l}})),c.length&&se(c.slice(-7))}catch(a){console.error("Error fetching revenue for hotel ".concat(e,":"),a)}},Ee=e=>e.toLocaleString("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0,minimumFractionDigits:0}),Pe=()=>{o("/review")},Ne=e=>{const t=e.target.value;je(t),Ie(t)},Ye=[{key:"newBookings",title:"New Bookings",value:me,icon:(0,n.jsx)(s.A,{}),change:"8.70%",onClick:()=>{o("/booking")},hoverText:"Go to Bookings"},{key:"guestRatings",title:"Guest ratings",value:ge.count>0?"".concat(ge.avg,"/5"):"\u2014/5",icon:(0,n.jsx)(i,{}),change:"-3.56%",onClick:Pe,hoverText:"Go to Reviews"},{key:"revenue",title:"Total Revenue",value:pe>0?Ee(pe):"\u20b90",icon:(0,n.jsx)(l.A,{}),change:"5.70%",onClick:()=>{o("/hotel-payment")},hoverText:"Go to Payments",isLoading:I}],Be=()=>{R(!D)},He=(0,n.jsxs)(f.A,{children:[(0,n.jsx)(g.A,{children:(0,n.jsx)(A.A,{variant:"h6",sx:{color:ee.A.firstColor},children:"Hotel Dashboard"})}),(0,n.jsx)(v.A,{}),(0,n.jsx)(j.A,{children:["Dashboard","Bookings","Reviews","Payments"].map(e=>(0,n.jsx)(y.Ay,{disablePadding:!0,children:(0,n.jsxs)(b.A,{children:[(0,n.jsx)(S.A,{children:"Dashboard"===e?(0,n.jsx)(c.A,{}):"Bookings"===e?(0,n.jsx)(s.A,{}):"Reviews"===e?(0,n.jsx)(i,{}):"Payments"===e?(0,n.jsx)(l.A,{}):null}),(0,n.jsx)(w.A,{primary:e})]})},e))})]});return F?(0,n.jsxs)(f.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:ee.A.thirdColor},children:[(0,n.jsx)(k.A,{sx:{color:ee.A.firstColor}}),(0,n.jsx)(A.A,{sx:{ml:2,color:ee.A.firstColor},children:"Loading Dashboard..."})]}):(0,n.jsxs)(f.A,{sx:{display:"flex",minHeight:"100vh",backgroundColor:ee.A.thirdColor},children:[(0,n.jsx)(P,{}),(0,n.jsx)(N.Ay,{variant:"temporary",open:D,onClose:Be,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:ne}},children:He}),(0,n.jsxs)(f.A,{component:"main",sx:{flexGrow:1,p:{xs:1,sm:2,md:3},width:{xs:"100%",sm:"calc(100% - ".concat(ne,"px)")},maxWidth:"100%",overflowX:"hidden"},children:[(0,n.jsx)(Y.A,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(ne,"px)")},ml:{sm:"".concat(ne,"px")},display:{xs:"block",sm:"none"},backgroundColor:ee.A.thirdColor,boxShadow:"none",borderBottom:"1px solid #e0e0e0"},children:(0,n.jsxs)(g.A,{children:[(0,n.jsx)(B.A,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:Be,sx:{mr:2,color:ee.A.firstColor},children:(0,n.jsx)(d.A,{})}),(0,n.jsx)(A.A,{variant:"h6",noWrap:!0,component:"div",sx:{color:ee.A.firstColor},children:"Hotel Dashboard"})]})}),(0,n.jsxs)(f.A,{sx:{mt:{xs:7,sm:0}},children:[(0,n.jsxs)(f.A,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},mb:2,gap:2,children:[(0,n.jsx)(A.A,{variant:"h5",sx:{color:ee.A.firstColor,fontSize:{xs:"1.5rem",sm:"1.75rem",md:"2rem"}},children:"Hotel Dashboard"}),(0,n.jsxs)(f.A,{display:"flex",gap:2,alignItems:"center",flexDirection:{xs:"column",sm:"row"},width:{xs:"100%",sm:"auto"},children:[(0,n.jsx)(H.A,{sx:{minWidth:{xs:"100%",sm:200,md:300}},size:z?"small":"medium",children:(0,n.jsx)(G.A,{value:null!==he&&void 0!==he?he:"",onChange:e=>xe(e.target.value),displayEmpty:!0,fullWidth:!0,children:ie.map(e=>(0,n.jsx)(T.A,{value:e.id,children:(0,n.jsx)(A.A,{noWrap:!0,sx:{fontSize:{xs:"12px",sm:"14px"}},children:e.name})},e.id))})}),(0,n.jsx)(O.A,{variant:"outlined",onClick:async()=>{M(!0);try{await Promise.all([De(),Re(),Fe(),Me()]),he&&await Promise.all([We(he),Ie(he)])}catch(e){console.error("Error refreshing data:",e)}finally{M(!1)}},startIcon:(0,n.jsx)(h,{}),size:z?"small":"medium",fullWidth:z,disabled:F,children:F?"Refreshing...":"Refresh"})]})]}),(0,n.jsx)(L.Ay,{container:!0,spacing:2,mb:3,children:Ye.map(e=>(0,n.jsx)(L.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,n.jsx)(V.A,{onClick:e.onClick,sx:{background:ee.A.thirdColor,boxShadow:"0px 0px 14px rgba(0, 0, 0, 0.14)",borderRadius:"12px",minHeight:{xs:120,sm:140},display:"flex",alignItems:"center",cursor:"pointer",transition:"transform 0.15s ease","&:hover":{transform:"translateY(-4px)"}},children:(0,n.jsxs)(K.A,{sx:{width:"100%",p:{xs:1.5,sm:2}},children:[(0,n.jsxs)(f.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,n.jsx)(A.A,{color:"#7c7c7c",fontSize:{xs:"12px",sm:"14px"},noWrap:!0,children:e.title}),(0,n.jsx)(B.A,{sx:{background:ee.A.firstColor,color:"white",borderRadius:"8px",width:{xs:30,sm:36},height:{xs:30,sm:36}},size:"small",children:"revenue"===e.key?I?(0,n.jsx)(k.A,{size:20,color:"inherit"}):(0,n.jsx)(l.A,{sx:{fontSize:{xs:18,sm:24}}}):"guestRatings"===e.key?(0,n.jsx)(i,{sx:{fontSize:{xs:18,sm:24}}}):(0,n.jsx)(s.A,{sx:{fontSize:{xs:18,sm:24}}})})]}),(0,n.jsxs)(f.A,{display:"flex",gap:2,mt:1,flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"stretch",sm:"center"},children:["guestRatings"===e.key?(0,n.jsx)(H.A,{size:z?"small":"medium",sx:{minWidth:{xs:"100%",sm:160},width:{xs:"100%",sm:"auto"}},children:(0,n.jsx)(G.A,{size:z?"small":"medium",value:ve,onChange:Ne,onClick:e=>e.stopPropagation(),fullWidth:!0,children:ie.map(e=>(0,n.jsx)(T.A,{value:e.id,children:(0,n.jsx)(A.A,{noWrap:!0,sx:{fontSize:{xs:"12px",sm:"14px"}},children:e.name})},e.id))})}):null,(0,n.jsx)(A.A,{variant:z?"h6":"h5",fontWeight:600,textAlign:{xs:"center",sm:"left"},children:e.isLoading?(0,n.jsx)(k.A,{size:24}):e.value})]}),(0,n.jsxs)(A.A,{mt:2,display:"flex",alignItems:"center",gap:1,sx:{color:e.change.includes("-")?"red":"green",width:"fit-content",px:2,borderRadius:"4px",border:"solid 1px",fontSize:{xs:"12px",sm:"14px"},flexWrap:"wrap"},children:[e.change.includes("-")?(0,n.jsx)(x.A,{sx:{fontSize:{xs:16,sm:20}}}):(0,n.jsx)(m.A,{sx:{fontSize:{xs:16,sm:20}}})," ",e.change," from last week"]}),(0,n.jsx)(A.A,{mt:1,color:"#7c7c7c",fontSize:{xs:"10px",sm:"12px"},children:(0,n.jsx)("em",{children:e.hoverText})})]})})},e.key))}),(0,n.jsxs)(L.Ay,{container:!0,spacing:2,mb:3,children:[(0,n.jsx)(L.Ay,{item:!0,xs:12,md:6,children:(0,n.jsx)(V.A,{sx:{background:ee.A.firstColor,color:"white",borderRadius:2,p:{xs:1,sm:2},height:{xs:280,sm:300}},children:(0,n.jsxs)(K.A,{sx:{p:0,height:"100%"},children:[(0,n.jsxs)(f.A,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},mb:2,gap:1,children:[(0,n.jsx)(A.A,{fontWeight:"bold",variant:"h6",fontSize:{xs:"1rem",sm:"1.25rem"},children:"Revenue Overview"}),(0,n.jsxs)(A.A,{variant:"h6",fontSize:{xs:"0.9rem",sm:"1.1rem"},children:["Total: ",Ee(pe)]})]}),(0,n.jsx)(f.A,{sx:{height:{xs:"200px",sm:"220px"}},children:E.length>0?(0,n.jsx)(J.u,{width:"100%",height:"100%",children:(0,n.jsxs)(X.b,{data:E,children:[(0,n.jsx)(Z.d,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.3)"}),(0,n.jsx)(Q.W,{dataKey:"name",stroke:"white",style:{fontSize:z?9:10}}),(0,n.jsx)(U.h,{stroke:"white",style:{fontSize:z?9:10},tickFormatter:e=>"\u20b9".concat(e)}),(0,n.jsx)($.m,{formatter:e=>["\u20b9".concat(e),"Revenue"],contentStyle:{backgroundColor:ee.A.firstColor,border:"solid 1.5px white",borderRadius:4,color:"white",fontSize:z?12:14}}),(0,n.jsx)(_.N,{type:"monotone",dataKey:"revenue",stroke:"#ffffff",strokeWidth:z?2:3,dot:{r:z?4:6,stroke:ee.A.firstColor,strokeWidth:2},activeDot:{r:z?6:8}})]})}):(0,n.jsx)(f.A,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,n.jsx)(A.A,{children:"No revenue data available"})})})]})})}),(0,n.jsx)(L.Ay,{item:!0,xs:12,md:6,children:(0,n.jsx)(V.A,{sx:{background:ee.A.firstColor,color:"white",borderRadius:2,p:{xs:1,sm:2},height:{xs:280,sm:300}},children:(0,n.jsxs)(K.A,{sx:{p:0,height:"100%"},children:[(0,n.jsxs)(f.A,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},mb:2,gap:1,children:[(0,n.jsx)(A.A,{fontWeight:"bold",variant:"h6",fontSize:{xs:"1rem",sm:"1.25rem"},children:"Booking Trends"}),(0,n.jsxs)(A.A,{variant:"h6",fontSize:{xs:"0.9rem",sm:"1.1rem"},children:["New: ",me]})]}),(0,n.jsx)(f.A,{sx:{height:{xs:"200px",sm:"220px"}},children:(0,n.jsx)(J.u,{width:"100%",height:"100%",children:(0,n.jsxs)(X.b,{data:E,children:[(0,n.jsx)(Z.d,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.3)"}),(0,n.jsx)(Q.W,{dataKey:"name",stroke:"white",style:{fontSize:z?9:10}}),(0,n.jsx)(U.h,{stroke:"white",style:{fontSize:z?9:10},tickFormatter:e=>"\u20b9".concat(e)}),(0,n.jsx)($.m,{formatter:e=>["\u20b9".concat(e),"Revenue"],contentStyle:{backgroundColor:ee.A.firstColor,border:"solid 1.5px white",borderRadius:4,color:"white",fontSize:z?12:14}}),(0,n.jsx)(_.N,{type:"monotone",dataKey:"revenue",stroke:"#ffffff",strokeWidth:z?2:3,dot:{r:z?4:6,stroke:ee.A.firstColor,strokeWidth:2},activeDot:{r:z?6:8}})]})})})]})})})]}),(0,n.jsx)(f.A,{mb:3,children:(0,n.jsx)(V.A,{sx:{borderRadius:2},children:(0,n.jsxs)(K.A,{sx:{p:{xs:1.5,sm:2}},children:[(0,n.jsxs)(f.A,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},mb:1,gap:1,children:[(0,n.jsx)(A.A,{fontWeight:"bold",variant:"h6",fontSize:{xs:"1.1rem",sm:"1.25rem"},children:"Guest Reviews"}),(0,n.jsxs)(f.A,{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},gap:{xs:.5,sm:2},children:[(0,n.jsx)(A.A,{color:"textSecondary",noWrap:!0,children:null!==(e=null===(t=ie.find(e=>e.id===he))||void 0===t?void 0:t.name)&&void 0!==e?e:"\u2014"}),(0,n.jsx)(A.A,{color:"textSecondary",noWrap:!0,children:ye[he]?"".concat(ye[he].count," reviews \u2022 ").concat(ye[he].avg,"/5"):"No reviews"})]})]}),(0,n.jsx)(v.A,{sx:{mb:2}}),Se[he]&&0!==Se[he].length?(0,n.jsxs)(f.A,{display:"flex",flexDirection:"column",gap:1.5,children:[Se[he].slice(0,z?3:5).map(e=>{var t,o,r;return(0,n.jsx)(f.A,{sx:{p:{xs:1.5,sm:2},borderRadius:1,background:ee.A.thirdColor},children:(0,n.jsxs)(f.A,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:1,children:[(0,n.jsxs)(f.A,{display:"flex",gap:{xs:1,sm:2},alignItems:"center",width:{xs:"100%",sm:"auto"},children:[(0,n.jsx)(q.A,{src:e.userAvatar||void 0,sx:{width:{xs:40,sm:48},height:{xs:40,sm:48}}}),(0,n.jsxs)(f.A,{flex:1,children:[(0,n.jsx)(A.A,{fontWeight:700,fontSize:{xs:"14px",sm:"16px"},children:null!==(t=null!==(o=e.userName)&&void 0!==o?o:e.userId)&&void 0!==t?t:"Guest"}),(0,n.jsx)(A.A,{fontSize:{xs:"11px",sm:"12px"},color:"textSecondary",children:e.comment?e.comment.length>(z?80:120)?e.comment.substring(0,z?80:120)+"...":e.comment:"No comment"})]})]}),(0,n.jsxs)(f.A,{textAlign:{xs:"left",sm:"right"},width:{xs:"100%",sm:"auto"},children:[(0,n.jsxs)(A.A,{fontWeight:700,fontSize:{xs:"14px",sm:"16px"},children:[Number(null!==(r=e.rating)&&void 0!==r?r:0).toFixed(1)," / 5"]}),(0,n.jsx)(A.A,{fontSize:{xs:"10px",sm:"12px"},color:"textSecondary",children:e.createdAt?ae()(e.createdAt).format(z?"DD MMM, hh:mm A":"DD MMM YYYY, hh:mm A"):"-"})]})]})},e.id)}),Se[he].length>(z?3:5)&&(0,n.jsxs)(O.A,{fullWidth:!0,variant:"outlined",onClick:Pe,sx:{mt:1},children:["View All Reviews (",Se[he].length,")"]})]}):(0,n.jsx)(A.A,{color:"textSecondary",textAlign:"center",children:"No reviews for this hotel."})]})})})]})]})]})}},60587:(e,t,o)=>{o.d(t,{A:()=>j});var r=o(80045),s=o(89379),a=o(65043),n=o(58387),i=o(98610),l=o(34535),c=o(56262),d=o(98206),h=o(59662),x=o(70579);const m=(0,h.A)((0,x.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var u=o(15294),p=o(4162);const f=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],g=(0,l.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.colorDefault&&t.colorDefault]}})((0,c.A)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,s.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,s.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),A=(0,l.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),v=(0,l.Ay)(m,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const j=a.forwardRef(function(e,t){const o=(0,d.b)({props:e,name:"MuiAvatar"}),{alt:l,children:c,className:h,component:m="div",slots:j={},slotProps:y={},imgProps:b,sizes:S,src:w,srcSet:k,variant:C="circular"}=o,z=(0,r.A)(o,f);let D=null;const R=(0,s.A)((0,s.A)({},o),{},{component:m,variant:C}),F=function(e){let{crossOrigin:t,referrerPolicy:o,src:r,srcSet:s}=e;const[n,i]=a.useState(!1);return a.useEffect(()=>{if(!r&&!s)return;i(!1);let e=!0;const a=new Image;return a.onload=()=>{e&&i("loaded")},a.onerror=()=>{e&&i("error")},a.crossOrigin=t,a.referrerPolicy=o,a.src=r,s&&(a.srcset=s),()=>{e=!1}},[t,o,r,s]),n}((0,s.A)((0,s.A)((0,s.A)({},b),"function"===typeof y.img?y.img(R):y.img),{},{src:w,srcSet:k})),M=w||k,I=M&&"error"!==F;R.colorDefault=!I,delete R.ownerState;const W=(e=>{const{classes:t,variant:o,colorDefault:r}=e,s={root:["root",o,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,i.A)(s,u.k,t)})(R),[E,P]=(0,p.A)("img",{className:W.img,elementType:A,externalForwardedProps:{slots:j,slotProps:{img:(0,s.A)((0,s.A)({},b),y.img)}},additionalProps:{alt:l,src:w,srcSet:k,sizes:S},ownerState:R});return D=I?(0,x.jsx)(E,(0,s.A)({},P)):c||0===c?c:M&&l?l[0]:(0,x.jsx)(v,{ownerState:R,className:W.fallback}),(0,x.jsx)(g,(0,s.A)((0,s.A)({as:m,className:(0,n.A)(W.root,h),ref:t},z),{},{ownerState:R,children:D}))})},70577:(e,t,o)=>{o.d(t,{A:()=>a});var r=o(59662),s=o(70579);const a=(0,r.A)((0,s.jsx)("path",{d:"M4 13h6c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1m0 8h6c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1m10 0h6c.55 0 1-.45 1-1v-8c0-.55-.45-1-1-1h-6c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1M13 4v4c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1h-6c-.55 0-1 .45-1 1"}),"DashboardRounded")}}]);
//# sourceMappingURL=133.75f32fba.chunk.js.map