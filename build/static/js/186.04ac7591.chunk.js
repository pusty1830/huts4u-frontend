"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[186],{38186:(e,s,t)=>{t.r(s),t.d(s,{default:()=>je});var l=t(89379),n=t(65043),i=t(7353),a=t(94496),r=t(68903),o=t(12110),c=t(26494),d=t(83625),x=t(24056),h=t(28739),A=t(10611),j=t(11906),u=t(67784),m=t(51787),g=t(32143),p=t(79958),f=t(43845),y=t(39336),v=t(79650),b=t(61596),C=t(71806),k=t(84882),w=t(28076),S=t(10039),I=t(73460),z=t(41985),T=t(17392),W=t(60587),D=t(88911),F=t(77739),L=t(30279),P=t(83462),H=t(26600),R=t(35316),N=t(98533),M=t(29347),B=t(26240),E=t(85442),O=t(67957),U=t(27098),Y=t(54529),G=t(30994),V=t(47225),J=t(91794),X=t(98606),Z=t(51387),q=t(83560),K=t(58293),Q=t(34190),$=t(26372),_=t(55968),ee=t(50812),se=t(20273),te=t(75155),le=t(59893),ne=t(79484),ie=t(99049),ae=t(69995),re=t(57488),oe=t(73216),ce=t(60446),de=t.n(ce),xe=t(70579);const he={checkedIn:"#4caf50",checkedOut:"#f44336",Cancel:"#9e9e9e",pending:"#ff9800",Approved:"#4caf50",Reject:"#f44336",Pending:"#ff9800",ACTIVE:"#2196f3",available:"#4caf50",occupied:"#f44336",maintenance:"#ff9800"},Ae={single:"#2196f3",double:"#4caf50",triple:"#9c27b0",family:"#ff9800",suite:"#795548",deluxe:"#607d8b",executive:"#3f51b5"},je=()=>{const[e,s]=(0,n.useState)([]),[t,ce]=(0,n.useState)([]),[je,ue]=(0,n.useState)([]),[me,ge]=(0,n.useState)([]),[pe,fe]=(0,n.useState)([]),[ye,ve]=(0,n.useState)(!0),[be,Ce]=(0,n.useState)(0),[ke,we]=(0,n.useState)([]),[Se,Ie]=(0,n.useState)({search:"",status:"",checkInFrom:"",checkInTo:""}),[ze,Te]=(0,n.useState)({search:"",city:"",status:"",category:""}),[We,De]=(0,n.useState)(1),[Fe,Le]=(0,n.useState)(1),[Pe]=(0,n.useState)(10),[He,Re]=(0,n.useState)(!1),[Ne,Me]=(0,n.useState)(null),[Be,Ee]=(0,n.useState)(null),[Oe,Ue]=(0,n.useState)(""),Ye=(0,oe.Zp)(),Ge=(0,B.A)(),Ve=(0,E.A)(Ge.breakpoints.down("sm"));(0,E.A)(Ge.breakpoints.down("md"));(0,n.useEffect)(()=>{(async()=>{ve(!0);try{var e,t,n,i,a,r;const o={data:{filter:""},page:0,pageSize:5e3,order:[["createdAt","DESC"]]},[c,d,x]=await Promise.all([(0,ae.NO)(o),(0,ae.Vy)(o),(0,ae.SP)(o)]),h=(null===c||void 0===c||null===(e=c.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.rows)||[],A=(null===d||void 0===d||null===(n=d.data)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.rows)||[],j=((null===x||void 0===x||null===(a=x.data)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.rows)||[]).map(e=>{const s=A.find(s=>s.id===e.hotelId);return(0,l.A)((0,l.A)({},e),{},{hotelName:(null===s||void 0===s?void 0:s.propertyName)||"Unknown Hotel",hotelCity:(null===s||void 0===s?void 0:s.city)||"Unknown City",hotelStatus:(null===s||void 0===s?void 0:s.status)||"Unknown"})});s(h),ge(h),ce(A),fe(A),ue(j)}catch(o){console.error("Error fetching data:",o),re.oR.error("Failed to load data")}finally{ve(!1)}})()},[]);const Je=e=>{if(!e)return"0.00";const s=e.toString();return s.length>2?"".concat(s.slice(0,-2),".").concat(s.slice(-2)):"0.".concat(s.padStart(2,"0"))},Xe=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"checkedin":case"approved":case"available":return(0,xe.jsx)(X.A,{sx:{color:he[e]||"#4caf50"}});case"checkedout":case"reject":case"cancel":case"occupied":return(0,xe.jsx)(J.A,{sx:{color:he[e]||"#f44336"}});case"pending":case"maintenance":return(0,xe.jsx)(se.A,{sx:{color:he[e]||"#ff9800"}});default:return null}},Ze=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"single":case"double":return(0,xe.jsx)(ie.A,{});case"king":case"suite":case"deluxe":return(0,xe.jsx)(_.A,{});default:return(0,xe.jsx)(Y.A,{})}},qe=e=>{var s;if(e.bedCount)return e.bedCount;const t=null===(s=e.stayType)||void 0===s?void 0:s.toLowerCase();return"single"===t?1:"double"===t?2:"triple"===t?3:"family"===t?4:1};(0,n.useEffect)(()=>{let s=[...e];Se.search&&(s=s.filter(e=>{var s,t;return e.id.toString().includes(Se.search)||(null===(s=e.geustName)||void 0===s?void 0:s.toLowerCase().includes(Se.search.toLowerCase()))||(null===(t=e.hotelName)||void 0===t?void 0:t.toLowerCase().includes(Se.search.toLowerCase()))})),Se.status&&(s=s.filter(e=>e.status===Se.status)),Se.checkInFrom&&(s=s.filter(e=>new Date(e.checkInDate)>=new Date(Se.checkInFrom))),Se.checkInTo&&(s=s.filter(e=>new Date(e.checkInDate)<=new Date(Se.checkInTo))),ge(s),De(1)},[Se,e]),(0,n.useEffect)(()=>{let e=[...t];ze.search&&(e=e.filter(e=>{var s,t;return(null===(s=e.propertyName)||void 0===s?void 0:s.toLowerCase().includes(ze.search.toLowerCase()))||(null===(t=e.ownerMobile)||void 0===t?void 0:t.includes(ze.search))})),ze.city&&(e=e.filter(e=>{var s;return(null===(s=e.city)||void 0===s?void 0:s.toLowerCase())===ze.city.toLowerCase()})),ze.status&&(e=e.filter(e=>e.status===ze.status)),ze.category&&(e=e.filter(e=>e.category===ze.category)),fe(e),Le(1)},[ze,t]);const Ke=(We-1)*Pe,Qe=Ke+Pe,$e=me.slice(Ke,Qe),_e=Math.ceil(me.length/Pe),es=(Fe-1)*Pe,ss=es+Pe,ts=pe.slice(es,ss),ls=Math.ceil(pe.length/Pe),ns=ts.map(e=>{const s=je.filter(s=>s.hotelId===e.id),t=Array.from(new Set(s.map(e=>e.stayType))).filter(Boolean);return(0,l.A)((0,l.A)({},e),{},{hotelRooms:s,stayTypes:t,totalRooms:s.length})}),is=()=>{Re(!1),Me(null),Ee(null),Ue("")},as={total:e.length,checkedIn:e.filter(e=>"checkedIn"===e.status).length,pending:e.filter(e=>"pending"===e.status).length,revenue:e.reduce((e,s)=>e+(parseFloat(Je(s.amountPaid))||0),0)},rs={total:t.length,approved:t.filter(e=>"Approved"===e.status).length,pending:t.filter(e=>"Pending"===e.status).length,totalRooms:je.length};return(0,xe.jsxs)(i.A,{sx:{p:{xs:1,sm:2,md:3},maxWidth:"100%",overflowX:"hidden"},children:[(0,xe.jsxs)(i.A,{sx:{mb:3},children:[(0,xe.jsx)(a.A,{variant:"h4",sx:{fontWeight:"bold",color:Ge.palette.primary.main,mb:1},children:"Admin Dashboard"}),(0,xe.jsx)(a.A,{variant:"subtitle1",color:"text.secondary",children:"Manage bookings and hotels efficiently"})]}),(0,xe.jsxs)(r.Ay,{container:!0,spacing:2,sx:{mb:3},children:[(0,xe.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,xe.jsx)(o.A,{sx:{height:"100%",bgcolor:"#e3f2fd"},children:(0,xe.jsxs)(c.A,{children:[(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,xe.jsx)(G.A,{sx:{color:"#1976d2",mr:1}}),(0,xe.jsx)(a.A,{variant:"h6",children:"Total Bookings"})]}),(0,xe.jsx)(a.A,{variant:"h4",sx:{fontWeight:"bold"},children:as.total}),(0,xe.jsxs)(a.A,{variant:"caption",color:"text.secondary",children:["Active: ",as.checkedIn," | Pending: ",as.pending]})]})})}),(0,xe.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,xe.jsx)(o.A,{sx:{height:"100%",bgcolor:"#f3e5f5"},children:(0,xe.jsxs)(c.A,{children:[(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,xe.jsx)(O.A,{sx:{color:"#7b1fa2",mr:1}}),(0,xe.jsx)(a.A,{variant:"h6",children:"Total Revenue"})]}),(0,xe.jsxs)(a.A,{variant:"h4",sx:{fontWeight:"bold"},children:["\u20b9",as.revenue.toFixed(2)]}),(0,xe.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"From all bookings"})]})})}),(0,xe.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,xe.jsx)(o.A,{sx:{height:"100%",bgcolor:"#e8f5e9"},children:(0,xe.jsxs)(c.A,{children:[(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,xe.jsx)($.A,{sx:{color:"#388e3c",mr:1}}),(0,xe.jsx)(a.A,{variant:"h6",children:"Total Hotels"})]}),(0,xe.jsx)(a.A,{variant:"h4",sx:{fontWeight:"bold"},children:rs.total}),(0,xe.jsxs)(a.A,{variant:"caption",color:"text.secondary",children:["Approved: ",rs.approved," | Pending: ",rs.pending]})]})})}),(0,xe.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,xe.jsx)(o.A,{sx:{height:"100%",bgcolor:"#fff3e0"},children:(0,xe.jsxs)(c.A,{children:[(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,xe.jsx)(Y.A,{sx:{color:"#f57c00",mr:1}}),(0,xe.jsx)(a.A,{variant:"h6",children:"Total Rooms"})]}),(0,xe.jsx)(a.A,{variant:"h4",sx:{fontWeight:"bold"},children:rs.totalRooms}),(0,xe.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"Across all hotels"})]})})})]}),(0,xe.jsxs)(o.A,{sx:{mb:3},children:[(0,xe.jsxs)(d.A,{value:be,onChange:(e,s)=>Ce(s),variant:Ve?"scrollable":"standard",scrollButtons:!!Ve&&"auto",sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{fontWeight:"bold",textTransform:"none",fontSize:Ve?"0.875rem":"1rem"}},children:[(0,xe.jsx)(x.A,{icon:(0,xe.jsx)(G.A,{}),iconPosition:"start",label:(0,xe.jsx)(h.A,{badgeContent:as.total,color:"primary",children:"Bookings"})}),(0,xe.jsx)(x.A,{icon:(0,xe.jsx)($.A,{}),iconPosition:"start",label:(0,xe.jsx)(h.A,{badgeContent:rs.total,color:"primary",children:"Hotels"})})]}),ye?(0,xe.jsxs)(i.A,{sx:{p:3},children:[(0,xe.jsx)(A.A,{}),(0,xe.jsx)(a.A,{sx:{mt:2,textAlign:"center"},children:"Loading data..."})]}):(0,xe.jsxs)(xe.Fragment,{children:[0===be&&(0,xe.jsxs)(i.A,{sx:{p:{xs:1,sm:2}},children:[(0,xe.jsxs)(o.A,{sx:{mb:2,p:2},children:[(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,xe.jsx)(Q.A,{sx:{mr:1,color:"primary.main"}}),(0,xe.jsx)(a.A,{variant:"h6",children:"Booking Filters"}),(0,xe.jsx)(i.A,{sx:{flexGrow:1}}),(0,xe.jsx)(j.A,{size:"small",onClick:()=>{Ie({search:"",status:"",checkInFrom:"",checkInTo:""})},children:"Reset Filters"})]}),(0,xe.jsxs)(r.Ay,{container:!0,spacing:2,children:[(0,xe.jsx)(r.Ay,{item:!0,xs:12,md:3,children:(0,xe.jsx)(u.A,{label:"Search",size:"small",fullWidth:!0,value:Se.search,onChange:e=>Ie((0,l.A)((0,l.A)({},Se),{},{search:e.target.value})),InputProps:{startAdornment:(0,xe.jsx)(m.A,{position:"start",children:(0,xe.jsx)(ne.A,{fontSize:"small"})})}})}),(0,xe.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,xe.jsxs)(u.A,{label:"Status",select:!0,size:"small",fullWidth:!0,value:Se.status,onChange:e=>Ie((0,l.A)((0,l.A)({},Se),{},{status:e.target.value})),children:[(0,xe.jsx)(g.A,{value:"",children:"All Status"}),(0,xe.jsx)(g.A,{value:"checkedIn",children:"Checked In"}),(0,xe.jsx)(g.A,{value:"checkedOut",children:"Checked Out"}),(0,xe.jsx)(g.A,{value:"Cancel",children:"Cancelled"}),(0,xe.jsx)(g.A,{value:"pending",children:"Pending"})]})}),(0,xe.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,xe.jsx)(u.A,{type:"date",label:"Check-In From",size:"small",fullWidth:!0,InputLabelProps:{shrink:!0},value:Se.checkInFrom,onChange:e=>Ie((0,l.A)((0,l.A)({},Se),{},{checkInFrom:e.target.value}))})}),(0,xe.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,xe.jsx)(u.A,{type:"date",label:"Check-In To",size:"small",fullWidth:!0,InputLabelProps:{shrink:!0},value:Se.checkInTo,onChange:e=>Ie((0,l.A)((0,l.A)({},Se),{},{checkInTo:e.target.value}))})})]})]}),(0,xe.jsxs)(o.A,{children:[(0,xe.jsx)(p.A,{title:"Bookings (".concat(me.length,")"),subheader:"Showing ".concat($e.length," of ").concat(me.length," bookings"),action:(0,xe.jsx)(f.A,{label:"Page ".concat(We," of ").concat(_e),color:"primary",variant:"outlined"})}),(0,xe.jsx)(y.A,{}),(0,xe.jsx)(v.A,{component:b.A,sx:{maxHeight:"500px",overflow:"auto"},children:(0,xe.jsxs)(C.A,{stickyHeader:!0,size:Ve?"small":"medium",children:[(0,xe.jsx)(k.A,{children:(0,xe.jsxs)(w.A,{children:[(0,xe.jsx)(S.A,{children:"ID"}),(0,xe.jsx)(S.A,{children:"Hotel"}),(0,xe.jsx)(S.A,{children:"Guest"}),(0,xe.jsx)(S.A,{children:"Check-In"}),(0,xe.jsx)(S.A,{children:"Check-In Time"}),(0,xe.jsx)(S.A,{children:"Check-Out"}),(0,xe.jsx)(S.A,{children:"Check-Out Time"}),(0,xe.jsx)(S.A,{children:"Status"}),(0,xe.jsx)(S.A,{children:"Amount"})]})}),(0,xe.jsx)(I.A,{children:0===$e.length?(0,xe.jsx)(w.A,{children:(0,xe.jsx)(S.A,{colSpan:7,align:"center",sx:{py:3},children:(0,xe.jsx)(a.A,{color:"text.secondary",children:"No bookings found"})})}):$e.map(e=>(0,xe.jsxs)(w.A,{hover:!0,sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,xe.jsx)(S.A,{children:(0,xe.jsxs)(a.A,{variant:"body2",sx:{fontWeight:"bold"},children:["#",e.id]})}),(0,xe.jsx)(S.A,{children:(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,xe.jsx)($.A,{fontSize:"small",color:"action"}),(0,xe.jsx)(a.A,{variant:"body2",children:e.hotelName||"Unknown Hotel"})]})}),(0,xe.jsx)(S.A,{children:(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,xe.jsx)(le.A,{fontSize:"small",color:"action"}),(0,xe.jsx)(a.A,{variant:"body2",children:e.geustName||"Unknown Guest"})]})}),(0,xe.jsx)(S.A,{children:(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,xe.jsx)(V.A,{fontSize:"small",color:"action"}),(0,xe.jsx)(a.A,{variant:"body2",children:de()(e.checkInDate).format("DD MMM YYYY")})]})}),(0,xe.jsx)(S.A,{children:(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,xe.jsx)(V.A,{fontSize:"small",color:"action"}),(0,xe.jsx)(a.A,{variant:"body2",children:e.checkInTime})]})}),(0,xe.jsx)(S.A,{children:(0,xe.jsx)(a.A,{variant:"body2",children:de()(e.checkOutDate).format("DD MMM YYYY")})}),(0,xe.jsx)(S.A,{children:(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,xe.jsx)(V.A,{fontSize:"small",color:"action"}),(0,xe.jsx)(a.A,{variant:"body2",children:e.checkOutTime})]})}),(0,xe.jsx)(S.A,{children:(0,xe.jsx)(f.A,{size:"small",label:e.status||"Unknown",icon:Xe(e.status)||void 0,sx:{backgroundColor:"".concat(he[e.status]||"#e0e0e0","20"),color:he[e.status]||"#757575",fontWeight:"bold",textTransform:"capitalize"}})}),(0,xe.jsx)(S.A,{children:(0,xe.jsxs)(a.A,{variant:"body2",sx:{fontWeight:"bold"},children:["\u20b9",Je(e.amountPaid)]})})]},e.id))})]})}),_e>1&&(0,xe.jsx)(i.A,{sx:{p:2,display:"flex",justifyContent:"center"},children:(0,xe.jsx)(z.A,{count:_e,page:We,onChange:(e,s)=>De(s),color:"primary",size:Ve?"small":"medium",showFirstButton:!0,showLastButton:!0})})]})]}),1===be&&(0,xe.jsxs)(i.A,{sx:{p:{xs:1,sm:2}},children:[(0,xe.jsxs)(o.A,{sx:{mb:2,p:2},children:[(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,xe.jsx)(Q.A,{sx:{mr:1,color:"primary.main"}}),(0,xe.jsx)(a.A,{variant:"h6",children:"Hotel Filters"}),(0,xe.jsx)(i.A,{sx:{flexGrow:1}}),(0,xe.jsx)(j.A,{size:"small",onClick:()=>{Te({search:"",city:"",status:"",category:""})},children:"Reset Filters"})]}),(0,xe.jsxs)(r.Ay,{container:!0,spacing:2,children:[(0,xe.jsx)(r.Ay,{item:!0,xs:12,md:3,children:(0,xe.jsx)(u.A,{label:"Search Hotel",size:"small",fullWidth:!0,value:ze.search,onChange:e=>Te((0,l.A)((0,l.A)({},ze),{},{search:e.target.value})),InputProps:{startAdornment:(0,xe.jsx)(m.A,{position:"start",children:(0,xe.jsx)(ne.A,{fontSize:"small"})})}})}),(0,xe.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,xe.jsx)(u.A,{label:"City",size:"small",fullWidth:!0,value:ze.city,onChange:e=>Te((0,l.A)((0,l.A)({},ze),{},{city:e.target.value}))})}),(0,xe.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,xe.jsxs)(u.A,{label:"Status",select:!0,size:"small",fullWidth:!0,value:ze.status,onChange:e=>Te((0,l.A)((0,l.A)({},ze),{},{status:e.target.value})),children:[(0,xe.jsx)(g.A,{value:"",children:"All Status"}),(0,xe.jsx)(g.A,{value:"Approved",children:"APPROVED"}),(0,xe.jsx)(g.A,{value:"Reject",children:"REJECT"}),(0,xe.jsx)(g.A,{value:"Pending",children:"Pending"})]})}),(0,xe.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,xe.jsx)(u.A,{label:"Category",size:"small",fullWidth:!0,value:ze.category,onChange:e=>Te((0,l.A)((0,l.A)({},ze),{},{category:e.target.value}))})})]})]}),(0,xe.jsxs)(o.A,{children:[(0,xe.jsx)(p.A,{title:"Hotels (".concat(pe.length,")"),subheader:"Showing ".concat(ts.length," of ").concat(pe.length," hotels with room details"),action:(0,xe.jsx)(f.A,{label:"Page ".concat(Fe," of ").concat(ls),color:"primary",variant:"outlined"})}),(0,xe.jsx)(y.A,{}),(0,xe.jsx)(v.A,{component:b.A,sx:{maxHeight:"600px",overflow:"auto"},children:(0,xe.jsxs)(C.A,{stickyHeader:!0,size:Ve?"small":"medium",children:[(0,xe.jsx)(k.A,{children:(0,xe.jsxs)(w.A,{children:[(0,xe.jsx)(S.A,{width:50}),(0,xe.jsx)(S.A,{children:"ID"}),(0,xe.jsx)(S.A,{children:"Hotel Name"}),(0,xe.jsx)(S.A,{children:"City"}),(0,xe.jsx)(S.A,{children:"Contact"}),(0,xe.jsx)(S.A,{children:"Status"}),(0,xe.jsx)(S.A,{children:"Stay Types"}),(0,xe.jsx)(S.A,{children:"Total Rooms"}),(0,xe.jsx)(S.A,{align:"center",children:"Actions"})]})}),(0,xe.jsx)(I.A,{children:0===ts.length?(0,xe.jsx)(w.A,{children:(0,xe.jsx)(S.A,{colSpan:9,align:"center",sx:{py:3},children:(0,xe.jsx)(a.A,{color:"text.secondary",children:"No hotels found"})})}):ns.map(e=>{var s;const t=ke.includes(e.id),l=e.hotelRooms||[],d=e.stayTypes||[];return(0,xe.jsxs)(n.Fragment,{children:[(0,xe.jsxs)(w.A,{hover:!0,sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,xe.jsx)(S.A,{children:(0,xe.jsx)(T.A,{size:"small",onClick:()=>{return s=e.id,void we(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]);var s},sx:{transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"},children:(0,xe.jsx)(K.A,{})})}),(0,xe.jsx)(S.A,{children:(0,xe.jsxs)(a.A,{variant:"body2",sx:{fontWeight:"bold"},children:["#",e.id]})}),(0,xe.jsx)(S.A,{children:(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,xe.jsx)(W.A,{sx:{width:32,height:32,bgcolor:Ge.palette.primary.main},children:(null===(s=e.propertyName)||void 0===s?void 0:s[0])||"H"}),(0,xe.jsxs)(i.A,{children:[(0,xe.jsx)(a.A,{variant:"body2",sx:{fontWeight:"bold"},children:e.propertyName||"Unnamed Hotel"}),(0,xe.jsx)(a.A,{variant:"caption",color:"text.secondary",children:e.category||"Hotel"})]})]})}),(0,xe.jsx)(S.A,{children:(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,xe.jsx)(ee.A,{fontSize:"small",color:"action"}),(0,xe.jsx)(a.A,{variant:"body2",children:e.city||"Unknown"})]})}),(0,xe.jsx)(S.A,{children:(0,xe.jsx)(a.A,{variant:"body2",children:e.ownerMobile||"No contact"})}),(0,xe.jsx)(S.A,{children:(0,xe.jsx)(f.A,{size:"small",label:e.status||"ACTIVE",icon:Xe(e.status)||void 0,sx:{backgroundColor:"".concat(he[e.status]||"#2196f3","20"),color:he[e.status]||"#2196f3",fontWeight:"bold"}})}),(0,xe.jsx)(S.A,{children:(0,xe.jsxs)(D.A,{direction:"row",spacing:.5,flexWrap:"wrap",useFlexGap:!0,children:[d.length>0?d.slice(0,3).map((e,s)=>(0,xe.jsx)(f.A,{size:"small",label:e,sx:{backgroundColor:"".concat(Ae[null===e||void 0===e?void 0:e.toLowerCase()]||"#9e9e9e","20"),color:Ae[null===e||void 0===e?void 0:e.toLowerCase()]||"#757575",fontSize:"0.7rem",height:"24px",mb:.5}},s)):(0,xe.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"No stay types"}),d.length>3&&(0,xe.jsx)(f.A,{size:"small",label:"+".concat(d.length-3),sx:{backgroundColor:"#e0e0e0",fontSize:"0.7rem",height:"24px",mb:.5}})]})}),(0,xe.jsx)(S.A,{children:(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,xe.jsx)(Y.A,{fontSize:"small",color:"action"}),(0,xe.jsx)(a.A,{variant:"body2",sx:{fontWeight:"bold"},children:e.totalRooms||0})]})}),(0,xe.jsx)(S.A,{align:"center",children:(0,xe.jsxs)(D.A,{direction:"row",spacing:1,justifyContent:"center",children:[(0,xe.jsx)(F.A,{title:"Edit Hotel",children:(0,xe.jsx)(T.A,{size:"small",color:"primary",onClick:()=>Ye("/property-registration",{state:e.id}),children:(0,xe.jsx)(q.A,{fontSize:"small"})})}),(0,xe.jsx)(F.A,{title:"Delete Hotel",children:(0,xe.jsx)(T.A,{size:"small",color:"error",onClick:()=>{return s=e.id,t="hotel",l=e.propertyName,Me(s),Ee(t),Ue(l),void Re(!0);var s,t,l},children:(0,xe.jsx)(Z.A,{fontSize:"small"})})})]})})]}),t&&(0,xe.jsx)(w.A,{children:(0,xe.jsx)(S.A,{colSpan:9,sx:{p:0,bgcolor:"#fafafa"},children:(0,xe.jsx)(L.A,{in:t,timeout:"auto",unmountOnExit:!0,children:(0,xe.jsxs)(i.A,{sx:{p:2},children:[(0,xe.jsxs)(a.A,{variant:"subtitle2",sx:{mb:1,fontWeight:"bold"},children:["Hotel Rooms (",l.length,")"]}),0===l.length?(0,xe.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{p:2,textAlign:"center"},children:"No rooms available for this hotel"}):(0,xe.jsx)(r.Ay,{container:!0,spacing:2,children:l.map(e=>{var s,t;return(0,xe.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,xe.jsx)(o.A,{variant:"outlined",sx:{height:"100%"},children:(0,xe.jsxs)(c.A,{sx:{p:2},children:[(0,xe.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[Ze(e.stayType),(0,xe.jsxs)(a.A,{variant:"subtitle2",sx:{fontWeight:"bold"},children:["Room ",e.roomNumber]})]}),(0,xe.jsx)(f.A,{size:"small",label:e.status||"available",icon:Xe(e.status)||void 0,sx:{backgroundColor:"".concat(he[e.status]||"#4caf50","20"),color:he[e.status]||"#4caf50",fontSize:"0.7rem"}})]}),(0,xe.jsx)(a.A,{variant:"caption",color:"text.secondary",display:"block",children:"Stay Type:"}),(0,xe.jsx)(f.A,{size:"small",label:e.stayType||"Standard",sx:{backgroundColor:"".concat(Ae[null===(s=e.stayType)||void 0===s?void 0:s.toLowerCase()]||"#9e9e9e","20"),color:Ae[null===(t=e.stayType)||void 0===t?void 0:t.toLowerCase()]||"#757575",fontSize:"0.7rem",my:.5}}),(0,xe.jsxs)(i.A,{sx:{display:"flex",gap:2,mt:1},children:[(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,xe.jsx)(te.A,{fontSize:"small",color:"action"}),(0,xe.jsxs)(a.A,{variant:"caption",children:["Capacity: ",e.capacity||qe(e)]})]}),e.bathroomCount&&(0,xe.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,xe.jsx)(U.A,{fontSize:"small",color:"action"}),(0,xe.jsxs)(a.A,{variant:"caption",children:["Bath: ",e.bathroomCount]})]})]}),(0,xe.jsxs)(i.A,{sx:{mt:1},children:[(0,xe.jsxs)(a.A,{variant:"body2",sx:{fontWeight:"bold",color:Ge.palette.primary.main},children:["\u20b9",e.price?e.price.toLocaleString("en-IN"):"0"]}),(0,xe.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"/night"})]})]})})},e.id)})})]})})})})]},e.id)})})]})}),ls>1&&(0,xe.jsx)(i.A,{sx:{p:2,display:"flex",justifyContent:"center"},children:(0,xe.jsx)(z.A,{count:ls,page:Fe,onChange:(e,s)=>Le(s),color:"primary",size:Ve?"small":"medium",showFirstButton:!0,showLastButton:!0})})]})]})]})]}),(0,xe.jsxs)(P.A,{open:He,onClose:is,maxWidth:"xs",fullWidth:!0,children:[(0,xe.jsx)(H.A,{sx:{bgcolor:"error.main",color:"white"},children:"Confirm Deletion"}),(0,xe.jsx)(R.A,{sx:{pt:3},children:(0,xe.jsxs)(i.A,{sx:{textAlign:"center",mb:2},children:[(0,xe.jsx)(W.A,{sx:{bgcolor:"error.light",width:60,height:60,mx:"auto",mb:2},children:(0,xe.jsx)(Z.A,{fontSize:"large"})}),(0,xe.jsxs)(N.A,{children:["Are you sure you want to delete this ",Be,"?"]}),(0,xe.jsxs)(a.A,{variant:"h6",sx:{mt:1,fontWeight:"bold"},children:['"',Oe,'"']}),(0,xe.jsx)(a.A,{variant:"caption",color:"error",sx:{display:"block",mt:1},children:"This action cannot be undone"})]})}),(0,xe.jsxs)(M.A,{sx:{p:2},children:[(0,xe.jsx)(j.A,{onClick:is,variant:"outlined",fullWidth:!0,children:"Cancel"}),(0,xe.jsx)(j.A,{onClick:async()=>{if(Ne&&Be)try{"hotel"===Be&&(await(0,ae.GM)(Ne),ce(t.filter(e=>e.id!==Ne)),re.oR.success("Hotel deleted successfully")),is()}catch(e){re.oR.error("Failed to delete"),console.error("Delete error:",e)}},color:"error",variant:"contained",fullWidth:!0,startIcon:(0,xe.jsx)(Z.A,{}),children:"Delete"})]})]})]})}}}]);
//# sourceMappingURL=186.04ac7591.chunk.js.map