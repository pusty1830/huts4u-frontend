{"version":3,"file":"static/js/537.329c0ff7.chunk.js","mappings":"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","sources":["components/data.tsx","pages/SearchResults.tsx"],"sourcesContent":["import AcUnitIcon from \"@mui/icons-material/AcUnit\";\nimport AirportShuttleIcon from \"@mui/icons-material/AirportShuttle\";\nimport BeachAccessIcon from \"@mui/icons-material/BeachAccess\";\nimport BusinessCenterIcon from \"@mui/icons-material/BusinessCenter\";\nimport CasinoIcon from \"@mui/icons-material/Casino\";\nimport ChildCareIcon from \"@mui/icons-material/ChildCare\";\nimport DirectionsCarIcon from \"@mui/icons-material/DirectionsCar\";\nimport FireExtinguisherIcon from \"@mui/icons-material/FireExtinguisher\";\nimport FitnessCenterIcon from \"@mui/icons-material/FitnessCenter\";\nimport FreeBreakfastIcon from \"@mui/icons-material/FreeBreakfast\";\nimport KingBedIcon from \"@mui/icons-material/KingBed\";\nimport LocalBarIcon from \"@mui/icons-material/LocalBar\";\nimport LocalDiningIcon from \"@mui/icons-material/LocalDining\";\nimport LocalLaundryServiceIcon from \"@mui/icons-material/LocalLaundryService\";\nimport LocalParkingIcon from \"@mui/icons-material/LocalParking\";\nimport NightlifeIcon from \"@mui/icons-material/Nightlife\";\nimport OutdoorGrillIcon from \"@mui/icons-material/OutdoorGrill\";\nimport PetsIcon from \"@mui/icons-material/Pets\";\nimport PoolIcon from \"@mui/icons-material/Pool\";\nimport RoomServiceIcon from \"@mui/icons-material/RoomService\";\nimport SpaIcon from \"@mui/icons-material/Spa\";\nimport SportsTennisIcon from \"@mui/icons-material/SportsTennis\";\nimport TvIcon from \"@mui/icons-material/Tv\";\nimport WifiIcon from \"@mui/icons-material/Wifi\";\n\nexport const amenityIcons: { [key: string]: JSX.Element } = {\n  \"Swimming Pool\": <PoolIcon fontSize=\"small\" />,\n  Gym: <FitnessCenterIcon fontSize=\"small\" />,\n  \"Free WiFi\": <WifiIcon fontSize=\"small\" />,\n  \"Private Beach\": <BeachAccessIcon fontSize=\"small\" />,\n  Breakfast: <FreeBreakfastIcon fontSize=\"small\" />,\n  Parking: <LocalParkingIcon fontSize=\"small\" />,\n  Spa: <SpaIcon fontSize=\"small\" />,\n  Restaurant: <LocalDiningIcon fontSize=\"small\" />,\n  \"Airport Shuttle\": <AirportShuttleIcon fontSize=\"small\" />,\n  \"Business Center\": <BusinessCenterIcon fontSize=\"small\" />,\n  \"Pet Friendly\": <PetsIcon fontSize=\"small\" />,\n  Bar: <LocalBarIcon fontSize=\"small\" />,\n  \"Room Service\": <RoomServiceIcon fontSize=\"small\" />,\n  TV: <TvIcon fontSize=\"small\" />,\n  \"Air Conditioning\": <AcUnitIcon fontSize=\"small\" />,\n  \"Laundry Service\": <LocalLaundryServiceIcon fontSize=\"small\" />,\n  \"Child Care\": <ChildCareIcon fontSize=\"small\" />,\n  \"King Bed\": <KingBedIcon fontSize=\"small\" />,\n  Casino: <CasinoIcon fontSize=\"small\" />,\n  \"Car Rental\": <DirectionsCarIcon fontSize=\"small\" />,\n  \"Night Club\": <NightlifeIcon fontSize=\"small\" />,\n  \"Tennis Court\": <SportsTennisIcon fontSize=\"small\" />,\n  \"BBQ Facilities\": <OutdoorGrillIcon fontSize=\"small\" />,\n  \"Fire Safety\": <FireExtinguisherIcon fontSize=\"small\" />,\n};\n\n\nexport const amenitiesOptions = [\n  \"Swimming Pool\",\n  \"Gym\",\n  \"Free WiFi\",\n  \"Private Beach\",\n  \"Breakfast\",\n  \"Parking\",\n  \"Spa\",\n  \"Restaurant\",\n  \"Airport Shuttle\",\n  \"Business Center\",\n  \"Pet Friendly\",\n  \"Bar\",\n  \"Room Service\",\n  \"TV\",\n  \"Air Conditioning\",\n  \"Laundry Service\",\n  \"Child Care\",\n  \"King Bed\",\n  \"Casino\",\n  \"Car Rental\",\n  \"Night Club\",\n  \"Tennis Court\",\n  \"BBQ Facilities\",\n  \"Fire Safety\",\n];\n\n\nexport const roomTypes = [\n  /* ================= BASIC ROOMS ================= */\n  {\n    value: \"Single Non-AC Room\",\n    label: \"Single Non-AC Room\",\n    details: \"A basic room with a single bed and fan cooling, ideal for solo travelers.\",\n  },\n  {\n    value: \"Single AC Room\",\n    label: \"Single AC Room\",\n    details: \"An air-conditioned room with a single bed, ideal for solo travelers.\",\n  },\n  {\n    value: \"Double Non-AC Room\",\n    label: \"Double Non-AC Room\",\n    details: \"A non air-conditioned room with a double or twin bed, suitable for two guests.\",\n  },\n  {\n    value: \"Double AC Room\",\n    label: \"Double AC Room\",\n    details: \"An air-conditioned room with a double or twin bed, suitable for two guests.\",\n  },\n  {\n    value: \"Triple Non-AC Room\",\n    label: \"Triple Non-AC Room\",\n    details: \"A non air-conditioned room designed for three guests, with an extra bed.\",\n  },\n  {\n    value: \"Triple AC Room\",\n    label: \"Triple AC Room\",\n    details: \"An air-conditioned room designed for three guests, with an extra bed or sofa bed.\",\n  },\n\n  /* ================= PREMIUM ROOMS ================= */\n  {\n    value: \"Deluxe Non-AC Room\",\n    label: \"Deluxe Non-AC Room\",\n    details: \"A spacious non air-conditioned room with upgraded interiors and comfort amenities.\",\n  },\n  {\n    value: \"Deluxe AC Room\",\n    label: \"Deluxe AC Room\",\n    details: \"A spacious air-conditioned room with upgraded interiors and enhanced comfort.\",\n  },\n  {\n    value: \"Executive AC Room\",\n    label: \"Executive AC Room\",\n    details: \"Designed for business travelers with a work desk, premium amenities, and air conditioning.\",\n  },\n  {\n    value: \"Club AC Room\",\n    label: \"Club AC Room\",\n    details: \"Premium category offering lounge access, complimentary breakfast, and AC comfort.\",\n  },\n\n  /* ================= SUITES ================= */\n  {\n    value: \"Suite Room\",\n    label: \"Suite Room\",\n    details: \"A large room with a separate living area, suitable for families or executives.\",\n  },\n  {\n    value: \"Presidential Suite\",\n    label: \"Presidential Suite\",\n    details: \"A luxury suite with multiple rooms, high-end furnishings, and personalized services.\",\n  },\n  {\n    value: \"Royal Suite\",\n    label: \"Royal Suite\",\n    details: \"Inspired by Indian royalty, featuring grand interiors and luxury amenities.\",\n  },\n  {\n    value: \"Heritage Room\",\n    label: \"Heritage Room\",\n    details: \"Traditional dcor and antique furnishings, commonly found in heritage hotels.\",\n  },\n\n  /* ================= SPECIAL STAYS ================= */\n  {\n    value: \"Cottage/Villa\",\n    label: \"Cottage/Villa\",\n    details: \"Standalone accommodation with private spaces, often available in resorts.\",\n  },\n  {\n    value: \"Treehouse Room\",\n    label: \"Treehouse Room\",\n    details: \"Elevated rooms offering a unique stay experience in nature-focused retreats.\",\n  },\n  {\n    value: \"Houseboat Room\",\n    label: \"Houseboat Room\",\n    details: \"Floating hotel rooms offering a unique stay experience in backwaters.\",\n  },\n  {\n    value: \"Studio Apartment\",\n    label: \"Studio Apartment\",\n    details: \"A self-contained unit with a kitchenette, suitable for extended stays.\",\n  },\n  {\n    value: \"Serviced Apartment\",\n    label: \"Serviced Apartment\",\n    details: \"Fully furnished apartments with hotel-like services and amenities.\",\n  },\n];\n","// src/pages/SearchResults.tsx\r\nimport {\r\n  AddCircleOutline,\r\n  Cancel,\r\n  FilterAlt,\r\n  StarRounded,\r\n  Whatshot,\r\n  Block,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Chip,\r\n  Drawer,\r\n  FormControlLabel,\r\n  Grid,\r\n  RadioGroup,\r\n  Slider,\r\n  styled,\r\n  ToggleButton,\r\n  Typography,\r\n  useMediaQuery,\r\n  useTheme,\r\n  Skeleton,\r\n  Pagination,\r\n  PaginationItem,\r\n  Alert,\r\n  Tooltip,\r\n} from \"@mui/material\";\r\nimport { useEffect, useState, useRef, useCallback } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport color from \"../components/color\";\r\nimport CustomButton from \"../components/CustomButton\";\r\nimport { amenityIcons } from \"../components/data\";\r\nimport {\r\n  BoxStyle,\r\n  BpRadio,\r\n  getRatingColor,\r\n} from \"../components/style\";\r\nimport {\r\n  getAllHotels,\r\n  getMyAllHotelswithBelongsTo,\r\n  getAllRatings,\r\n  getAllInventories,\r\n  getHourlyClosures\r\n} from \"../services/services\";\r\nimport SearchSection from \"./Home Section/SearchSection\";\r\nimport dayjs from \"dayjs\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { CDN_URL, s3BASEURL } from \"../services/Secret\";\r\n\r\n// Pagination constants\r\nconst ITEMS_PER_PAGE = 5;\r\nconst BATCH_SIZE = 30;\r\n\r\n// Cache for storing fetched data\r\nconst dataCache = {\r\n  hotels: [] as any[],\r\n  ratings: null as any,\r\n  inventories: null as any,\r\n  hourlyClosures: [] as any[],\r\n  lastFetched: 0,\r\n  TTL: 5 * 60 * 1000,\r\n};\r\n\r\n// Hourly Closure Interface\r\ninterface HourlyClosure {\r\n  id: number;\r\n  userId?: number;\r\n  hotelId: number;\r\n  closureDate: string; // YYYY-MM-DD format (start date for recurring)\r\n  startTime: string; // HH:mm format\r\n  endTime: string; // HH:mm format\r\n  reason?: string;\r\n  active: boolean;\r\n  createdAt?: string;\r\n  updatedAt?: string;\r\n}\r\n\r\nconst HotelCardSkeleton = ({ isMobile }: { isMobile: boolean }) => (\r\n  <Card sx={{ mb: 2, height: { xs: \"auto\", md: 220 } }}>\r\n    <Box sx={{ display: \"flex\", flexDirection: { xs: \"column\", md: \"row\" }, height: \"100%\" }}>\r\n      <Skeleton\r\n        variant=\"rectangular\"\r\n        width={isMobile ? \"100%\" : 300}\r\n        height={isMobile ? 200 : \"100%\"}\r\n      />\r\n      <Box sx={{ p: 2, flex: 1, position: \"relative\", display: \"flex\", flexDirection: \"column\" }}>\r\n        <Skeleton width=\"40%\" height={24} />\r\n        <Skeleton width=\"60%\" height={20} sx={{ mt: 1 }} />\r\n        <Skeleton width=\"80%\" height={20} sx={{ mt: 1 }} />\r\n        <Box sx={{ display: \"flex\", gap: 1, mt: 2, flexWrap: \"wrap\" }}>\r\n          {[...Array(3)].map((_, i) => (\r\n            <Skeleton key={i} width={80} height={24} />\r\n          ))}\r\n        </Box>\r\n        <Box sx={{ mt: \"auto\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-end\" }}>\r\n          <Box>\r\n            <Skeleton width={120} height={28} />\r\n            <Skeleton width={180} height={36} sx={{ mt: 1 }} />\r\n            <Skeleton width={140} height={20} sx={{ mt: 1 }} />\r\n          </Box>\r\n          <Skeleton width={100} height={40} variant=\"rectangular\" sx={{ borderRadius: \"8px\" }} />\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  </Card>\r\n);\r\n\r\n// Function to get inventory-based price (INVENTORY FIRST, then room price)\r\nconst getInventoryPrice = (room: any, inventoryData: any[], checkDate: string, slot: string): number => {\r\n  if (!room || !checkDate) return 0;\r\n\r\n  const roomId = room.id;\r\n  const checkDay = dayjs(checkDate).format('YYYY-MM-DD');\r\n\r\n  // FIRST: Check inventory for the specific day\r\n  const dayInventory = inventoryData?.find(inv =>\r\n    inv.roomId === roomId && dayjs(inv.date).format('YYYY-MM-DD') === checkDay\r\n  );\r\n\r\n  if (dayInventory) {\r\n    // Return inventory price if available\r\n    switch (slot) {\r\n      case 'rateFor1Night':\r\n        return dayInventory.overnightRate || 0;\r\n      case 'rateFor3Hour':\r\n        return dayInventory.threeHourRate || 0;\r\n      case 'rateFor6Hour':\r\n        return dayInventory.sixHourRate || 0;\r\n      case 'rateFor12Hour':\r\n        return dayInventory.twelveHourRate || 0;\r\n      default:\r\n        return 0;\r\n    }\r\n  }\r\n\r\n  // SECOND: If no inventory found for that day, use room price\r\n  return room[slot] || 0;\r\n};\r\n\r\n// Function to check slot availability\r\nconst isSlotAvailable = (room: any, inventoryData: any[], checkDate: string, slot: string, checkinTime?: string): boolean => {\r\n  if (!room || !checkDate) return false;\r\n\r\n  const roomStatus = room.status?.toLowerCase();\r\n  const isStatusAvailable = roomStatus === \"available\" || roomStatus === \"active\";\r\n  if (!isStatusAvailable) return false;\r\n\r\n  const checkDay = dayjs(checkDate).format('YYYY-MM-DD');\r\n  const dayInventory = inventoryData?.find(inv =>\r\n    dayjs(inv.date).format('YYYY-MM-DD') === checkDay\r\n  );\r\n\r\n  // If no inventory data for this day, check room availability\r\n  if (!dayInventory) return true;\r\n\r\n  if (dayInventory.isBlocked) return false;\r\n\r\n  switch (slot) {\r\n    case 'rateFor1Night':\r\n      return dayInventory.overnightAvailable > dayInventory.overnightBooked;\r\n    case 'rateFor3Hour':\r\n      return dayInventory.threeHourAvailable > dayInventory.threeHourBooked;\r\n    case 'rateFor6Hour':\r\n      return dayInventory.sixHourAvailable > dayInventory.sixHourBooked;\r\n    case 'rateFor12Hour':\r\n      return dayInventory.twelveHourAvailable > dayInventory.twelveHourBooked;\r\n    default:\r\n      return true;\r\n  }\r\n};\r\n\r\n// Function to check hourly closure for a hotel - INVERTED LOGIC\r\nconst checkHourlyClosure = (\r\n  hotel: any,\r\n  hourlyClosures: HourlyClosure[],\r\n  checkDate: string,\r\n  checkinTime?: string\r\n): { isClosed: boolean; closureReason: string } => {\r\n  // Find active closures for this hotel\r\n  const hotelClosures = hourlyClosures.filter(closure =>\r\n    closure.hotelId === hotel.id &&\r\n    closure.active === true\r\n  );\r\n\r\n  if (hotelClosures.length === 0) {\r\n    // If no closures set, hotel is OPEN all day\r\n    return { isClosed: false, closureReason: '' };\r\n  }\r\n\r\n  const selectedDate = dayjs(checkDate);\r\n\r\n  // Check each closure schedule\r\n  for (const closure of hotelClosures) {\r\n    // For recurring closures, check if selected date is on or after start date\r\n    const closureStartDate = dayjs(closure.closureDate);\r\n    if (selectedDate.isBefore(closureStartDate, 'day')) {\r\n      continue; // This closure hasn't started yet\r\n    }\r\n\r\n    // Get check-in time in minutes from midnight\r\n    let checkinMinutes = 0;\r\n    if (checkinTime) {\r\n      const [hours, minutes] = checkinTime.split(':').map(Number);\r\n      checkinMinutes = hours * 60 + minutes;\r\n    } else {\r\n      // Default to current time if no checkin time specified\r\n      const now = dayjs();\r\n      checkinMinutes = now.hour() * 60 + now.minute();\r\n    }\r\n\r\n    // Get closure times in minutes from midnight\r\n    const [startHour, startMinute] = closure.startTime.split(':').map(Number);\r\n    const [endHour, endMinute] = closure.endTime.split(':').map(Number);\r\n\r\n    const closureStartMinutes = startHour * 60 + startMinute;\r\n    const closureEndMinutes = endHour * 60 + endMinute;\r\n\r\n    // Check if time is WITHIN opening hours\r\n    let isWithinOpeningHours = false;\r\n\r\n    if (closureStartMinutes <= closureEndMinutes) {\r\n      // Normal opening hours (same day)\r\n      // Hotel is OPEN if checkin time is BETWEEN start and end times\r\n      isWithinOpeningHours = checkinMinutes >= closureStartMinutes && checkinMinutes < closureEndMinutes;\r\n    } else {\r\n      // Overnight opening hours (crosses midnight)\r\n      // Hotel is OPEN if checkin time is AFTER start time OR BEFORE end time\r\n      isWithinOpeningHours = checkinMinutes >= closureStartMinutes || checkinMinutes < closureEndMinutes;\r\n    }\r\n\r\n    // If checkin time is WITHIN opening hours, hotel is OPEN\r\n    if (isWithinOpeningHours) {\r\n      return { isClosed: false, closureReason: '' };\r\n    }\r\n  }\r\n\r\n  // If we get here, checkin time is NOT within any opening hours\r\n  // Find the NEXT opening time to show in the message\r\n  let nextOpeningTime = '';\r\n  const hotelClosure = hotelClosures[0]; // Take first closure\r\n  if (hotelClosure) {\r\n    nextOpeningTime = formatTime(hotelClosure.startTime);\r\n  }\r\n\r\n  return {\r\n    isClosed: true,\r\n    closureReason: `Hotel opens at ${nextOpeningTime}`\r\n  };\r\n};\r\n\r\n// UPDATED: Function to get hotel status - check hourly closure first, then hotel roomAvailable, then inventory\r\nconst getHotelStatus = (\r\n  hotel: any,\r\n  room: any,\r\n  inventoryData: any[],\r\n  checkDate: string,\r\n  bookingType: string,\r\n  hourlyClosures: HourlyClosure[] = [],\r\n  checkinTime?: string\r\n): {\r\n  isAvailable: boolean,\r\n  status: string,\r\n  reason: string\r\n} => {\r\n  // FIRST: Check hourly closure for hourly bookings\r\n  if (bookingType === \"hourly\") {\r\n    const closureCheck = checkHourlyClosure(hotel, hourlyClosures, checkDate, checkinTime);\r\n    if (closureCheck.isClosed) {\r\n      console.log(`    Hotel has hourly closure: ${closureCheck.closureReason}`);\r\n      return {\r\n        isAvailable: false,\r\n        status: 'Closed',\r\n        reason: closureCheck.closureReason\r\n      };\r\n    }\r\n  }\r\n\r\n  console.log(` Checking hotel: ${hotel?.propertyName}`);\r\n  console.log(`   - Hotel roomAvailable: ${hotel?.roomAvailable || \"Available\"}`);\r\n  console.log(`   - Room status: ${room?.status?.toLowerCase()}`);\r\n\r\n  // SECOND: Check if hotel roomAvailable is \"Unavailable\" - show as \"Sold Out\"\r\n  const hotelRoomAvailable = hotel?.roomAvailable || \"Available\";\r\n  if (hotelRoomAvailable === \"Unavailable\") {\r\n    console.log(`    Hotel marked as Unavailable in roomAvailable field`);\r\n    return {\r\n      isAvailable: false,\r\n      status: 'Sold Out',\r\n      reason: 'Hotel is currently sold out'\r\n    };\r\n  }\r\n\r\n  // THIRD: Check room status\r\n  const roomStatus = room?.status?.toLowerCase();\r\n  const isStatusAvailable = roomStatus === \"available\" || roomStatus === \"active\";\r\n\r\n  if (!isStatusAvailable) {\r\n    console.log(`    Room status not available: ${roomStatus}`);\r\n    return {\r\n      isAvailable: false,\r\n      status: 'Sold Out',\r\n      reason: 'Room is currently sold out'\r\n    };\r\n  }\r\n\r\n  const checkDay = checkDate ? dayjs(checkDate).format('YYYY-MM-DD') : '';\r\n  console.log(`   - Check date: ${checkDay}`);\r\n\r\n  if (!checkDay) {\r\n    return {\r\n      isAvailable: true,\r\n      status: 'Available',\r\n      reason: 'Available for booking (no date specified)'\r\n    };\r\n  }\r\n\r\n  const dayInventory = checkDay ? inventoryData.find(inv =>\r\n    dayjs(inv.date).format('YYYY-MM-DD') === checkDay\r\n  ) : null;\r\n\r\n  if (dayInventory) {\r\n    console.log(`   - Found inventory for date`);\r\n    console.log(`   - Inventory isBlocked: ${dayInventory.isBlocked}`);\r\n\r\n    if (dayInventory.isBlocked) {\r\n      return {\r\n        isAvailable: false,\r\n        status: 'Blocked',\r\n        reason: 'Room is blocked for selected date'\r\n      };\r\n    }\r\n\r\n    if (bookingType === \"hourly\") {\r\n      const threeHourAvailable = dayInventory.threeHourAvailable > dayInventory.threeHourBooked;\r\n      const sixHourAvailable = dayInventory.sixHourAvailable > dayInventory.sixHourBooked;\r\n      const twelveHourAvailable = dayInventory.twelveHourAvailable > dayInventory.twelveHourBooked;\r\n\r\n      console.log(`   - Hourly availability check:`);\r\n      console.log(`     - 3h: ${dayInventory.threeHourAvailable}/${dayInventory.threeHourBooked} = ${threeHourAvailable}`);\r\n      console.log(`     - 6h: ${dayInventory.sixHourAvailable}/${dayInventory.sixHourBooked} = ${sixHourAvailable}`);\r\n      console.log(`     - 12h: ${dayInventory.twelveHourAvailable}/${dayInventory.twelveHourBooked} = ${twelveHourAvailable}`);\r\n\r\n      const hasHourlyAvailability = threeHourAvailable || sixHourAvailable || twelveHourAvailable;\r\n\r\n      if (!hasHourlyAvailability) {\r\n        console.log(`    No hourly slots available`);\r\n        return {\r\n          isAvailable: false,\r\n          status: 'Sold Out',\r\n          reason: 'No hourly slots available for selected date'\r\n        };\r\n      }\r\n    } else {\r\n      const overnightAvailable = dayInventory.overnightAvailable > dayInventory.overnightBooked;\r\n      console.log(`   - Overnight availability: ${dayInventory.overnightAvailable}/${dayInventory.overnightBooked} = ${overnightAvailable}`);\r\n\r\n      if (!overnightAvailable) {\r\n        return {\r\n          isAvailable: false,\r\n          status: 'Sold Out',\r\n          reason: 'No overnight availability for selected date'\r\n        };\r\n      }\r\n    }\r\n  } else {\r\n    console.log(`   - No inventory found for date, assuming available`);\r\n  }\r\n\r\n  console.log(`    Hotel is available`);\r\n  return {\r\n    isAvailable: true,\r\n    status: 'Available',\r\n    reason: 'Available for booking'\r\n  };\r\n};\r\n\r\n// Get base room rate considering inventory (INVENTORY FIRST, then room)\r\nconst getBaseRate = (hotel: any, inventoryData: any[] = [], checkDate: string, bookingType: string, checkinTime?: string) => {\r\n  if (!hotel?.rooms?.[0]) return 0;\r\n\r\n  const room = hotel.rooms[0];\r\n  let baseRates: number[] = [];\r\n\r\n  // Check if hotel is marked as unavailable\r\n  const hotelRoomAvailable = hotel?.roomAvailable || \"Available\";\r\n  if (hotelRoomAvailable === \"Unavailable\") {\r\n    return 0; // Return 0 for sold out hotels\r\n  }\r\n\r\n  if (bookingType === \"hourly\") {\r\n    // Check hourly rates with inventory\r\n    const hourlyRates = [\r\n      {\r\n        key: 'rateFor3Hour',\r\n        rate: getInventoryPrice(room, inventoryData, checkDate, 'rateFor3Hour'),\r\n        available: isSlotAvailable(room, inventoryData, checkDate, 'rateFor3Hour', checkinTime)\r\n      },\r\n      {\r\n        key: 'rateFor6Hour',\r\n        rate: getInventoryPrice(room, inventoryData, checkDate, 'rateFor6Hour'),\r\n        available: isSlotAvailable(room, inventoryData, checkDate, 'rateFor6Hour', checkinTime)\r\n      },\r\n      {\r\n        key: 'rateFor12Hour',\r\n        rate: getInventoryPrice(room, inventoryData, checkDate, 'rateFor12Hour'),\r\n        available: isSlotAvailable(room, inventoryData, checkDate, 'rateFor12Hour', checkinTime)\r\n      },\r\n    ];\r\n\r\n    // Only include rates that are available and have price > 0\r\n    baseRates = hourlyRates\r\n      .filter(opt => opt.rate > 0 && opt.available)\r\n      .map(opt => opt.rate);\r\n\r\n    // If no specific date rates available, use room's base rates\r\n    if (baseRates.length === 0) {\r\n      baseRates = [\r\n        room.rateFor3Hour || 0,\r\n        room.rateFor6Hour || 0,\r\n        room.rateFor12Hour || 0,\r\n      ].filter(rate => rate > 0);\r\n    }\r\n  } else {\r\n    // Check overnight rate with inventory\r\n    const overnightRate = getInventoryPrice(room, inventoryData, checkDate, 'rateFor1Night');\r\n    const isAvailable = isSlotAvailable(room, inventoryData, checkDate, 'rateFor1Night');\r\n\r\n    if (overnightRate > 0 && isAvailable) {\r\n      baseRates.push(overnightRate);\r\n    } else if (room.rateFor1Night > 0) {\r\n      // Use room's base rate if inventory not available\r\n      baseRates.push(room.rateFor1Night);\r\n    }\r\n  }\r\n\r\n  if (!baseRates.length) return 0;\r\n  return Math.min(...baseRates);\r\n};\r\n\r\n//  Price breakdown per single unit\r\nexport const calculatePriceBreakdown = (basePrice: number) => {\r\n  const numericBase = Number(basePrice) || 0;\r\n\r\n  if (!numericBase || numericBase <= 0) {\r\n    return {\r\n      basePrice: 0,\r\n      platformFee: 0,\r\n      gstOnBase: 0,\r\n      gstOnPlatform: 0,\r\n      gatewayFee: 0,\r\n      gstOnGateway: 0,\r\n      gstTotal: 0,\r\n      finalPrice: 0,\r\n    };\r\n  }\r\n\r\n  const gstOnBase = numericBase * 0.05;\r\n  const platformFeeBase = numericBase + gstOnBase;\r\n  const platformFee = platformFeeBase * 0.13;\r\n  const gstOnPlatform = platformFee * 0.18;\r\n  const amountBeforeGateway = numericBase + gstOnBase + platformFee + gstOnPlatform;\r\n  const gatewayFee = amountBeforeGateway * 0.02;\r\n  const gstOnGateway = gatewayFee * 0.18;\r\n  const gstTotal = gstOnBase + gstOnPlatform + gstOnGateway + gatewayFee;\r\n  const finalPrice = numericBase + platformFee + gstTotal;\r\n\r\n  return {\r\n    basePrice: numericBase,\r\n    platformFee,\r\n    gstOnBase,\r\n    gstOnPlatform,\r\n    gatewayFee,\r\n    gstOnGateway,\r\n    gstTotal,\r\n    finalPrice,\r\n  };\r\n};\r\n\r\n// helper to format INR\r\nconst formatINR = (val: number) =>\r\n  val.toLocaleString(\"en-IN\", {\r\n    style: \"currency\",\r\n    currency: \"INR\",\r\n    minimumFractionDigits: 0,\r\n  });\r\n\r\n// Function to calculate average rating for a hotel\r\nconst calculateAverageRating = (ratings: any[]) => {\r\n  if (!ratings || !Array.isArray(ratings) || ratings.length === 0) return 0;\r\n\r\n  const total = ratings.reduce((sum, rating) => {\r\n    return sum + (Number(rating.rating) || 0);\r\n  }, 0);\r\n\r\n  return Math.round((total / ratings.length) * 10) / 10;\r\n};\r\n\r\n// Function to get ratings for a specific hotel\r\nconst getRatingsForHotel = (ratingsData: any, hotelId: string) => {\r\n  if (!ratingsData || !hotelId) return [];\r\n\r\n  let ratingsArray = [];\r\n  if (Array.isArray(ratingsData)) {\r\n    ratingsArray = ratingsData;\r\n  } else if (ratingsData && typeof ratingsData === 'object') {\r\n    if (Array.isArray(ratingsData.data)) {\r\n      ratingsArray = ratingsData.data;\r\n    } else if (Array.isArray(ratingsData.rows)) {\r\n      ratingsArray = ratingsData.rows;\r\n    } else if (Array.isArray(ratingsData.result)) {\r\n      ratingsArray = ratingsData.result;\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  if (!Array.isArray(ratingsArray)) {\r\n    return [];\r\n  }\r\n\r\n  return ratingsArray.filter(rating => {\r\n    const ratingHotelId = rating.hotelId || rating.propertyId || rating.hotel_id || rating.hotelID;\r\n    return ratingHotelId === hotelId || ratingHotelId?.toString() === hotelId?.toString();\r\n  });\r\n};\r\n\r\n// Fetch inventory for a specific room\r\nconst fetchRoomInventory = async (roomId: string, checkDate: string) => {\r\n  try {\r\n    const payLoad = {\r\n      data: {\r\n        filter: \"\",\r\n        roomId: roomId,\r\n        date: checkDate\r\n      },\r\n      page: 0,\r\n      pageSize: 1000,\r\n      order: [[\"createdAt\", \"ASC\"]],\r\n    };\r\n\r\n    const inventoryResponse = await getAllInventories(payLoad);\r\n\r\n    let inventoryArray: any[] = [];\r\n    if (inventoryResponse?.data?.data?.data && Array.isArray(inventoryResponse.data.data.data)) {\r\n      inventoryArray = inventoryResponse.data.data.data;\r\n    } else if (inventoryResponse?.data?.data?.rows && Array.isArray(inventoryResponse.data.data.rows)) {\r\n      inventoryArray = inventoryResponse.data.data.rows;\r\n    } else if (inventoryResponse?.data?.data?.result && Array.isArray(inventoryResponse.data.data.result)) {\r\n      inventoryArray = inventoryResponse.data.data.result;\r\n    } else if (Array.isArray(inventoryResponse?.data?.data)) {\r\n      inventoryArray = inventoryResponse.data.data;\r\n    }\r\n\r\n    return inventoryArray;\r\n  } catch (error) {\r\n    console.error(`Error fetching inventory for room ${roomId}:`, error);\r\n    return [];\r\n  }\r\n};\r\n\r\n// Fetch hourly closures\r\nconst fetchHourlyClosures = async (): Promise<HourlyClosure[]> => {\r\n  try {\r\n    const payload = {\r\n      data: {\r\n        filter: \"\",\r\n        active: true\r\n      },\r\n      page: 0,\r\n      pageSize: 1000,\r\n      order: [[\"closureDate\", \"ASC\"]]\r\n    };\r\n\r\n    const response = await getHourlyClosures(payload);\r\n    let closuresData: HourlyClosure[] = [];\r\n\r\n    if (response?.data?.data?.rows && Array.isArray(response.data.data.rows)) {\r\n      closuresData = response.data.data.rows;\r\n    } else if (Array.isArray(response?.data?.data)) {\r\n      closuresData = response.data.data;\r\n    }\r\n\r\n    console.log(` Fetched ${closuresData.length} hourly closures`);\r\n    return closuresData;\r\n  } catch (error) {\r\n    console.error('Error fetching hourly closures:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n// Format time display\r\nconst formatTime = (time: string): string => {\r\n  if (!time) return 'N/A';\r\n  try {\r\n    const [hours, minutes] = time.split(':');\r\n    const hour = parseInt(hours);\r\n    const ampm = hour >= 12 ? 'PM' : 'AM';\r\n    const formattedHour = hour % 12 || 12;\r\n    return `${formattedHour}:${minutes} ${ampm}`;\r\n  } catch {\r\n    return time;\r\n  }\r\n};\r\n\r\n// HotelCard component with hotel roomAvailable support\r\nconst HotelCard = ({\r\n  hotel,\r\n  queryParams,\r\n  isMobile,\r\n  hotelRatings = [],\r\n  inventoryData = [],\r\n  hourlyClosures = [],\r\n}: {\r\n  hotel: any;\r\n  queryParams: URLSearchParams;\r\n  isMobile: boolean;\r\n  hotelRatings?: any[];\r\n  inventoryData?: any[];\r\n  hourlyClosures?: HourlyClosure[];\r\n}) => {\r\n  const S3_BASE_URL =s3BASEURL;\r\n  const CDN_BASE_URL = CDN_URL;\r\n\r\n  const toCdn = (url?: string) => {\r\n    if (!url) return \"/default-hotel.jpg\";\r\n    return url.includes(S3_BASE_URL)\r\n      ? url.replace(S3_BASE_URL, CDN_BASE_URL)\r\n      : url;\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n  const maxAmenities = isMobile ? 2 : 4;\r\n  const visibleAmenities = hotel?.rooms?.[0]?.amenities?.slice(0, maxAmenities) || [];\r\n  const remainingAmenities = Math.max(0, (hotel?.rooms?.[0]?.amenities?.length || 0) - maxAmenities);\r\n  const isPremium = hotel?.isPremium || false;\r\n\r\n  const room = hotel?.rooms?.[0] || {};\r\n  const bookingType = queryParams.get(\"bookingType\") || \"fullDay\";\r\n  const checkinDate = queryParams.get(\"checkinDate\") || dayjs().format('YYYY-MM-DD');\r\n  const checkinTime = queryParams.get(\"time\") || \"\";\r\n  const activeHours = queryParams.get(\"bookingHours\") || \"3\";\r\n  const roomsCount = Math.max(1, Number(queryParams.get(\"rooms\")) || 1);\r\n  const nights = bookingType === \"hourly\" ? 1 : Math.max(1, Number(queryParams.get(\"nights\")) || 1);\r\n\r\n  // UPDATED: Check availability using hotel roomAvailable first, then inventory, including hourly closures\r\n  const hotelStatus = getHotelStatus(hotel, room, inventoryData, checkinDate, bookingType, hourlyClosures, checkinTime);\r\n  const isAvailable = hotelStatus.isAvailable;\r\n\r\n  // Get base rate considering inventory (inventory first, then room)\r\n  const baseRate = getBaseRate(hotel, inventoryData, checkinDate, bookingType, checkinTime);\r\n  const breakdown = calculatePriceBreakdown(baseRate);\r\n\r\n  const perRoomFinal = breakdown.finalPrice;\r\n  const perRoomBase = breakdown.basePrice;\r\n  const perRoomPlatform = breakdown.platformFee;\r\n  const perRoomGstTotal = breakdown.gstTotal;\r\n\r\n  const multiplier = roomsCount * nights;\r\n  const totalBase = +(perRoomBase * multiplier);\r\n  const totalPlatform = +(perRoomPlatform * multiplier);\r\n  const totalGst = +(perRoomGstTotal * multiplier);\r\n  const totalFinal = +(perRoomFinal * multiplier);\r\n\r\n  const displayBasePlus700 = totalBase + 700;\r\n  const averageRating = hotelRatings.length > 0 ? calculateAverageRating(hotelRatings) : hotel?.ratings?.rating || 0;\r\n  const reviewCount = hotelRatings.length || hotel?.reviews || 0;\r\n\r\n  const handleHourChange = (hour: string) => {\r\n    if (!isAvailable) return; // Don't allow hour change if hotel is unavailable\r\n    const params = new URLSearchParams(queryParams.toString());\r\n    params.set(\"bookingHours\", hour);\r\n    navigate(`/search?${params.toString()}`, { replace: true });\r\n  };\r\n\r\n  // Get hourly options with inventory pricing (inventory first, then room)\r\n  const hourlyOptions = bookingType === \"hourly\"\r\n    ? [\r\n      {\r\n        key: \"3\",\r\n        label: \"3 Hrs\",\r\n        slot: 'rateFor3Hour',\r\n        rate: getInventoryPrice(room, inventoryData, checkinDate, 'rateFor3Hour'),\r\n        available: isSlotAvailable(room, inventoryData, checkinDate, 'rateFor3Hour', checkinTime)\r\n      },\r\n      {\r\n        key: \"6\",\r\n        label: \"6 Hrs\",\r\n        slot: 'rateFor6Hour',\r\n        rate: getInventoryPrice(room, inventoryData, checkinDate, 'rateFor6Hour'),\r\n        available: isSlotAvailable(room, inventoryData, checkinDate, 'rateFor6Hour', checkinTime)\r\n      },\r\n      {\r\n        key: \"12\",\r\n        label: \"12 Hrs\",\r\n        slot: 'rateFor12Hour',\r\n        rate: getInventoryPrice(room, inventoryData, checkinDate, 'rateFor12Hour'),\r\n        available: isSlotAvailable(room, inventoryData, checkinDate, 'rateFor12Hour', checkinTime)\r\n      },\r\n    ]\r\n      .filter((opt) => opt.rate > 0 && opt.available)\r\n      .map((opt) => {\r\n        const br = calculatePriceBreakdown(opt.rate);\r\n        const perRoomBaseHr = br.basePrice;\r\n        const perRoomPlatformHr = br.platformFee;\r\n        const perRoomGstTotalHr = br.gstTotal;\r\n\r\n        const totalBaseHr = perRoomBaseHr * roomsCount;\r\n        const totalPlatformHr = perRoomPlatformHr * roomsCount;\r\n        const totalGstHr = perRoomGstTotalHr * roomsCount;\r\n        const totalFinalHr = totalBaseHr + totalPlatformHr + totalGstHr;\r\n\r\n        return {\r\n          ...opt,\r\n          totalBase: totalBaseHr,\r\n          totalPlatform: totalPlatformHr,\r\n          totalGst: totalGstHr,\r\n          totalFinal: totalFinalHr,\r\n        };\r\n      })\r\n    : [];\r\n\r\n  const truncateAddress = (address: string, maxLength: number = 30) => {\r\n    if (!address) return \"Address not available\";\r\n    if (address.length <= maxLength) return address;\r\n    return address.substring(0, maxLength) + \"...\";\r\n  };\r\n\r\n  const handleCardClick = () => {\r\n    if (!isAvailable) return;\r\n    const queryString = queryParams.toString();\r\n    navigate(`/hotel/${hotel.id}${queryString ? `?${queryString}` : \"\"}`, {\r\n      state: { hotelData: hotel },\r\n    });\r\n  };\r\n\r\n  // Determine status color based on status type\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'Closed':\r\n        return '#ff6b6b'; // Red for closed\r\n      case 'Sold Out':\r\n        return '#ff4444'; // Darker red for sold out\r\n      case 'Blocked':\r\n        return '#ffaa00'; // Orange for blocked\r\n      default:\r\n        return '#ff4444';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      onClick={handleCardClick}\r\n      sx={{\r\n        display: \"flex\",\r\n        flexDirection: { xs: \"column\", md: \"row\" },\r\n        mb: 3,\r\n        background: isAvailable ? color.thirdColor : \"#f5f5f5\",\r\n        boxShadow: \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\r\n        borderRadius: \"16px\",\r\n        transition: \"all 0.3s ease\",\r\n        cursor: isAvailable ? \"pointer\" : \"not-allowed\",\r\n        border: `1px solid ${isAvailable ? \"transparent\" : \"#e0e0e0\"}`,\r\n        position: \"relative\",\r\n        overflow: \"hidden\",\r\n        minHeight: { xs: \"auto\", md: 220 },\r\n        \"&:hover\": {\r\n          transform: isAvailable ? \"translateY(-4px)\" : \"none\",\r\n          boxShadow: isAvailable ? \"0px 8px 24px rgba(0, 0, 0, 0.15)\" : \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\r\n          borderColor: isAvailable ? color.firstColor : \"#e0e0e0\",\r\n        },\r\n        opacity: isAvailable ? 1 : 0.7,\r\n      }}\r\n    >\r\n      {!isAvailable && (\r\n        <Tooltip title={hotelStatus.reason}>\r\n          <Box sx={{\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            zIndex: 2,\r\n            background: \"rgba(0,0,0,0.6)\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            borderRadius: \"16px\"\r\n          }}>\r\n            <Box sx={{\r\n              background: getStatusColor(hotelStatus.status),\r\n              color: \"white\",\r\n              px: 3,\r\n              py: 1.5,\r\n              borderRadius: \"8px\",\r\n              fontWeight: \"bold\",\r\n              fontSize: { xs: \"13px\", md: \"14px\" },\r\n              transform: \"rotate(-3deg)\",\r\n              boxShadow: \"0 4px 8px rgba(255, 77, 77, 0.3)\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              gap: 1\r\n            }}>\r\n              <Block sx={{ fontSize: 20 }} />\r\n              {hotelStatus.status.toUpperCase()}\r\n            </Box>\r\n          </Box>\r\n        </Tooltip>\r\n      )}\r\n\r\n      <Box sx={{\r\n        width: { xs: \"100%\", md: 300 },\r\n        height: { xs: 200, md: \"100%\" },\r\n        minHeight: { xs: 200, md: 220 },\r\n        maxHeight: { xs: 200, md: 250 },\r\n        position: \"relative\",\r\n        overflow: \"hidden\",\r\n        flexShrink: 0\r\n      }}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          sx={{\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            objectFit: \"cover\",\r\n            transition: \"transform 0.5s ease\",\r\n            filter: isAvailable ? \"none\" : \"grayscale(80%) brightness(0.9)\",\r\n            opacity: isAvailable ? 1 : 0.7,\r\n            \"&:hover\": { transform: isAvailable ? \"scale(1.05)\" : \"none\" }\r\n          }}\r\n          image={toCdn(hotel?.propertyImages?.[0] || \"https://via.placeholder.com/400x250?text=No+Image\")}\r\n          alt={hotel?.propertyName}\r\n          loading=\"lazy\"\r\n        />\r\n        {isPremium && (\r\n          <Box sx={{\r\n            position: \"absolute\",\r\n            top: 12,\r\n            left: 12,\r\n            background: \"linear-gradient(135deg, #FFD700, #FFA500)\",\r\n            color: \"#000\",\r\n            px: 1.5,\r\n            py: 0.5,\r\n            borderRadius: \"6px\",\r\n            fontSize: \"10px\",\r\n            fontWeight: \"bold\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            gap: \"4px\",\r\n            boxShadow: \"0 2px 8px rgba(0,0,0,0.2)\",\r\n            zIndex: 1\r\n          }}>\r\n            <Whatshot sx={{ fontSize: \"12px\" }} /> PREMIUM\r\n          </Box>\r\n        )}\r\n      </Box>\r\n\r\n      <CardContent sx={{\r\n        padding: { xs: \"16px\", md: \"20px 24px\" },\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flex: 1,\r\n        position: \"relative\"\r\n      }}>\r\n        {isPremium && (\r\n          <Box sx={{ width: \"fit-content\", mb: 1.5 }}>\r\n            <Typography sx={{\r\n              fontWeight: 700,\r\n              color: \"#000\",\r\n              width: \"fit-content\",\r\n              px: 1.5,\r\n              py: 0.5,\r\n              borderRadius: \"6px\",\r\n              fontSize: \"10px\",\r\n              background: \"linear-gradient(135deg, #FFD700, #FFA500)\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              gap: \"4px\",\r\n              boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\"\r\n            }}>\r\n              <Whatshot sx={{ fontSize: \"12px\" }} /> Huts4u PREMIUM\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n\r\n        <Box sx={{ mb: 1.5 }}>\r\n          <Typography sx={{\r\n            fontSize: { xs: \"17px\", md: \"20px\" },\r\n            fontWeight: 700,\r\n            color: isAvailable ? color.firstColor : \"#666\",\r\n            display: \"-webkit-box\",\r\n            overflow: \"hidden\",\r\n            textOverflow: \"ellipsis\",\r\n            WebkitLineClamp: 1,\r\n            WebkitBoxOrient: \"vertical\",\r\n            lineHeight: 1.2\r\n          }}>\r\n            {hotel?.propertyName}\r\n          </Typography>\r\n          <Typography sx={{\r\n            fontFamily: \"CustomFontSB\",\r\n            fontSize: { xs: \"12px\", md: \"14px\" },\r\n            color: isAvailable ? \"#666\" : \"#888\",\r\n            display: \"-webkit-box\",\r\n            overflow: \"hidden\",\r\n            textOverflow: \"ellipsis\",\r\n            WebkitLineClamp: 1,\r\n            WebkitBoxOrient: \"vertical\",\r\n            mt: 0.5,\r\n            lineHeight: 1.3\r\n          }}>\r\n             {isMobile ? truncateAddress(hotel?.address || hotel?.city || \"\", 35) + \"  BBSR\" : truncateAddress(hotel?.address || hotel?.city || \"\", 35) + \"  BBSR\"}\r\n          </Typography>\r\n        </Box>\r\n\r\n        {!isMobile && (\r\n          <Box sx={{\r\n            position: \"absolute\",\r\n            top: { xs: \"auto\", md: 20 },\r\n            right: { xs: \"auto\", md: 24 },\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"flex-end\",\r\n            mb: 1.5\r\n          }}>\r\n            <Box sx={{ display: \"flex\", alignItems: \"center\", gap: \"4px\", mb: 0.5 }}>\r\n              {averageRating > 0 ? (\r\n                <Box sx={{\r\n                  background: getRatingColor(averageRating),\r\n                  color: \"#fff\",\r\n                  px: 1.2,\r\n                  py: 0.6,\r\n                  borderRadius: \"8px\",\r\n                  fontSize: \"14px\",\r\n                  fontWeight: 700,\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: \"4px\",\r\n                  minWidth: \"60px\",\r\n                  justifyContent: \"center\",\r\n                  boxShadow: \"0 2px 6px rgba(0,0,0,0.2)\"\r\n                }}>\r\n                  {averageRating.toFixed(1)}\r\n                  <StarRounded sx={{ fontSize: \"14px\" }} />\r\n                </Box>\r\n              ) : (\r\n                <Box sx={{\r\n                  background: \"rgba(0,0,0,0.05)\",\r\n                  color: \"#888\",\r\n                  px: 1.2,\r\n                  py: 0.6,\r\n                  borderRadius: \"8px\",\r\n                  fontSize: \"14px\",\r\n                  fontWeight: 700,\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: \"4px\",\r\n                  minWidth: \"60px\",\r\n                  justifyContent: \"center\",\r\n                  border: \"1px dashed #ddd\"\r\n                }}>\r\n                  N/A\r\n                  <StarRounded sx={{ fontSize: \"14px\", color: \"#aaa\" }} />\r\n                </Box>\r\n              )}\r\n            </Box>\r\n            {reviewCount > 0 ? (\r\n              <Typography variant=\"body2\" fontWeight={600} color={isAvailable ? \"#666\" : \"#aaa\"} sx={{ fontSize: \"11px\", textAlign: \"right\" }}>\r\n                ({reviewCount} review{reviewCount !== 1 ? 's' : ''})\r\n              </Typography>\r\n            ) : (\r\n              <Typography variant=\"body2\" fontWeight={600} color={isAvailable ? \"#888\" : \"#aaa\"} sx={{ fontSize: \"11px\", fontStyle: \"italic\" }}>\r\n                No reviews yet\r\n              </Typography>\r\n            )}\r\n          </Box>\r\n        )}\r\n\r\n        <Box sx={{\r\n          display: \"flex\",\r\n          gap: 0.5,\r\n          flexWrap: \"wrap\",\r\n          mt: 1.5,\r\n          mb: { xs: 2, md: 1.5 }\r\n        }}>\r\n          {visibleAmenities.map((amenity: any, index: any) => (\r\n            <Chip\r\n              key={index}\r\n              label={amenity}\r\n              icon={amenityIcons[amenity] || <AddCircleOutline />}\r\n              size=\"small\"\r\n              sx={{\r\n                bgcolor: \"rgba(75, 42, 173, 0.1)\",\r\n                fontSize: { xs: \"10px\", md: \"11px\" },\r\n                color: isAvailable ? \"#4B2AAD\" : \"#aaa\",\r\n                height: \"24px\",\r\n                border: \"1px solid rgba(75, 42, 173, 0.2)\",\r\n                \"& .MuiChip-icon\": {\r\n                  fontSize: { xs: \"12px\", md: \"14px\" },\r\n                  color: isAvailable ? \"#4B2AAD\" : \"#aaa\",\r\n                  marginLeft: \"4px\",\r\n                  marginRight: \"-4px\"\r\n                }\r\n              }}\r\n            />\r\n          ))}\r\n          {remainingAmenities > 0 && (\r\n            <Chip\r\n              label={`+${remainingAmenities} more`}\r\n              size=\"small\"\r\n              sx={{\r\n                bgcolor: isAvailable ? \"rgba(0,0,0,0.05)\" : \"#f5f5f5\",\r\n                fontSize: { xs: \"10px\", md: \"11px\" },\r\n                color: isAvailable ? \"#666\" : \"#aaa\",\r\n                height: \"24px\"\r\n              }}\r\n            />\r\n          )}\r\n        </Box>\r\n\r\n        <Box sx={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          gap: { xs: 2, md: 1 },\r\n          mt: \"auto\",\r\n          pt: { xs: 3, md: 0 },\r\n          borderTop: { xs: \"1px dashed #e0e0e0\", md: \"none\" }\r\n        }}>\r\n          {isMobile && (\r\n            <Box sx={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", mb: 1 }}>\r\n              <Box sx={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\r\n                {averageRating > 0 ? (\r\n                  <Box sx={{\r\n                    background: getRatingColor(averageRating),\r\n                    color: \"#fff\",\r\n                    px: 1,\r\n                    py: 0.5,\r\n                    borderRadius: \"6px\",\r\n                    fontSize: \"13px\",\r\n                    fontWeight: 700,\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    gap: \"4px\",\r\n                    minWidth: \"55px\",\r\n                    justifyContent: \"center\",\r\n                    boxShadow: \"0 2px 4px rgba(0,0,0,0.2)\"\r\n                  }}>\r\n                    {averageRating.toFixed(1)}\r\n                    <StarRounded sx={{ fontSize: \"13px\" }} />\r\n                  </Box>\r\n                ) : (\r\n                  <Box sx={{\r\n                    background: \"rgba(0,0,0,0.05)\",\r\n                    color: \"#888\",\r\n                    px: 1,\r\n                    py: 0.5,\r\n                    borderRadius: \"6px\",\r\n                    fontSize: \"13px\",\r\n                    fontWeight: 700,\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    gap: \"4px\",\r\n                    minWidth: \"55px\",\r\n                    justifyContent: \"center\",\r\n                    border: \"1px dashed #ddd\"\r\n                  }}>\r\n                    N/A\r\n                    <StarRounded sx={{ fontSize: \"13px\", color: \"#aaa\" }} />\r\n                  </Box>\r\n                )}\r\n                {reviewCount > 0 ? (\r\n                  <Typography variant=\"body2\" fontWeight={600} color={isAvailable ? \"#666\" : \"#aaa\"} sx={{ fontSize: \"12px\" }}>\r\n                    ({reviewCount} review{reviewCount !== 1 ? 's' : ''})\r\n                  </Typography>\r\n                ) : (\r\n                  <Typography variant=\"body2\" fontWeight={600} color={isAvailable ? \"#888\" : \"#aaa\"} sx={{ fontSize: \"12px\", fontStyle: \"italic\" }}>\r\n                    No reviews yet\r\n                  </Typography>\r\n                )}\r\n              </Box>\r\n            </Box>\r\n          )}\r\n\r\n          {bookingType === \"hourly\" ? (\r\n            <Box sx={{ width: \"100%\" }}>\r\n              {hourlyOptions.length > 0 ? (\r\n                (() => {\r\n                  const selectedOption = hourlyOptions.find((opt) => opt.key === activeHours);\r\n                  if (!selectedOption) {\r\n                    return (\r\n                      <Typography sx={{ fontSize: \"12px\", color: \"#888\", textAlign: \"center\", py: 2 }}>\r\n                        Not available for selected hours\r\n                      </Typography>\r\n                    );\r\n                  }\r\n\r\n                  const mainPrice = Math.round(selectedOption.totalBase + selectedOption.totalPlatform);\r\n                  const gstPrice = Math.round(selectedOption.totalGst);\r\n\r\n                  return (\r\n                    <>\r\n                      <Box sx={{\r\n                        display: \"flex\",\r\n                        gap: { xs: 0.5, sm: 1 },\r\n                        mb: 2,\r\n                        justifyContent: { xs: \"flex-start\", sm: \"flex-start\" },\r\n                        flexWrap: \"nowrap\",\r\n                        overflowX: { xs: \"auto\", sm: \"visible\" },\r\n                        pb: { xs: 1, sm: 0 },\r\n                        \"&::-webkit-scrollbar\": { height: \"4px\" },\r\n                        \"&::-webkit-scrollbar-track\": { background: \"#f1f1f1\" },\r\n                        \"&::-webkit-scrollbar-thumb\": { background: \"#ccc\", borderRadius: \"2px\" }\r\n                      }}>\r\n                        {hourlyOptions.map((opt) => {\r\n                          const isActive = opt.key === activeHours;\r\n                          return (\r\n                            <Box\r\n                              key={opt.key}\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                if (!isAvailable) return;\r\n                                handleHourChange(opt.key);\r\n                              }}\r\n                              sx={{\r\n                                flexShrink: 0,\r\n                                textAlign: \"center\",\r\n                                py: { xs: 0.75, sm: 1 },\r\n                                px: { xs: 0.75, sm: 1.5 },\r\n                                borderRadius: \"8px\",\r\n                                cursor: isAvailable ? \"pointer\" : \"not-allowed\",\r\n                                fontSize: { xs: \"11px\", sm: \"12px\", md: \"13px\" },\r\n                                fontWeight: 700,\r\n                                background: isActive ? (isAvailable ? \"#4B2AAD\" : \"#aaa\") : \"rgba(75, 42, 173, 0.1)\",\r\n                                color: isActive ? \"#fff\" : (isAvailable ? \"#4B2AAD\" : \"#888\"),\r\n                                border: `1px solid ${isActive ? \"#4B2AAD\" : \"rgba(75, 42, 173, 0.3)\"}`,\r\n                                transition: \"all 0.2s ease\",\r\n                                opacity: isAvailable ? 1 : 0.6,\r\n                                minWidth: { xs: \"70px\", sm: \"80px\" },\r\n                                whiteSpace: \"nowrap\",\r\n                                \"&:hover\": isAvailable ? {\r\n                                  transform: \"translateY(-1px)\",\r\n                                  boxShadow: \"0 2px 8px rgba(75, 42, 173, 0.3)\"\r\n                                } : {}\r\n                              }}\r\n                            >\r\n                              {opt.label}\r\n                            </Box>\r\n                          );\r\n                        })}\r\n                      </Box>\r\n\r\n                      <Box sx={{\r\n                        display: \"flex\",\r\n                        flexDirection: { xs: \"column\", sm: \"row\" },\r\n                        justifyContent: \"space-between\",\r\n                        alignItems: { xs: \"stretch\", sm: \"center\" },\r\n                        gap: { xs: 1.5, sm: 2, md: 3 }\r\n                      }}>\r\n                        <Box sx={{ flex: 1 }}>\r\n                          <Typography sx={{\r\n                            fontSize: { xs: \"12px\", md: \"13px\" },\r\n                            color: isAvailable ? \"#666\" : \"#888\",\r\n                            mb: 0.5,\r\n                            fontWeight: 500,\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            gap: 0.5,\r\n                            flexWrap: \"wrap\"\r\n                          }}>\r\n                            <span>{roomsCount} room{roomsCount > 1 ? \"s\" : \"\"}</span>\r\n                            <span></span>\r\n                            <span>{selectedOption.label}</span>\r\n                          </Typography>\r\n                          <Box sx={{ display: \"flex\", alignItems: \"baseline\", gap: 1, flexWrap: \"wrap\" }}>\r\n                            <Typography sx={{\r\n                              fontSize: { xs: \"20px\", sm: \"22px\", md: \"24px\" },\r\n                              fontWeight: 800,\r\n                              color: isAvailable ? color.firstColor : \"#888\",\r\n                              lineHeight: 1\r\n                            }}>\r\n                              {isAvailable ? formatINR(mainPrice) : \"---\"}\r\n                            </Typography>\r\n                            {isAvailable && (\r\n                              <Typography sx={{\r\n                                fontSize: { xs: \"11px\", md: \"12px\" },\r\n                                color: \"#666\",\r\n                                fontWeight: 500\r\n                              }}>\r\n                                + {formatINR(gstPrice)} taxes & fees\r\n                              </Typography>\r\n                            )}\r\n                          </Box>\r\n                        </Box>\r\n                        {isAvailable ? (\r\n                          <Box\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              handleCardClick();\r\n                            }}\r\n                            sx={{\r\n                              background: \"linear-gradient(135deg, #4B2AAD, #6C4BD3)\",\r\n                              color: \"#fff\",\r\n                              px: { xs: 0, sm: 2.5, md: 3 },\r\n                              py: { xs: 0, sm: 1.25, md: 1.5 },\r\n                              borderRadius: \"10px\",\r\n                              textAlign: \"center\",\r\n                              minWidth: { xs: \"40%\", sm: \"120px\", md: \"140px\" },\r\n                              cursor: \"pointer\",\r\n                              transition: \"all 0.3s ease\",\r\n                              mt: { xs: 1, sm: 0 },\r\n                              marginRight: { xs: 3 },\r\n                              display: \"flex\",\r\n                              alignItems: \"center\",\r\n                              justifyContent: \"center\",\r\n                              height: { xs: \"44px\", sm: \"48px\" },\r\n                              \"&:hover\": {\r\n                                transform: \"translateY(-2px)\",\r\n                                boxShadow: \"0 4px 12px rgba(75, 42, 173, 0.4)\"\r\n                              }\r\n                            }}\r\n                          >\r\n                            <Typography sx={{\r\n                              fontSize: { xs: \"14px\", sm: \"15px\", md: \"16px\" },\r\n                              fontWeight: 700,\r\n                              whiteSpace: \"nowrap\"\r\n                            }}>\r\n                              Book Now\r\n                            </Typography>\r\n                          </Box>\r\n                        ) : (\r\n                          <Box sx={{\r\n                            background: \"#e0e0e0\",\r\n                            color: \"#888\",\r\n                            px: { xs: 0, sm: 2.5, md: 3 },\r\n                            py: { xs: 0, sm: 1.25, md: 1.5 },\r\n                            borderRadius: \"10px\",\r\n                            textAlign: \"center\",\r\n                            minWidth: { xs: \"40%\", sm: \"120px\", md: \"140px\" },\r\n                            cursor: \"not-allowed\",\r\n                            mt: { xs: 1, sm: 0 },\r\n                            marginRight: { xs: 3 },\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            justifyContent: \"center\",\r\n                            height: { xs: \"44px\", sm: \"48px\" },\r\n                          }}>\r\n                            <Typography sx={{\r\n                              fontSize: { xs: \"14px\", sm: \"15px\", md: \"16px\" },\r\n                              fontWeight: 700,\r\n                              whiteSpace: \"nowrap\"\r\n                            }}>\r\n                              {hotelStatus.status}\r\n                            </Typography>\r\n                          </Box>\r\n                        )}\r\n                      </Box>\r\n                    </>\r\n                  );\r\n                })()\r\n              ) : (\r\n                <Typography sx={{\r\n                  fontSize: \"12px\",\r\n                  color: \"#888\",\r\n                  textAlign: \"center\",\r\n                  py: 2,\r\n                  border: \"1px dashed #ddd\",\r\n                  borderRadius: \"8px\",\r\n                  background: \"#f9f9f9\"\r\n                }}>\r\n                  Not available for hourly stay\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n          ) : (\r\n            <Box sx={{\r\n              display: \"flex\",\r\n              flexDirection: { xs: \"column\", sm: \"row\" },\r\n              justifyContent: \"space-between\",\r\n              alignItems: { xs: \"stretch\", sm: \"center\" },\r\n              gap: { xs: 1.5, sm: 2, md: 3 },\r\n              width: \"100%\"\r\n            }}>\r\n              <Box sx={{ flex: 1, minWidth: 0 }}>\r\n                {isAvailable && displayBasePlus700 > 0 && (\r\n                  <Typography sx={{\r\n                    fontSize: { xs: \"12px\", md: \"14px\" },\r\n                    color: isAvailable ? \"#999\" : \"#aaa\",\r\n                    textDecoration: \"line-through\",\r\n                    fontWeight: 500,\r\n                    mb: 0.5\r\n                  }}>\r\n                    {formatINR(Math.round(displayBasePlus700))}\r\n                  </Typography>\r\n                )}\r\n\r\n                <Box sx={{ display: \"flex\", alignItems: \"baseline\", gap: 1, flexWrap: \"wrap\" }}>\r\n                  <Typography sx={{\r\n                    fontSize: { xs: \"22px\", sm: \"24px\", md: \"26px\" },\r\n                    color: isAvailable ? color.firstColor : \"#888\",\r\n                    fontWeight: 800,\r\n                    lineHeight: 1\r\n                  }}>\r\n                    {isAvailable && totalBase + totalPlatform > 0 ? `${formatINR(Math.round(totalBase + totalPlatform))}` : \"---\"}\r\n                  </Typography>\r\n                  {isAvailable && totalFinal > 0 && (\r\n                    <Typography sx={{\r\n                      fontSize: { xs: \"11px\", md: \"13px\" },\r\n                      color: \"#666\",\r\n                      fontWeight: 500\r\n                    }}>\r\n                      + {formatINR(Math.round(totalGst))} taxes & fees\r\n                    </Typography>\r\n                  )}\r\n                </Box>\r\n\r\n                <Typography sx={{\r\n                  fontSize: { xs: \"12px\", md: \"13px\" },\r\n                  color: isAvailable ? \"#666\" : \"#aaa\",\r\n                  mt: 1,\r\n                  fontWeight: 500,\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: 0.5,\r\n                  flexWrap: \"wrap\"\r\n                }}>\r\n                  <span>{roomsCount} room{roomsCount > 1 ? \"s\" : \"\"}</span>\r\n                  {bookingType !== \"hourly\" && (\r\n                    <>\r\n                      <span></span>\r\n                      <span>{nights} night{nights > 1 ? \"s\" : \"\"}</span>\r\n                    </>\r\n                  )}\r\n                </Typography>\r\n              </Box>\r\n\r\n              {isAvailable ? (\r\n                <Box\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleCardClick();\r\n                  }}\r\n                  sx={{\r\n                    background: \"linear-gradient(135deg, #4B2AAD, #6C4BD3)\",\r\n                    color: \"#fff\",\r\n                    px: { xs: 0, sm: 2.5, md: 3 },\r\n                    py: { xs: 0, sm: 1.25, md: 1.5 },\r\n                    borderRadius: \"10px\",\r\n                    textAlign: \"center\",\r\n                    minWidth: { xs: \"40%\", sm: \"130px\", md: \"150px\" },\r\n                    cursor: \"pointer\",\r\n                    transition: \"all 0.3s ease\",\r\n                    mt: { xs: 1, sm: 0 },\r\n                    marginRight: { xs: 3 },\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    height: { xs: \"44px\", sm: \"48px\" },\r\n                    \"&:hover\": {\r\n                      transform: \"translateY(-2px)\",\r\n                      boxShadow: \"0 4px 12px rgba(75, 42, 173, 0.4)\"\r\n                    }\r\n                  }}\r\n                >\r\n                  <Typography sx={{\r\n                    fontSize: { xs: \"14px\", sm: \"15px\", md: \"16px\" },\r\n                    fontWeight: 700,\r\n                    whiteSpace: \"nowrap\"\r\n                  }}>\r\n                    Book Now\r\n                  </Typography>\r\n                </Box>\r\n              ) : (\r\n                <Box sx={{\r\n                  background: \"#e0e0e0\",\r\n                  color: \"#888\",\r\n                  px: { xs: 0, sm: 2.5, md: 3 },\r\n                  py: { xs: 0, sm: 1.25, md: 1.5 },\r\n                  borderRadius: \"10px\",\r\n                  textAlign: \"center\",\r\n                  minWidth: { xs: \"40%\", sm: \"130px\", md: \"150px\" },\r\n                  cursor: \"not-allowed\",\r\n                  mt: { xs: 1, sm: 0 },\r\n                  marginRight: { xs: 3 },\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  height: { xs: \"44px\", sm: \"48px\" },\r\n                }}>\r\n                  <Typography sx={{\r\n                    fontSize: { xs: \"14px\", sm: \"15px\", md: \"16px\" },\r\n                    fontWeight: 700,\r\n                    whiteSpace: \"nowrap\"\r\n                  }}>\r\n                    {hotelStatus.status}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst SearchResults = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [mergedData, setMergedData] = useState<any[]>([]);\r\n  const [filteredData, setFilteredData] = useState<any[]>([]);\r\n  const [paginatedData, setPaginatedData] = useState<any[]>([]);\r\n  const [allRatings, setAllRatings] = useState<any>(null);\r\n  const [inventoryData, setInventoryData] = useState<{ [key: string]: any[] }>({});\r\n  const [hourlyClosures, setHourlyClosures] = useState<HourlyClosure[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [open, setOpen] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [backgroundLoading, setBackgroundLoading] = useState(false);\r\n  const [loadedHotelIds, setLoadedHotelIds] = useState<Set<string>>(new Set());\r\n  const [hotelIdList, setHotelIdList] = useState<string[]>([]);\r\n\r\n  const queryParams = new URLSearchParams(location.search);\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const isTablet = useMediaQuery(theme.breakpoints.between(\"sm\", \"md\"));\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n\r\n  // Refs for caching\r\n  const isFetchingRef = useRef(false);\r\n  const abortControllerRef = useRef<AbortController | null>(null);\r\n\r\n  // Initialize pagination from URL\r\n  useEffect(() => {\r\n    const pageFromUrl = Number(queryParams.get(\"page\")) || 1;\r\n    setCurrentPage(pageFromUrl);\r\n  }, [location.search]);\r\n\r\n  // Function to fetch all ratings\r\n  const fetchAllRatings = async () => {\r\n    try {\r\n      const payLoad = {\r\n        data: { filter: \"\" },\r\n        page: 0,\r\n        pageSize: 1000,\r\n        order: [[\"createdAt\", \"ASC\"]],\r\n      };\r\n      const ratingsResponse = await getAllRatings(payLoad);\r\n      let ratingsData = ratingsResponse?.data?.data;\r\n\r\n      if (ratingsData?.data && Array.isArray(ratingsData.data)) {\r\n        return ratingsData.data;\r\n      }\r\n      if (ratingsData?.rows && Array.isArray(ratingsData.rows)) {\r\n        return ratingsData.rows;\r\n      }\r\n      if (ratingsData?.result && Array.isArray(ratingsData.result)) {\r\n        return ratingsData.result;\r\n      }\r\n      if (Array.isArray(ratingsData)) {\r\n        return ratingsData;\r\n      }\r\n\r\n      return [];\r\n    } catch (error) {\r\n      console.error(\"Error fetching ratings:\", error);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  // Check cache validity\r\n  const isCacheValid = () => {\r\n    return dataCache.hotels.length > 0 && (Date.now() - dataCache.lastFetched) < dataCache.TTL;\r\n  };\r\n\r\n  // Function to apply filters\r\n  const applyFilters = () => {\r\n    if (isMobile) {\r\n      setOpen(false);\r\n    }\r\n\r\n    const newParams = new URLSearchParams(queryParams.toString());\r\n    newParams.set(\"page\", \"1\");\r\n    navigate({ search: newParams.toString() }, { replace: true });\r\n  };\r\n\r\n  // Fetch inventory for rooms in a hotel\r\n  const fetchHotelInventory = async (hotel: any, checkDate: string) => {\r\n    const inventoryByRoom: { [key: string]: any[] } = {};\r\n\r\n    if (!hotel.rooms || hotel.rooms.length === 0) {\r\n      return inventoryByRoom;\r\n    }\r\n\r\n    for (const room of hotel.rooms) {\r\n      try {\r\n        const inventory = await fetchRoomInventory(room.id, checkDate);\r\n        inventoryByRoom[room.id] = inventory;\r\n      } catch (error) {\r\n        console.error(`Error fetching inventory for room ${room.id}:`, error);\r\n        inventoryByRoom[room.id] = [];\r\n      }\r\n    }\r\n\r\n    return inventoryByRoom;\r\n  };\r\n\r\n  // Combine hotels with their ratings\r\n  const combineHotelsWithRatings = (hotels: any[], ratings: any) => {\r\n    return hotels.map(hotel => {\r\n      const hotelId = hotel.id;\r\n      const hotelRatings = getRatingsForHotel(ratings, hotelId);\r\n      const averageRating = calculateAverageRating(hotelRatings);\r\n\r\n      return {\r\n        ...hotel,\r\n        ratings: {\r\n          rating: averageRating,\r\n          count: hotelRatings.length\r\n        }\r\n      };\r\n    });\r\n  };\r\n\r\n  // Fetch hotel details with rooms in batches\r\n  const fetchHotelBatch = async (hotelIds: string[], startIndex: number, endIndex: number) => {\r\n    const batch = hotelIds.slice(startIndex, endIndex);\r\n    const promises = batch.map(async (hotelId) => {\r\n      try {\r\n        const belongsToPayload = {\r\n          id: hotelId,\r\n          secondTable: \"Room\",\r\n        };\r\n        const hotelWithRoomsRes = await getMyAllHotelswithBelongsTo(belongsToPayload);\r\n        const hotelWithRooms = hotelWithRoomsRes?.data || null;\r\n\r\n        if (hotelWithRooms && Array.isArray(hotelWithRooms.data) && hotelWithRooms.data.length) {\r\n          return hotelWithRooms.data[0];\r\n        }\r\n        return null;\r\n      } catch (error) {\r\n        console.error(`Error fetching hotel ${hotelId}:`, error);\r\n        return null;\r\n      }\r\n    });\r\n\r\n    const results = await Promise.all(promises);\r\n    return results.filter(hotel => hotel !== null);\r\n  };\r\n\r\n  // Fetch hotels data with progressive loading\r\n  useEffect(() => {\r\n    const fetchHotelsWithProgressiveLoading = async () => {\r\n      if (isFetchingRef.current) return;\r\n      isFetchingRef.current = true;\r\n\r\n      try {\r\n        setLoading(true);\r\n\r\n        // Check cache first\r\n        if (isCacheValid() && dataCache.ratings && dataCache.hourlyClosures) {\r\n          console.log(\"Using cached data\");\r\n          setMergedData(dataCache.hotels);\r\n          setAllRatings(dataCache.ratings);\r\n          setHourlyClosures(dataCache.hourlyClosures);\r\n          setLoading(false);\r\n          isFetchingRef.current = false;\r\n          return;\r\n        }\r\n\r\n        // STEP 1: Fetch basic hotel list\r\n        const hotelPayload = {\r\n          data: { filter: \"\", status: \"Approved\" },\r\n          page: 0,\r\n          pageSize: 1000,\r\n          order: [[\"createdAt\", \"ASC\"]],\r\n        };\r\n\r\n        const hotelRes = await getAllHotels(hotelPayload);\r\n        const hotelData = hotelRes?.data?.data?.rows || [];\r\n        console.log(\"Total hotels from API:\", hotelData.length);\r\n        const hotelIds = hotelData.map((hotel: any) => hotel.id);\r\n\r\n        setHotelIdList(hotelIds);\r\n\r\n        // STEP 2: Fetch ratings and hourly closures in parallel\r\n        const [ratingsData, closuresData] = await Promise.all([\r\n          fetchAllRatings(),\r\n          fetchHourlyClosures()\r\n        ]);\r\n\r\n        // Update cache with closures\r\n        dataCache.hourlyClosures = closuresData;\r\n        dataCache.ratings = ratingsData;\r\n\r\n        // STEP 3: Fetch FIRST BATCH (current page hotels) immediately\r\n        const startIdx = (currentPage - 1) * ITEMS_PER_PAGE;\r\n        const endIdx = startIdx + ITEMS_PER_PAGE;\r\n        const firstBatchIds = hotelIds.slice(startIdx, endIdx);\r\n\r\n        console.log(`Fetching first batch: ${firstBatchIds.length} hotels`);\r\n\r\n        const firstBatchHotels = await fetchHotelBatch(firstBatchIds, 0, firstBatchIds.length);\r\n\r\n        // Update loaded hotel IDs\r\n        setLoadedHotelIds(new Set(firstBatchIds));\r\n\r\n        // Combine first batch with ratings\r\n        const firstBatchCombined = combineHotelsWithRatings(firstBatchHotels, ratingsData);\r\n\r\n        // STEP 4: Fetch inventory for first batch hotels\r\n        const checkinDate = queryParams.get(\"checkinDate\") || dayjs().format('YYYY-MM-DD');\r\n        const inventoryPromises = firstBatchCombined.map(async (hotel) => {\r\n          const inventory = await fetchHotelInventory(hotel, checkinDate);\r\n          return { hotelId: hotel.id, inventory };\r\n        });\r\n\r\n        const inventoryResults = await Promise.all(inventoryPromises);\r\n        const inventoryMap = inventoryResults.reduce((acc, { hotelId, inventory }) => {\r\n          acc[hotelId] = inventory;\r\n          return acc;\r\n        }, {} as { [key: string]: any });\r\n\r\n        setInventoryData(inventoryMap);\r\n\r\n        // STEP 5: Immediately show first batch\r\n        setMergedData(firstBatchCombined);\r\n        setAllRatings(ratingsData);\r\n        setHourlyClosures(closuresData);\r\n        setLoading(false);\r\n\r\n        // Update cache\r\n        dataCache.hotels = [...firstBatchCombined];\r\n        dataCache.lastFetched = Date.now();\r\n\r\n        // STEP 6: Start background loading of ALL remaining hotels\r\n        if (hotelIds.length > firstBatchIds.length) {\r\n          setBackgroundLoading(true);\r\n\r\n          const loadedIds = new Set(firstBatchIds);\r\n          const remainingIds = hotelIds.filter((id: any) => !loadedIds.has(id));\r\n\r\n          console.log(`Background loading: ${remainingIds.length} hotels (excluding ${firstBatchIds.length} already loaded)`);\r\n\r\n          const totalBatches = Math.ceil(remainingIds.length / BATCH_SIZE);\r\n\r\n          for (let i = 0; i < totalBatches; i++) {\r\n            const batchStart = i * BATCH_SIZE;\r\n            const batchEnd = batchStart + BATCH_SIZE;\r\n            const batchIds = remainingIds.slice(batchStart, batchEnd);\r\n\r\n            try {\r\n              console.log(`Fetching background batch ${i + 1}/${totalBatches}: ${batchIds.length} hotels`);\r\n              const batchHotels = await fetchHotelBatch(batchIds, 0, batchIds.length);\r\n\r\n              if (batchHotels.length > 0) {\r\n                // Combine with ratings\r\n                const batchCombined = combineHotelsWithRatings(batchHotels, ratingsData);\r\n\r\n                // Fetch inventory for batch hotels\r\n                const batchInventoryPromises = batchCombined.map(async (hotel) => {\r\n                  const inventory = await fetchHotelInventory(hotel, checkinDate);\r\n                  return { hotelId: hotel.id, inventory };\r\n                });\r\n\r\n                const batchInventoryResults = await Promise.all(batchInventoryPromises);\r\n                const batchInventoryMap = batchInventoryResults.reduce((acc, { hotelId, inventory }) => {\r\n                  acc[hotelId] = inventory;\r\n                  return acc;\r\n                }, {} as { [key: string]: any });\r\n\r\n                // Update inventory data\r\n                setInventoryData(prev => ({\r\n                  ...prev,\r\n                  ...batchInventoryMap\r\n                }));\r\n\r\n                // Update merged data with new batch\r\n                setMergedData(prev => [...prev, ...batchCombined]);\r\n\r\n                console.log(` Added ${batchCombined.length} hotels. `);\r\n\r\n                // Update cache\r\n                dataCache.hotels = [...dataCache.hotels, ...batchCombined];\r\n                dataCache.lastFetched = Date.now();\r\n\r\n                // Update loaded IDs\r\n                setLoadedHotelIds(prev => {\r\n                  const newSet = new Set(prev);\r\n                  batchIds.forEach((id: any) => newSet.add(id));\r\n                  return newSet;\r\n                });\r\n              } else {\r\n                console.log(` Batch ${i + 1} returned 0 hotels`);\r\n              }\r\n\r\n              // Small delay between batches\r\n              if (i < totalBatches - 1) {\r\n                await new Promise(resolve => setTimeout(resolve, 100));\r\n              }\r\n            } catch (batchError) {\r\n              console.error(`Error in batch ${i + 1}:`, batchError);\r\n            }\r\n          }\r\n\r\n          setBackgroundLoading(false);\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error(\"Error fetching hotels with rooms:\", error);\r\n        setMergedData([]);\r\n        setLoading(false);\r\n      } finally {\r\n        isFetchingRef.current = false;\r\n      }\r\n    };\r\n\r\n    fetchHotelsWithProgressiveLoading();\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      if (abortControllerRef.current) {\r\n        abortControllerRef.current.abort();\r\n      }\r\n    };\r\n  }, [location.search]);\r\n\r\n\r\n  // Function to detect if search is for location or hotel name\r\n  const detectSearchType = (searchTerm: string): 'hotel' | 'location' | 'mixed' => {\r\n    if (!searchTerm.trim()) return 'mixed';\r\n\r\n    const term = searchTerm.toLowerCase().trim();\r\n\r\n    // Common hotel-related keywords\r\n    const hotelKeywords = [\r\n      'hotel', 'inn', 'resort', 'villa', 'apartment', 'guest house',\r\n      'lodging', 'accommodation', 'stay', 'room', 'suite'\r\n    ];\r\n\r\n    // Common location-related keywords\r\n    const locationKeywords = [\r\n      'near', 'close to', 'beside', 'next to', 'opposite', 'adjacent',\r\n      'in', 'at', 'area', 'locality', 'road', 'street', 'lane', 'avenue'\r\n    ];\r\n\r\n    // Check for hotel name patterns\r\n    const isLikelyHotelName = hotelKeywords.some(keyword => term.includes(keyword)) ||\r\n      // Hotel names often start with capital letters or specific patterns\r\n      /^[A-Z][a-z]+\\s+[A-Z][a-z]+/.test(searchTerm) ||\r\n      // Or contain words like \"Hotel\", \"Resort\", etc.\r\n      /Hotel\\s+|Resort\\s+|Inn\\s+/i.test(searchTerm);\r\n\r\n    // Check for location patterns\r\n    const isLikelyLocation = locationKeywords.some(keyword => term.includes(keyword)) ||\r\n      // Contains common Bhubaneswar area names\r\n      /patia|sahid|jaydev|infocity|kiit|soa|chandrasekharpur|railway|airport/i.test(term) ||\r\n      // Contains \"near\" or \"close to\" patterns\r\n      /near\\s+|close to\\s+/i.test(term);\r\n\r\n    if (isLikelyHotelName && !isLikelyLocation) return 'hotel';\r\n    if (isLikelyLocation && !isLikelyHotelName) return 'location';\r\n\r\n    // If mixed or ambiguous, analyze further\r\n    const words = term.split(/\\s+/);\r\n\r\n    // Count hotel vs location indicators\r\n    let hotelIndicators = 0;\r\n    let locationIndicators = 0;\r\n\r\n    words.forEach(word => {\r\n      if (hotelKeywords.includes(word)) hotelIndicators++;\r\n      if (locationKeywords.includes(word) ||\r\n        ['patia', 'bhubaneswar', 'bbsr', 'kiit', 'airport'].includes(word)) {\r\n        locationIndicators++;\r\n      }\r\n    });\r\n\r\n    if (hotelIndicators > locationIndicators) return 'hotel';\r\n    if (locationIndicators > hotelIndicators) return 'location';\r\n\r\n    return 'mixed'; // Default to mixed if unsure\r\n  };\r\n\r\n  // Function to calculate location relevance score\r\n  // SMART function that calculates relevance based on search type\r\n  const calculateSmartRelevance = (hotel: any, searchTerm: string, searchType: 'hotel' | 'location' | 'mixed'): {\r\n    score: number;\r\n    isExactHotelMatch: boolean;\r\n    isExactLocationMatch: boolean;\r\n  } => {\r\n    let score = 0;\r\n    let isExactHotelMatch = false;\r\n    let isExactLocationMatch = false;\r\n\r\n    if (!searchTerm.trim()) {\r\n      return { score: 0, isExactHotelMatch: false, isExactLocationMatch: false };\r\n    }\r\n\r\n    const searchTermLower = searchTerm.toLowerCase().trim();\r\n    const hotelName = (hotel?.propertyName || \"\").toLowerCase();\r\n    const hotelAddress = (hotel?.address || \"\").toLowerCase();\r\n    const hotelCity = (hotel?.city || \"\").toLowerCase();\r\n    const hotelArea = (hotel?.area || \"\").toLowerCase();\r\n\r\n    const searchWords = searchTermLower.split(/[,\\s]+/).map(word => word.trim()).filter(word => word.length > 0);\r\n\r\n    // ========== HOTEL NAME MATCHING (ALWAYS CHECKED, WEIGHT VARIES) ==========\r\n\r\n    // 1. EXACT hotel name match (ALWAYS HIGHEST PRIORITY regardless of search type)\r\n    if (hotelName === searchTermLower) {\r\n      score += 1000;\r\n      isExactHotelMatch = true;\r\n    }\r\n\r\n    // 2. Hotel name starts with search term\r\n    if (hotelName.startsWith(searchTermLower)) {\r\n      score += searchType === 'hotel' ? 500 : 300; // Higher weight for hotel searches\r\n    }\r\n\r\n    // 3. Hotel name contains search term\r\n    if (hotelName.includes(searchTermLower)) {\r\n      score += searchType === 'hotel' ? 400 : 200;\r\n    }\r\n\r\n    // 4. Word-by-word matching in hotel name\r\n    let nameWordMatches = 0;\r\n    for (const word of searchWords) {\r\n      if (word.length > 1 && hotelName.includes(word)) {\r\n        nameWordMatches++;\r\n        score += searchType === 'hotel' ? 150 : 75;\r\n      }\r\n    }\r\n\r\n    // 5. Bonus if ALL search words found in hotel name\r\n    if (nameWordMatches === searchWords.length && searchWords.length > 0) {\r\n      score += searchType === 'hotel' ? 200 : 100;\r\n    }\r\n\r\n    // ========== LOCATION MATCHING (WEIGHT VARIES BASED ON SEARCH TYPE) ==========\r\n\r\n    // Location matching gets higher weight when search appears to be location-based\r\n    const locationWeightMultiplier = searchType === 'location' ? 3 :\r\n      searchType === 'mixed' ? 2 : 1;\r\n\r\n    // Address matching\r\n    for (const word of searchWords) {\r\n      if (word.length > 2) {\r\n        // Exact match in address\r\n        if (hotelAddress === word) {\r\n          score += 100 * locationWeightMultiplier;\r\n          isExactLocationMatch = true;\r\n        }\r\n\r\n        // Address contains word\r\n        if (hotelAddress.includes(word)) {\r\n          score += 40 * locationWeightMultiplier;\r\n        }\r\n\r\n        // Area matching\r\n        if (hotelArea === word) {\r\n          score += 120 * locationWeightMultiplier; // Area exact match gets high score\r\n          isExactLocationMatch = true;\r\n        }\r\n\r\n        if (hotelArea.includes(word)) {\r\n          score += 50 * locationWeightMultiplier;\r\n        }\r\n\r\n        // City matching\r\n        if (hotelCity === word) {\r\n          score += 80 * locationWeightMultiplier;\r\n        }\r\n\r\n        if (hotelCity.includes(word)) {\r\n          score += 30 * locationWeightMultiplier;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Check for \"near [location]\" patterns\r\n    if (searchTermLower.includes(\"near \") || searchTermLower.includes(\"close to \")) {\r\n      const nearMatch = searchTermLower.replace(/(near |close to )/, \"\").trim();\r\n      if (hotelAddress.includes(nearMatch) || hotelArea.includes(nearMatch)) {\r\n        score += 200 * locationWeightMultiplier;\r\n      }\r\n    }\r\n\r\n    // Bhubaneswar-specific location bonuses (only for location/mixed searches)\r\n    if (searchType !== 'hotel') {\r\n      if (hotelCity.includes(\"bhubaneswar\") || hotelCity.includes(\"bbsr\")) {\r\n        score += 20;\r\n      }\r\n\r\n      // Common Bhubaneswar areas boost\r\n      const commonBbsrAreas = [\"patia\", \"sahid nagar\", \"jaydev vihar\", \"infocity\", \"chandrasekharpur\"];\r\n      for (const area of commonBbsrAreas) {\r\n        if (searchTermLower.includes(area) && (hotelArea.includes(area) || hotelAddress.includes(area))) {\r\n          score += 150 * locationWeightMultiplier;\r\n        }\r\n      }\r\n    }\r\n\r\n    return { score, isExactHotelMatch, isExactLocationMatch };\r\n  };\r\n\r\n  // Filter data based on search parameters\r\n  useEffect(() => {\r\n    const filterProperties = () => {\r\n      const locationFilter = queryParams.get(\"location\") || \"\";\r\n      const bookingType = queryParams.get(\"bookingType\");\r\n      const bookingHours = queryParams.get(\"bookingHours\") || \"3\";\r\n      const sortByFilter = queryParams.get(\"sortBy\");\r\n      const maxBudget = Number(queryParams.get(\"maxBudget\")) || 20000;\r\n      const minBudget = Number(queryParams.get(\"minBudget\")) || 100;\r\n      const checkinDate = queryParams.get(\"checkinDate\") || dayjs().format('YYYY-MM-DD');\r\n      const checkinTime = queryParams.get(\"time\") || \"\";\r\n\r\n      const nights = bookingType === \"hourly\" ? 1 : Math.max(1, Number(queryParams.get(\"nights\")) || 1);\r\n\r\n      const getLowestRate = (hotel: any) => {\r\n        const roomInventory = inventoryData[hotel.id]?.[hotel.rooms?.[0]?.id] || [];\r\n        const baseRate = getBaseRate(hotel, roomInventory, checkinDate, bookingType || \"fullDay\", checkinTime);\r\n        if (!baseRate) return Infinity;\r\n\r\n        const perUnitFinal = calculatePriceBreakdown(baseRate).finalPrice;\r\n        const multiplier = nights;\r\n        return perUnitFinal * multiplier;\r\n      };\r\n\r\n      // First, filter by booking type\r\n      let filteredHotels = mergedData.filter((hotel: any) => {\r\n        if (bookingType === \"fullDay\") {\r\n          const isOvernightStay = hotel?.rooms?.[0]?.stayType === \"Overnight\";\r\n          const isHotelType = hotel.propertyType === \"Hotel\";\r\n          return isHotelType && isOvernightStay;\r\n        }\r\n\r\n        if (bookingType === \"hourly\") {\r\n          // Show ONLY hotels with hourly stay type\r\n          const hasHourlyStay = hotel?.rooms?.[0]?.stayType === \"Hourly\";\r\n          if (!hasHourlyStay) {\r\n            return false;\r\n          }\r\n\r\n          // Check hotel availability\r\n          const hotelRoomAvailable = hotel?.roomAvailable || \"Available\";\r\n          if (hotelRoomAvailable === \"Unavailable\") {\r\n            return true; // Still show but as sold out\r\n          }\r\n\r\n          return true;\r\n        }\r\n\r\n        if (bookingType === \"villa\") {\r\n          return hotel.propertyType === \"Villa\";\r\n        }\r\n\r\n        return false;\r\n      });\r\n\r\n      // Budget filter - but for sold out hotels, still show them\r\n      filteredHotels = filteredHotels.filter((hotel: any) => {\r\n        const price = getLowestRate(hotel);\r\n        const hotelRoomAvailable = hotel?.roomAvailable || \"Available\";\r\n\r\n        // For sold out hotels, still show them (they'll be marked as sold out)\r\n        if (hotelRoomAvailable === \"Unavailable\") {\r\n          return true;\r\n        }\r\n\r\n        // For available hotels, apply budget filter\r\n        const isInBudget = price >= minBudget && price <= maxBudget && price !== Infinity;\r\n        return isInBudget;\r\n      });\r\n\r\n      // Calculate location relevance score for ALL hotels\r\n      // Calculate smart relevance score for ALL hotels\r\n      filteredHotels = filteredHotels.map((hotel: any) => {\r\n        if (locationFilter.trim() !== \"\") {\r\n          // Detect what type of search this is\r\n          const searchType = detectSearchType(locationFilter);\r\n\r\n          console.log(` Search Type Detected: \"${locationFilter}\"  ${searchType}`);\r\n\r\n          // Calculate smart relevance based on search type\r\n          const { score, isExactHotelMatch, isExactLocationMatch } =\r\n            calculateSmartRelevance(hotel, locationFilter, searchType);\r\n\r\n          // Check hotel availability\r\n          const hotelRoomAvailable = hotel?.roomAvailable || \"Available\";\r\n          const isAvailable = hotelRoomAvailable !== \"Unavailable\";\r\n\r\n          return {\r\n            ...hotel,\r\n            _relevanceScore: score,\r\n            _isExactHotelMatch: isExactHotelMatch,\r\n            _isExactLocationMatch: isExactLocationMatch,\r\n            _searchType: searchType,\r\n            _isAvailable: isAvailable,\r\n          };\r\n        }\r\n\r\n        // Default if no search term\r\n        const hotelRoomAvailable = hotel?.roomAvailable || \"Available\";\r\n        const isAvailable = hotelRoomAvailable !== \"Unavailable\";\r\n\r\n        return {\r\n          ...hotel,\r\n          _relevanceScore: 0,\r\n          _isExactHotelMatch: false,\r\n          _isExactLocationMatch: false,\r\n          _searchType: 'mixed',\r\n          _isAvailable: isAvailable,\r\n        };\r\n      });\r\n\r\n      // NEW: Sorting logic with enhanced location priority\r\n      filteredHotels.sort((a: any, b: any) => {\r\n        // First, sort by availability (available hotels first)\r\n        if (a._isAvailable && !b._isAvailable) return -1;\r\n        if (b._isAvailable && !a._isAvailable) return 1;\r\n\r\n        // Then by location relevance score (highest first) - NEW PRIORITY\r\n        const locationScoreDiff = (b._locationRelevanceScore || 0) - (a._locationRelevanceScore || 0);\r\n        if (locationScoreDiff !== 0) return locationScoreDiff;\r\n\r\n        // Then by exact match\r\n        if (a._isExactMatch && !b._isExactMatch) return -1;\r\n        if (b._isExactMatch && !a._isExactMatch) return 1;\r\n\r\n        // Then by location match\r\n        if (a._hasLocationMatch && !b._hasLocationMatch) return -1;\r\n        if (b._hasLocationMatch && !a._hasLocationMatch) return 1;\r\n\r\n        // Then by total relevance score (highest first)\r\n        const relevanceDiff = (b._relevanceScore || 0) - (a._relevanceScore || 0);\r\n        if (relevanceDiff !== 0) return relevanceDiff;\r\n\r\n        // Then apply other sorting criteria\r\n        if (sortByFilter === \"rating\") {\r\n          return (Number(b?.ratings?.rating) || 0) - (Number(a?.ratings?.rating) || 0);\r\n        } else if (sortByFilter === \"lowToHigh\") {\r\n          return getLowestRate(a) - getLowestRate(b);\r\n        } else if (sortByFilter === \"highToLow\") {\r\n          return getLowestRate(b) - getLowestRate(a);\r\n        } else if (sortByFilter === \"popularity\") {\r\n          return (Number(b?.reviews) || 0) - (Number(a?.reviews) || 0);\r\n        } else {\r\n          // Default: location score then price\r\n          const locationDiff = (b._locationRelevanceScore || 0) - (a._locationRelevanceScore || 0);\r\n          if (locationDiff !== 0) return locationDiff;\r\n          return getLowestRate(a) - getLowestRate(b);\r\n        }\r\n      });\r\n\r\n      // Prepare pricing data\r\n      const roomsCount = Math.max(1, Number(queryParams.get(\"rooms\")) || 1);\r\n      const hotelsWithPrices = filteredHotels.map((hotel: any) => {\r\n        const roomInventory = inventoryData[hotel.id]?.[hotel.rooms?.[0]?.id] || [];\r\n        const baseRate = getBaseRate(hotel, roomInventory, checkinDate, bookingType || \"fullDay\", checkinTime);\r\n        const breakdown = calculatePriceBreakdown(baseRate);\r\n        const perRoomFinal = breakdown.finalPrice;\r\n        const nights = bookingType === \"hourly\" ? 1 : Math.max(1, Number(queryParams.get(\"nights\")) || 1);\r\n        const multiplier = roomsCount * nights;\r\n\r\n        return {\r\n          ...hotel,\r\n          _pricing: {\r\n            perRoomFinal,\r\n            perRoomBase: breakdown.basePrice,\r\n            perRoomPlatform: breakdown.platformFee,\r\n            perRoomGstTotal: breakdown.gstTotal,\r\n            roomsCount,\r\n            nights,\r\n            totalFinal: +(perRoomFinal * multiplier),\r\n            totalBase: +(breakdown.basePrice * multiplier),\r\n            totalPlatform: +(breakdown.platformFee * multiplier),\r\n            totalGst: +(breakdown.gstTotal * multiplier),\r\n          },\r\n        };\r\n      });\r\n\r\n      // NEW: Group hotels by location relevance for debugging\r\n      const highLocationRelevance = hotelsWithPrices.filter(h => h._locationRelevanceScore >= 50);\r\n      const mediumLocationRelevance = hotelsWithPrices.filter(h => h._locationRelevanceScore >= 20 && h._locationRelevanceScore < 50);\r\n      const lowLocationRelevance = hotelsWithPrices.filter(h => h._locationRelevanceScore < 20 && h._locationRelevanceScore > 0);\r\n      const noLocationRelevance = hotelsWithPrices.filter(h => h._locationRelevanceScore === 0);\r\n\r\n      console.log(' Location Relevance Analysis:');\r\n      console.log(`   High relevance (>=50): ${highLocationRelevance.length} hotels`);\r\n      console.log(`   Medium relevance (20-49): ${mediumLocationRelevance.length} hotels`);\r\n      console.log(`   Low relevance (1-19): ${lowLocationRelevance.length} hotels`);\r\n      console.log(`   No relevance: ${noLocationRelevance.length} hotels`);\r\n\r\n      // Log top hotels with location scores\r\n      hotelsWithPrices.slice(0, 5).forEach((hotel, index) => {\r\n        console.log(`${index + 1}. ${hotel.propertyName} - Location Score: ${hotel._locationRelevanceScore} - Address: ${hotel.address}`);\r\n      });\r\n\r\n      return hotelsWithPrices;\r\n    };\r\n\r\n    if (!loading) {\r\n      const filtered = filterProperties();\r\n      setFilteredData(filtered);\r\n\r\n      // Calculate pagination\r\n      const totalItems = filtered.length;\r\n      console.log(`Total items for pagination: ${totalItems}`);\r\n      const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);\r\n      setTotalPages(totalPages);\r\n\r\n      // Get current page data\r\n      const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\r\n      const endIndex = startIndex + ITEMS_PER_PAGE;\r\n      const paginated = filtered.slice(startIndex, endIndex);\r\n      setPaginatedData(paginated);\r\n    }\r\n  }, [loading, mergedData, location.search, currentPage, inventoryData, hourlyClosures]);\r\n\r\n  // Handle page change with preloading\r\n  const handlePageChange = useCallback((event: React.ChangeEvent<unknown>, value: number) => {\r\n    setCurrentPage(value);\r\n\r\n    // Update URL with page parameter\r\n    const newParams = new URLSearchParams(queryParams.toString());\r\n    newParams.set(\"page\", value.toString());\r\n    navigate({ search: newParams.toString() }, { replace: true });\r\n\r\n    // Check if we need to fetch more data for this page\r\n    const startIdx = (value - 1) * ITEMS_PER_PAGE;\r\n    const endIdx = startIdx + ITEMS_PER_PAGE;\r\n\r\n    // Check if any hotel in this page range is not loaded\r\n    const pageHotelIds = hotelIdList.slice(startIdx, endIdx);\r\n    const missingIds = pageHotelIds.filter(id => !loadedHotelIds.has(id));\r\n\r\n    if (missingIds.length > 0 && !backgroundLoading) {\r\n      // Fetch missing hotels for this page\r\n      (async () => {\r\n        try {\r\n          const missingHotels = await fetchHotelBatch(missingIds, 0, missingIds.length);\r\n\r\n          if (missingHotels.length > 0 && allRatings) {\r\n            const combined = combineHotelsWithRatings(missingHotels, allRatings);\r\n\r\n            // Fetch inventory for missing hotels\r\n            const checkinDate = queryParams.get(\"checkinDate\") || dayjs().format('YYYY-MM-DD');\r\n            const inventoryPromises = combined.map(async (hotel) => {\r\n              const inventory = await fetchHotelInventory(hotel, checkinDate);\r\n              return { hotelId: hotel.id, inventory };\r\n            });\r\n\r\n            const inventoryResults = await Promise.all(inventoryPromises);\r\n            const inventoryMap = inventoryResults.reduce((acc, { hotelId, inventory }) => {\r\n              acc[hotelId] = inventory;\r\n              return acc;\r\n            }, {} as { [key: string]: any });\r\n\r\n            // Update inventory data\r\n            setInventoryData(prev => ({\r\n              ...prev,\r\n              ...inventoryMap\r\n            }));\r\n\r\n            // Update merged data\r\n            setMergedData(prev => {\r\n              const existingIds = new Set(prev.map(h => h.id));\r\n              const newHotels = combined.filter(h => !existingIds.has(h.id));\r\n              return [...prev, ...newHotels];\r\n            });\r\n\r\n            // Update loaded IDs\r\n            setLoadedHotelIds(prev => {\r\n              const newSet = new Set(prev);\r\n              missingIds.forEach(id => newSet.add(id));\r\n              return newSet;\r\n            });\r\n\r\n            // Update cache\r\n            dataCache.hotels = [...dataCache.hotels, ...combined];\r\n            dataCache.lastFetched = Date.now();\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Error fetching missing hotels:\", error);\r\n        }\r\n      })();\r\n    }\r\n\r\n    // Scroll to top\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  }, [hotelIdList, loadedHotelIds, backgroundLoading, allRatings, queryParams, navigate]);\r\n\r\n  // Filter states\r\n  const defaultBudget = [\r\n    Number(queryParams.get(\"minBudget\")) || 100,\r\n    Number(queryParams.get(\"maxBudget\")) || 20000,\r\n  ];\r\n  const defaultSelected = queryParams.get(\"bookingHours\") || \"3\";\r\n  const defaultSortBy = queryParams.get(\"sortBy\") || \"all\";\r\n\r\n  const [budget, setBudget] = useState<number[]>(defaultBudget);\r\n  const [selected, setSelected] = useState<string | null>(defaultSelected);\r\n  const [sortBy, setSortBy] = useState<string>(defaultSortBy);\r\n\r\n  const updateQueryParams = (\r\n    key: string,\r\n    value: string | number | number[]\r\n  ) => {\r\n    const newParams = new URLSearchParams(location.search);\r\n    if (Array.isArray(value)) {\r\n      newParams.set(\"minBudget\", String(value[0]));\r\n      newParams.set(\"maxBudget\", String(value[1]));\r\n    } else {\r\n      newParams.set(key, String(value));\r\n    }\r\n    newParams.set(\"page\", \"1\");\r\n    setCurrentPage(1);\r\n    navigate({ search: newParams.toString() }, { replace: true });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const newParams = new URLSearchParams(location.search);\r\n    let updated = false;\r\n\r\n    if (!newParams.has(\"minBudget\")) {\r\n      newParams.set(\"minBudget\", String(defaultBudget[0]));\r\n      updated = true;\r\n    }\r\n    if (!newParams.has(\"maxBudget\")) {\r\n      newParams.set(\"maxBudget\", String(defaultBudget[1]));\r\n      updated = true;\r\n    }\r\n    if (!newParams.has(\"bookingHours\")) {\r\n      newParams.set(\"bookingHours\", defaultSelected);\r\n      updated = true;\r\n    }\r\n    if (!newParams.has(\"sortBy\")) {\r\n      newParams.set(\"sortBy\", defaultSortBy);\r\n      updated = true;\r\n    }\r\n    if (!newParams.has(\"page\")) {\r\n      newParams.set(\"page\", \"1\");\r\n      updated = true;\r\n    }\r\n\r\n    if (updated) {\r\n      navigate({ search: newParams.toString() }, { replace: true });\r\n    }\r\n  }, []);\r\n\r\n  const handleBudgetChange = (\r\n    event: Event,\r\n    newValue: number | number[],\r\n    activeThumb: number\r\n  ) => {\r\n    if (Array.isArray(newValue)) {\r\n      setBudget(newValue);\r\n      updateQueryParams(\"minBudget\", newValue[0]);\r\n      updateQueryParams(\"maxBudget\", newValue[1]);\r\n    }\r\n  };\r\n\r\n  const handleBookingChange = (value: string) => {\r\n    setSelected(value);\r\n    updateQueryParams(\"bookingHours\", value);\r\n  };\r\n\r\n  const handleSortChange = (value: string) => {\r\n    setSortBy(value);\r\n    updateQueryParams(\"sortBy\", value);\r\n  };\r\n\r\n  const sidebar = (\r\n    <Box sx={{ position: \"sticky\", top: 20 }}>\r\n      <Box sx={{ ...BoxStyle, mt: 3 }}>\r\n        <Typography sx={{ ...style, mb: 5 }}>Budget</Typography>\r\n        <Slider\r\n          value={budget}\r\n          onChange={handleBudgetChange}\r\n          step={100}\r\n          min={100}\r\n          max={20000}\r\n          sx={{\r\n            color: color.secondColor,\r\n            \"& .MuiSlider-thumb\": {\r\n              backgroundColor: \"white\",\r\n              border: `2px solid ${color.secondColor}`,\r\n              width: 20,\r\n              height: 20,\r\n            },\r\n            \"& .MuiSlider-valueLabel\": {\r\n              backgroundColor: color.secondColor,\r\n              color: \"white\",\r\n              fontSize: \"12px\",\r\n              borderRadius: \"5px\",\r\n              padding: \"2px 8px\",\r\n            },\r\n            \"& .MuiSlider-track\": {\r\n              height: 6,\r\n            },\r\n            \"& .MuiSlider-rail\": {\r\n              height: 6,\r\n              opacity: 0.3,\r\n            },\r\n          }}\r\n          valueLabelFormat={(value) => `${value}`}\r\n          valueLabelDisplay=\"on\"\r\n        />\r\n        <Box sx={{ display: \"flex\", justifyContent: \"space-between\", mt: 1 }}>\r\n          <Typography sx={{ fontSize: \"14px\", fontWeight: 600, color: color.firstColor }}>\r\n            {budget[0]}\r\n          </Typography>\r\n          <Typography sx={{ fontSize: \"14px\", fontWeight: 600, color: color.firstColor }}>\r\n            {budget[1]}\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n\r\n      {queryParams.get(\"bookingType\") === \"hourly\" && (\r\n        <Box sx={{ ...BoxStyle }}>\r\n          <Typography sx={{ ...style }}>Book For</Typography>\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              flexWrap: \"wrap\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"space-between\",\r\n              gap: \"8px\",\r\n              mt: 1,\r\n            }}\r\n          >\r\n            {[\"3\", \"6\", \"12\"].map((hour) => (\r\n              <StyledToggleButton\r\n                key={hour}\r\n                value={hour}\r\n                selected={selected === hour}\r\n                onClick={() => handleBookingChange(hour)}\r\n                sx={{\r\n                  flex: 1,\r\n                  minWidth: { xs: \"30%\", sm: \"auto\" },\r\n                  py: 1,\r\n                  fontSize: { xs: \"11px\", sm: \"12px\", md: \"13px\" },\r\n                  whiteSpace: \"nowrap\",\r\n                  overflow: \"hidden\",\r\n                  textOverflow: \"ellipsis\",\r\n                }}\r\n              >\r\n                {hour} Hours\r\n              </StyledToggleButton>\r\n            ))}\r\n          </Box>\r\n        </Box>\r\n      )}\r\n\r\n      <Box sx={{ ...BoxStyle }}>\r\n        <Typography sx={{ ...style }}>Sort By</Typography>\r\n        <RadioGroup\r\n          sx={{ mt: 0 }}\r\n          value={sortBy}\r\n          onChange={(e) => handleSortChange(e.target.value)}\r\n        >\r\n          <StyledFormControlLabel\r\n            value=\"all\"\r\n            control={<BpRadio />}\r\n            label=\"All\"\r\n          />\r\n          <StyledFormControlLabel\r\n            value=\"lowToHigh\"\r\n            control={<BpRadio />}\r\n            label=\"Price Low To High\"\r\n          />\r\n          <StyledFormControlLabel\r\n            value=\"highToLow\"\r\n            control={<BpRadio />}\r\n            label=\"Price High To Low\"\r\n          />\r\n          <StyledFormControlLabel\r\n            value=\"popularity\"\r\n            control={<BpRadio />}\r\n            label=\"Popularity\"\r\n          />\r\n          <StyledFormControlLabel\r\n            value=\"rating\"\r\n            control={<BpRadio />}\r\n            label=\"Customer Rating\"\r\n          />\r\n          <StyledFormControlLabel\r\n            value=\"locationRelevance\"\r\n            control={<BpRadio />}\r\n            label=\"Near Search Location\"\r\n          />\r\n        </RadioGroup>\r\n      </Box>\r\n\r\n      {/* Apply Filters Button */}\r\n      <Box sx={{ ...BoxStyle, mt: 3 }}>\r\n        <CustomButton\r\n          variant=\"contained\"\r\n          onClick={applyFilters}\r\n          customStyles={{\r\n            width: \"100%\",\r\n            padding: \"12px\",\r\n            fontSize: \"16px\",\r\n            fontWeight: 700,\r\n            background: \"linear-gradient(135deg, #4B2AAD, #6C4BD3)\",\r\n            boxShadow: \"0 4px 12px rgba(75, 42, 173, 0.3)\",\r\n          }}\r\n        >\r\n          Apply Filters\r\n        </CustomButton>\r\n      </Box>\r\n\r\n      {/* Background loading indicator */}\r\n      {backgroundLoading && (\r\n        <Box sx={{ ...BoxStyle, mt: 2 }}>\r\n          <Typography sx={{ fontSize: \"12px\", color: \"#666\", textAlign: \"center\" }}>\r\n            Loading more hotels in background...\r\n          </Typography>\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n\r\n  const itemListSchema = {\r\n    \"@context\": \"https://schema.org\",\r\n    \"@type\": \"ItemList\",\r\n    \"itemListElement\": paginatedData.map((hotel, index) => ({\r\n      \"@type\": \"ListItem\",\r\n      \"position\": index + 1,\r\n      \"url\": `https://huts4u.com/hotel/${hotel.id}`,\r\n      \"name\": hotel.propertyName\r\n    }))\r\n  };\r\n\r\n  return (\r\n    <Box sx={{\r\n      background: color.thirdColor,\r\n      p: { xs: 2, sm: 3, md: 4 },\r\n      minHeight: \"100vh\",\r\n    }}>\r\n      <Helmet>\r\n        <title>Search Hotels in Bhubaneswar | Huts4u</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Search and book hourly hotels in Bhubaneswar quickly. Find hotels near you for short stays, business trips, or leisure visits.\"\r\n        />\r\n        <link rel=\"canonical\" href=\"https://huts4u.com/search\" />\r\n        {/* WebPage Schema */}\r\n        <script type=\"application/ld+json\">\r\n          {JSON.stringify({\r\n            \"@context\": \"https://schema.org\",\r\n            \"@type\": \"WebPage\",\r\n            \"name\": \"Search Hotels\",\r\n            \"url\": \"https://huts4u.com/search\"\r\n          })}\r\n        </script>\r\n        {/* ItemList Schema (HOTEL LISTING) */}\r\n        {paginatedData.length > 0 && (\r\n          <script type=\"application/ld+json\">\r\n            {JSON.stringify(itemListSchema)}\r\n          </script>\r\n        )}\r\n      </Helmet>\r\n\r\n      <SearchSection />\r\n\r\n      <Grid container spacing={{ xs: 2, md: 3 }}>\r\n        {isMobile ? (\r\n          <Drawer\r\n            anchor=\"left\"\r\n            open={open}\r\n            onClose={() => setOpen(false)}\r\n            sx={{\r\n              \"& .MuiDrawer-paper\": {\r\n                width: { xs: \"100%\", sm: \"85%\" },\r\n                maxWidth: 400,\r\n                height: \"100%\",\r\n                overflowY: \"auto\",\r\n              },\r\n            }}\r\n          >\r\n            <Box sx={{ p: { xs: 2, sm: 3 }, height: \"100%\", overflowY: \"auto\" }}>\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  alignItems: \"center\",\r\n                  mb: 3,\r\n                  position: \"sticky\",\r\n                  top: 0,\r\n                  zIndex: 1,\r\n                  pb: 2,\r\n                  borderBottom: \"1px solid #eee\",\r\n                }}\r\n              >\r\n                <Typography variant=\"h5\" sx={{\r\n                  background: \"linear-gradient(135deg, #f3eee1, #e8e0cf)\",\r\n                  width: \"fit-content\",\r\n                  borderRadius: \"8px\",\r\n                  p: 1.5,\r\n                  fontWeight: 700,\r\n                  color: color.firstColor,\r\n                  fontSize: { xs: \"16px\", md: \"18px\" },\r\n                  boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\r\n                }}>\r\n                  Filter & Sort\r\n                </Typography>\r\n                <Cancel\r\n                  onClick={() => setOpen(false)}\r\n                  sx={{\r\n                    fontSize: 28,\r\n                    color: color.firstColor,\r\n                    cursor: \"pointer\",\r\n                    \"&:hover\": { opacity: 0.8 },\r\n                  }}\r\n                />\r\n              </Box>\r\n              {sidebar}\r\n            </Box>\r\n          </Drawer>\r\n        ) : (\r\n          <Grid item xs={12} md={3} lg={2.5}>\r\n            {sidebar}\r\n          </Grid>\r\n        )}\r\n\r\n        <Grid item xs={12} md={9} lg={9.5}>\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: { xs: \"flex-start\", sm: \"center\" },\r\n              mb: 3,\r\n              flexWrap: \"wrap\",\r\n              gap: 2,\r\n              flexDirection: { xs: \"column\", sm: \"row\" },\r\n            }}\r\n          >\r\n            {loading ? (\r\n              <Skeleton width={200} height={32} />\r\n            ) : (\r\n              <Box>\r\n                <Typography\r\n                  variant=\"h6\"\r\n                  sx={{\r\n                    fontWeight: 700,\r\n                    fontSize: { xs: \"17px\", sm: \"18px\", md: \"20px\" },\r\n                    color: color.firstColor,\r\n                    marginTop: \"10px\"\r\n                  }}\r\n                >\r\n                  {filteredData.length} properties found\r\n                  {backgroundLoading && \" (loading more...)\"}\r\n                </Typography>\r\n                {totalPages > 1 && (\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    sx={{\r\n                      color: \"#666\",\r\n                      fontSize: { xs: \"13px\", md: \"14px\" },\r\n                      mt: 0.5,\r\n                    }}\r\n                  >\r\n                    Page {currentPage} of {totalPages}\r\n                    {backgroundLoading && \"  Background loading active\"}\r\n                  </Typography>\r\n                )}\r\n              </Box>\r\n            )}\r\n            {isMobile && (\r\n              <Box sx={{ display: \"flex\", gap: 1, width: \"100%\" }}>\r\n                <CustomButton\r\n                  customStyles={{\r\n                    padding: \"8px 16px\",\r\n                    fontSize: \"14px\",\r\n                    borderRadius: \"8px\",\r\n                    flex: 1,\r\n                  }}\r\n                  onClick={() => setOpen(true)}\r\n                  variant=\"contained\"\r\n                  startIcon={<FilterAlt />}\r\n                >\r\n                  Filter & Sort\r\n                </CustomButton>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n\r\n          {/* Properties List */}\r\n          {loading ? (\r\n            [...Array(5)].map((_, index) => (\r\n              <HotelCardSkeleton key={index} isMobile={isMobile} />\r\n            ))\r\n          ) : paginatedData.length > 0 ? (\r\n            <>\r\n              <Box sx={{ mb: 4 }}>\r\n                {paginatedData.map((hotel) => {\r\n                  const hotelId = hotel.id;\r\n                  const hotelRatings = getRatingsForHotel(allRatings, hotelId);\r\n                  const roomInventory = inventoryData[hotelId]?.[hotel.rooms?.[0]?.id] || [];\r\n\r\n                  return (\r\n                    <HotelCard\r\n                      key={hotel.id}\r\n                      hotel={hotel}\r\n                      queryParams={queryParams}\r\n                      isMobile={isMobile}\r\n                      hotelRatings={hotelRatings}\r\n                      inventoryData={roomInventory}\r\n                      hourlyClosures={hourlyClosures}\r\n                    />\r\n                  );\r\n                })}\r\n              </Box>\r\n\r\n              {/* Pagination - Fixed for mobile */}\r\n              {totalPages > 1 && (\r\n                <Box\r\n                  sx={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    mt: 4,\r\n                    mb: 2,\r\n                    flexDirection: { xs: \"column\", sm: \"row\" },\r\n                    gap: { xs: 2, sm: 0 },\r\n                  }}\r\n                >\r\n                  <Pagination\r\n                    count={totalPages}\r\n                    page={currentPage}\r\n                    onChange={handlePageChange}\r\n                    color=\"primary\"\r\n                    size={isMobile ? \"medium\" : isTablet ? \"medium\" : \"large\"}\r\n                    showFirstButton={!isMobile}\r\n                    showLastButton={!isMobile}\r\n                    siblingCount={isMobile ? 1 : 2}\r\n                    boundaryCount={isMobile ? 1 : 2}\r\n                    renderItem={(item) => (\r\n                      <PaginationItem\r\n                        {...item}\r\n                        sx={{\r\n                          \"&.Mui-selected\": {\r\n                            backgroundColor: color.firstColor,\r\n                            color: color.thirdColor,\r\n                            \"&:hover\": {\r\n                              backgroundColor: color.secondColor,\r\n                            },\r\n                          },\r\n                          \"&.MuiPaginationItem-root\": {\r\n                            fontWeight: 600,\r\n                            fontSize: { xs: \"14px\", md: \"14px\" },\r\n                            minWidth: { xs: \"36px\", sm: \"40px\", md: \"48px\" },\r\n                            height: { xs: \"36px\", sm: \"40px\", md: \"48px\" },\r\n                          },\r\n                        }}\r\n                      />\r\n                    )}\r\n                  />\r\n                  {!isMobile && (\r\n                    <Typography\r\n                      variant=\"body2\"\r\n                      sx={{\r\n                        ml: 2,\r\n                        color: \"#666\",\r\n                        fontSize: \"14px\",\r\n                        fontWeight: 500,\r\n                        whiteSpace: \"nowrap\",\r\n                      }}\r\n                    >\r\n                      Showing {Math.min((currentPage - 1) * ITEMS_PER_PAGE + 1, filteredData.length)}-\r\n                      {Math.min(currentPage * ITEMS_PER_PAGE, filteredData.length)} of {filteredData.length} properties\r\n                    </Typography>\r\n                  )}\r\n                </Box>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <Box sx={{\r\n              textAlign: \"center\",\r\n              py: 8,\r\n              px: 2,\r\n            }}>\r\n              <Box\r\n                sx={{\r\n                  maxWidth: 400,\r\n                  mx: \"auto\",\r\n                  p: 4,\r\n                  borderRadius: \"16px\",\r\n                  background: \"linear-gradient(135deg, #f8f9ff, #f0f2ff)\",\r\n                  boxShadow: \"0 4px 20px rgba(0,0,0,0.05)\",\r\n                }}\r\n              >\r\n                <Typography\r\n                  variant=\"h5\"\r\n                  sx={{\r\n                    fontWeight: 700,\r\n                    color: color.firstColor,\r\n                    mb: 2,\r\n                    fontSize: { xs: \"20px\", md: \"22px\" },\r\n                  }}\r\n                >\r\n                  No properties found\r\n                </Typography>\r\n                <Typography\r\n                  variant=\"body1\"\r\n                  sx={{\r\n                    color: \"#666\",\r\n                    mb: 3,\r\n                    fontSize: { xs: \"14px\", md: \"16px\" },\r\n                  }}\r\n                >\r\n                  Try adjusting your search criteria or filters\r\n                </Typography>\r\n                <CustomButton\r\n                  variant=\"contained\"\r\n                  onClick={() => navigate(\"/\")}\r\n                  customStyles={{\r\n                    background: \"linear-gradient(135deg, #4B2AAD, #6C4BD3)\",\r\n                    borderRadius: \"8px\",\r\n                    fontSize: \"15px\",\r\n                    fontWeight: 600,\r\n                  }}\r\n                >\r\n                  Search Again\r\n                </CustomButton>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  background: \"linear-gradient(135deg, #f3eee1, #e8e0cf)\",\r\n  width: \"fit-content\",\r\n  borderRadius: \"8px\",\r\n  p: 1.5,\r\n  m: -2,\r\n  mx: -4,\r\n  mb: 2,\r\n  fontWeight: 700,\r\n  color: color.firstColor,\r\n  fontSize: { xs: \"16px\", md: \"18px\" },\r\n  boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\r\n};\r\n\r\nconst StyledToggleButton = styled(ToggleButton)(({ theme }) => ({\r\n  borderRadius: \"8px\",\r\n  textTransform: \"none\",\r\n  fontSize: \"13px\",\r\n  padding: \"6px 12px\",\r\n  fontWeight: 600,\r\n  border: \"1px solid rgba(75, 42, 173, 0.3)\",\r\n  transition: \"all 0.2s ease\",\r\n  \"&.Mui-selected\": {\r\n    backgroundColor: color.secondColor,\r\n    color: \"white\",\r\n    borderColor: color.secondColor,\r\n    boxShadow: \"0 2px 8px rgba(75, 42, 173, 0.3)\",\r\n    \"&:hover\": {\r\n      backgroundColor: color.firstColor,\r\n    },\r\n  },\r\n  \"&:hover\": {\r\n    backgroundColor: \"rgba(75, 42, 173, 0.1)\",\r\n  },\r\n}));\r\n\r\nconst StyledFormControlLabel = styled(FormControlLabel)({\r\n  \"& .MuiFormControlLabel-label\": {\r\n    fontSize: \"14px\",\r\n    fontWeight: 600,\r\n    color: \"#333\",\r\n  },\r\n});\r\n\r\nexport default SearchResults;"],"names":["amenityIcons","_jsx","PoolIcon","fontSize","Gym","FitnessCenterIcon","WifiIcon","BeachAccessIcon","Breakfast","FreeBreakfastIcon","Parking","LocalParkingIcon","Spa","SpaIcon","Restaurant","LocalDiningIcon","AirportShuttleIcon","BusinessCenterIcon","PetsIcon","Bar","LocalBarIcon","RoomServiceIcon","TV","TvIcon","AcUnitIcon","LocalLaundryServiceIcon","ChildCareIcon","KingBedIcon","Casino","CasinoIcon","DirectionsCarIcon","NightlifeIcon","SportsTennisIcon","OutdoorGrillIcon","FireExtinguisherIcon","dataCache","hotels","ratings","inventories","hourlyClosures","lastFetched","TTL","HotelCardSkeleton","_ref","isMobile","Card","sx","mb","height","xs","md","children","_jsxs","Box","display","flexDirection","Skeleton","variant","width","p","flex","position","mt","gap","flexWrap","Array","map","_","i","justifyContent","alignItems","borderRadius","getInventoryPrice","room","inventoryData","checkDate","slot","roomId","id","checkDay","dayjs","format","dayInventory","find","inv","date","overnightRate","threeHourRate","sixHourRate","twelveHourRate","isSlotAvailable","checkinTime","_room$status","roomStatus","status","toLowerCase","isBlocked","overnightAvailable","overnightBooked","threeHourAvailable","threeHourBooked","sixHourAvailable","sixHourBooked","twelveHourAvailable","twelveHourBooked","getHotelStatus","hotel","bookingType","_room$status2","_room$status3","closureCheck","checkHourlyClosure","hotelClosures","filter","closure","hotelId","active","length","isClosed","closureReason","selectedDate","closureStartDate","closureDate","isBefore","checkinMinutes","hours","minutes","split","Number","now","hour","minute","startHour","startMinute","startTime","endHour","endMinute","endTime","closureStartMinutes","closureEndMinutes","isWithinOpeningHours","nextOpeningTime","hotelClosure","formatTime","concat","arguments","undefined","console","log","isAvailable","reason","propertyName","roomAvailable","getBaseRate","_hotel$rooms","rooms","baseRates","key","rate","available","opt","rateFor3Hour","rateFor6Hour","rateFor12Hour","push","rateFor1Night","Math","min","calculatePriceBreakdown","basePrice","numericBase","platformFee","gstOnBase","gstOnPlatform","gatewayFee","gstOnGateway","gstTotal","finalPrice","formatINR","val","toLocaleString","style","currency","minimumFractionDigits","calculateAverageRating","isArray","total","reduce","sum","rating","round","getRatingsForHotel","ratingsData","ratingsArray","data","rows","result","ratingHotelId","propertyId","hotel_id","hotelID","toString","fetchRoomInventory","async","_inventoryResponse$da","_inventoryResponse$da2","_inventoryResponse$da3","_inventoryResponse$da4","_inventoryResponse$da5","_inventoryResponse$da6","_inventoryResponse$da7","payLoad","page","pageSize","order","inventoryResponse","getAllInventories","inventoryArray","error","fetchHourlyClosures","_response$data","_response$data$data","_response$data2","payload","response","getHourlyClosures","closuresData","time","parseInt","ampm","_unused","HotelCard","_ref2","_hotel$rooms2","_hotel$rooms2$","_hotel$rooms2$$amenit","_hotel$rooms3","_hotel$rooms3$","_hotel$rooms3$$amenit","_hotel$rooms4","_hotel$ratings","_hotel$propertyImages","queryParams","hotelRatings","S3_BASE_URL","s3BASEURL","CDN_BASE_URL","CDN_URL","navigate","useNavigate","maxAmenities","visibleAmenities","amenities","slice","remainingAmenities","max","isPremium","get","checkinDate","activeHours","roomsCount","nights","hotelStatus","baseRate","breakdown","perRoomFinal","perRoomBase","perRoomPlatform","perRoomGstTotal","multiplier","totalBase","totalPlatform","totalGst","totalFinal","displayBasePlus700","averageRating","reviewCount","reviews","hourlyOptions","label","br","perRoomBaseHr","perRoomPlatformHr","perRoomGstTotalHr","totalBaseHr","totalPlatformHr","totalGstHr","totalFinalHr","_objectSpread","truncateAddress","address","maxLength","substring","handleCardClick","queryString","state","hotelData","onClick","background","color","thirdColor","boxShadow","transition","cursor","border","overflow","minHeight","transform","borderColor","firstColor","opacity","Tooltip","title","top","left","right","bottom","zIndex","getStatusColor","px","py","fontWeight","Block","toUpperCase","maxHeight","flexShrink","CardMedia","component","objectFit","image","url","propertyImages","includes","replace","alt","loading","Whatshot","CardContent","padding","Typography","textOverflow","WebkitLineClamp","WebkitBoxOrient","lineHeight","fontFamily","city","getRatingColor","minWidth","toFixed","StarRounded","textAlign","fontStyle","amenity","index","Chip","icon","AddCircleOutline","size","bgcolor","marginLeft","marginRight","pt","borderTop","selectedOption","mainPrice","gstPrice","_Fragment","sm","overflowX","pb","isActive","e","stopPropagation","params","URLSearchParams","set","handleHourChange","whiteSpace","textDecoration","m","mx","StyledToggleButton","styled","ToggleButton","_ref6","theme","textTransform","backgroundColor","secondColor","StyledFormControlLabel","FormControlLabel","SearchResults","location","useLocation","mergedData","setMergedData","useState","filteredData","setFilteredData","paginatedData","setPaginatedData","allRatings","setAllRatings","setInventoryData","setHourlyClosures","setLoading","open","setOpen","currentPage","setCurrentPage","totalPages","setTotalPages","backgroundLoading","setBackgroundLoading","loadedHotelIds","setLoadedHotelIds","Set","hotelIdList","setHotelIdList","search","useTheme","useMediaQuery","breakpoints","down","isTablet","between","isFetchingRef","up","useRef","abortControllerRef","useEffect","pageFromUrl","fetchAllRatings","_ratingsResponse$data","ratingsResponse","getAllRatings","fetchHotelInventory","inventoryByRoom","inventory","combineHotelsWithRatings","count","fetchHotelBatch","hotelIds","startIndex","endIndex","promises","belongsToPayload","secondTable","hotelWithRoomsRes","getMyAllHotelswithBelongsTo","hotelWithRooms","Promise","all","current","_hotelRes$data","_hotelRes$data$data","Date","hotelPayload","hotelRes","getAllHotels","startIdx","endIdx","firstBatchIds","firstBatchHotels","firstBatchCombined","inventoryPromises","inventoryMap","acc","_ref3","loadedIds","remainingIds","has","totalBatches","ceil","batchStart","batchEnd","batchIds","batchHotels","batchCombined","batchInventoryPromises","batchInventoryMap","_ref4","prev","newSet","forEach","add","resolve","setTimeout","batchError","fetchHotelsWithProgressiveLoading","abort","filtered","filterProperties","locationFilter","sortByFilter","maxBudget","minBudget","getLowestRate","_inventoryData$hotel$","_hotel$rooms5","_hotel$rooms5$","roomInventory","Infinity","filteredHotels","_hotel$rooms6","_hotel$rooms6$","isOvernightStay","stayType","propertyType","_hotel$rooms7","_hotel$rooms7$","price","trim","searchType","searchTerm","term","hotelKeywords","locationKeywords","isLikelyHotelName","some","keyword","test","isLikelyLocation","words","hotelIndicators","locationIndicators","word","detectSearchType","score","isExactHotelMatch","isExactLocationMatch","calculateSmartRelevance","searchTermLower","hotelName","hotelAddress","hotelCity","hotelArea","area","searchWords","startsWith","nameWordMatches","locationWeightMultiplier","nearMatch","commonBbsrAreas","_relevanceScore","_isExactHotelMatch","_isExactLocationMatch","_searchType","_isAvailable","sort","a","b","locationScoreDiff","_locationRelevanceScore","_isExactMatch","_hasLocationMatch","relevanceDiff","_b$ratings","_a$ratings","locationDiff","hotelsWithPrices","_inventoryData$hotel$2","_hotel$rooms8","_hotel$rooms8$","_pricing","highLocationRelevance","h","mediumLocationRelevance","lowLocationRelevance","noLocationRelevance","totalItems","paginated","handlePageChange","useCallback","event","value","newParams","missingIds","missingHotels","combined","_ref5","existingIds","newHotels","window","scrollTo","behavior","defaultBudget","defaultSelected","defaultSortBy","budget","setBudget","selected","setSelected","sortBy","setSortBy","updateQueryParams","String","updated","sidebar","BoxStyle","Slider","onChange","handleBudgetChange","newValue","activeThumb","step","valueLabelFormat","valueLabelDisplay","handleBookingChange","RadioGroup","handleSortChange","target","control","BpRadio","CustomButton","applyFilters","customStyles","itemListSchema","Helmet","name","content","rel","href","type","JSON","stringify","SearchSection","Grid","container","spacing","Drawer","anchor","onClose","maxWidth","overflowY","borderBottom","Cancel","item","lg","marginTop","startIcon","FilterAlt","_inventoryData$hotelI","_hotel$rooms9","_hotel$rooms9$","Pagination","showFirstButton","showLastButton","siblingCount","boundaryCount","renderItem","PaginationItem","ml"],"ignoreList":[],"sourceRoot":""}