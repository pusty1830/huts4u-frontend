"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[537],{43641:(e,t,o)=>{o.d(t,{E_:()=>H});var r=o(1706),a=o(20228),l=o(91783),i=o(23783),s=o(36715),n=o(24233),d=o(80286),c=o(2739),x=o(97187),h=o(8537),u=o(55968),p=o(10116),g=o(37460),m=o(4353),f=o(66717),v=o(78174),A=o(82372),b=o(43998),y=o(29206),w=o(63824),j=o(64340),S=o(5192),k=o(30270),C=o(95645),z=o(70579);const H={"Swimming Pool":(0,z.jsx)(y.A,{fontSize:"small"}),Gym:(0,z.jsx)(x.A,{fontSize:"small"}),"Free WiFi":(0,z.jsx)(C.A,{fontSize:"small"}),"Private Beach":(0,z.jsx)(l.A,{fontSize:"small"}),Breakfast:(0,z.jsx)(h.A,{fontSize:"small"}),Parking:(0,z.jsx)(f.A,{fontSize:"small"}),Spa:(0,z.jsx)(j.A,{fontSize:"small"}),Restaurant:(0,z.jsx)(g.A,{fontSize:"small"}),"Airport Shuttle":(0,z.jsx)(a.A,{fontSize:"small"}),"Business Center":(0,z.jsx)(i.A,{fontSize:"small"}),"Pet Friendly":(0,z.jsx)(b.A,{fontSize:"small"}),Bar:(0,z.jsx)(p.A,{fontSize:"small"}),"Room Service":(0,z.jsx)(w.A,{fontSize:"small"}),TV:(0,z.jsx)(k.A,{fontSize:"small"}),"Air Conditioning":(0,z.jsx)(r.A,{fontSize:"small"}),"Laundry Service":(0,z.jsx)(m.A,{fontSize:"small"}),"Child Care":(0,z.jsx)(n.A,{fontSize:"small"}),"King Bed":(0,z.jsx)(u.A,{fontSize:"small"}),Casino:(0,z.jsx)(s.A,{fontSize:"small"}),"Car Rental":(0,z.jsx)(d.A,{fontSize:"small"}),"Night Club":(0,z.jsx)(v.A,{fontSize:"small"}),"Tennis Court":(0,z.jsx)(S.A,{fontSize:"small"}),"BBQ Facilities":(0,z.jsx)(A.A,{fontSize:"small"}),"Fire Safety":(0,z.jsx)(c.A,{fontSize:"small"})}},46537:(e,t,o)=>{o.r(t),o.d(t,{calculatePriceBreakdown:()=>X,default:()=>oe});var r=o(89379),a=o(29435),l=o(20751),i=o(91794),s=o(59383),n=o(4247),d=o(10990),c=o(12110),x=o(7353),h=o(78185),u=o(77739),p=o(36591),g=o(26494),m=o(94496),f=o(43845),v=o(97629),A=o(57972),b=o(68903),y=o(94109),w=o(41985),j=o(91576),S=o(84511),k=o(74605),C=o(26240),z=o(34535),H=o(85442),F=o(65043),B=o(73216),W=o(33580),D=o(31716),M=o(43641),R=o(61968),Y=o(69995),N=o(45763),I=o(60446),T=o.n(I),P=o(49367),L=o(59007),E=o(70579);const _={hotels:[],ratings:null,inventories:null,lastFetched:0,TTL:3e5},O=e=>{let{isMobile:t}=e;return(0,E.jsx)(c.A,{sx:{mb:2,height:{xs:"auto",md:220}},children:(0,E.jsxs)(x.A,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},height:"100%"},children:[(0,E.jsx)(h.A,{variant:"rectangular",width:t?"100%":300,height:t?200:"100%"}),(0,E.jsxs)(x.A,{sx:{p:2,flex:1,position:"relative",display:"flex",flexDirection:"column"},children:[(0,E.jsx)(h.A,{width:"40%",height:24}),(0,E.jsx)(h.A,{width:"60%",height:20,sx:{mt:1}}),(0,E.jsx)(h.A,{width:"80%",height:20,sx:{mt:1}}),(0,E.jsx)(x.A,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:[...Array(3)].map((e,t)=>(0,E.jsx)(h.A,{width:80,height:24},t))}),(0,E.jsxs)(x.A,{sx:{mt:"auto",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,E.jsxs)(x.A,{children:[(0,E.jsx)(h.A,{width:120,height:28}),(0,E.jsx)(h.A,{width:180,height:36,sx:{mt:1}}),(0,E.jsx)(h.A,{width:140,height:20,sx:{mt:1}})]}),(0,E.jsx)(h.A,{width:100,height:40,variant:"rectangular",sx:{borderRadius:"8px"}})]})]})]})})},U=(e,t,o,r)=>{if(!e||!o)return 0;const a=e.id,l=T()(o).format("YYYY-MM-DD"),i=null===t||void 0===t?void 0:t.find(e=>e.roomId===a&&T()(e.date).format("YYYY-MM-DD")===l);if(i)switch(r){case"rateFor1Night":return i.overnightRate||0;case"rateFor3Hour":return i.threeHourRate||0;case"rateFor6Hour":return i.sixHourRate||0;case"rateFor12Hour":return i.twelveHourRate||0;default:return 0}return e[r]||0},G=(e,t,o,r,a)=>{var l;if(!e||!o)return!1;const i=null===(l=e.status)||void 0===l?void 0:l.toLowerCase();if(!("available"===i||"active"===i))return!1;const s=T()(o).format("YYYY-MM-DD"),n=null===t||void 0===t?void 0:t.find(e=>T()(e.date).format("YYYY-MM-DD")===s);if(!n)return!0;if(n.isBlocked)return!1;switch(r){case"rateFor1Night":return n.overnightAvailable>n.overnightBooked;case"rateFor3Hour":return n.threeHourAvailable>n.threeHourBooked;case"rateFor6Hour":return n.sixHourAvailable>n.sixHourBooked;case"rateFor12Hour":return n.twelveHourAvailable>n.twelveHourBooked;default:return!0}},V=function(e){var t;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if(null===e||void 0===e||null===(t=e.rooms)||void 0===t||!t[0])return 0;const l=e.rooms[0];let i=[];if("Unavailable"===((null===e||void 0===e?void 0:e.roomAvailable)||"Available"))return 0;if("hourly"===a){i=[{key:"rateFor3Hour",rate:U(l,o,r,"rateFor3Hour"),available:G(l,o,r,"rateFor3Hour")},{key:"rateFor6Hour",rate:U(l,o,r,"rateFor6Hour"),available:G(l,o,r,"rateFor6Hour")},{key:"rateFor12Hour",rate:U(l,o,r,"rateFor12Hour"),available:G(l,o,r,"rateFor12Hour")}].filter(e=>e.rate>0&&e.available).map(e=>e.rate),0===i.length&&(i=[l.rateFor3Hour||0,l.rateFor6Hour||0,l.rateFor12Hour||0].filter(e=>e>0))}else{const e=U(l,o,r,"rateFor1Night"),t=G(l,o,r,"rateFor1Night");e>0&&t?i.push(e):l.rateFor1Night>0&&i.push(l.rateFor1Night)}return i.length?Math.min(...i):0},X=e=>{const t=Number(e)||0;if(!t||t<=0)return{basePrice:0,platformFee:0,gstOnBase:0,gstOnPlatform:0,gatewayFee:0,gstOnGateway:0,gstTotal:0,finalPrice:0};const o=.05*t,r=.13*(t+o),a=.18*r,l=.02*(t+o+r+a),i=.18*l,s=o+a+i+l;return{basePrice:t,platformFee:r,gstOnBase:o,gstOnPlatform:a,gatewayFee:l,gstOnGateway:i,gstTotal:s,finalPrice:t+r+s}},q=e=>e.toLocaleString("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}),Z=e=>{if(!e||!Array.isArray(e)||0===e.length)return 0;const t=e.reduce((e,t)=>e+(Number(t.rating)||0),0);return Math.round(t/e.length*10)/10},K=(e,t)=>{if(!e||!t)return[];let o=[];if(Array.isArray(e))o=e;else if(e&&"object"===typeof e)if(Array.isArray(e.data))o=e.data;else if(Array.isArray(e.rows))o=e.rows;else{if(!Array.isArray(e.result))return[];o=e.result}return Array.isArray(o)?o.filter(e=>{const o=e.hotelId||e.propertyId||e.hotel_id||e.hotelID;return o===t||(null===o||void 0===o?void 0:o.toString())===(null===t||void 0===t?void 0:t.toString())}):[]},Q=async(e,t)=>{try{var o,r,a,l,i,s,n;const d={data:{filter:"",roomId:e,date:t},page:0,pageSize:1e3,order:[["createdAt","ASC"]]},c=await(0,Y.ww)(d);let x=[];return null!==c&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&null!==(r=o.data)&&void 0!==r&&r.data&&Array.isArray(c.data.data.data)?x=c.data.data.data:null!==c&&void 0!==c&&null!==(a=c.data)&&void 0!==a&&null!==(l=a.data)&&void 0!==l&&l.rows&&Array.isArray(c.data.data.rows)?x=c.data.data.rows:null!==c&&void 0!==c&&null!==(i=c.data)&&void 0!==i&&null!==(s=i.data)&&void 0!==s&&s.result&&Array.isArray(c.data.data.result)?x=c.data.data.result:Array.isArray(null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.data)&&(x=c.data.data),x}catch(d){return console.error("Error fetching inventory for room ".concat(e,":"),d),[]}},J=e=>{var t,o,i,s,h,v,A,b,y;let{hotel:w,queryParams:j,isMobile:S,hotelRatings:k=[],inventoryData:C=[]}=e;const z="https://huts44u.s3.ap-south-1.amazonaws.com",H=L.w4,F=(0,B.Zp)(),D=S?2:4,Y=(null===w||void 0===w||null===(t=w.rooms)||void 0===t||null===(o=t[0])||void 0===o||null===(i=o.amenities)||void 0===i?void 0:i.slice(0,D))||[],N=Math.max(0,((null===w||void 0===w||null===(s=w.rooms)||void 0===s||null===(h=s[0])||void 0===h||null===(v=h.amenities)||void 0===v?void 0:v.length)||0)-D),I=(null===w||void 0===w?void 0:w.isPremium)||!1,P=(null===w||void 0===w||null===(A=w.rooms)||void 0===A?void 0:A[0])||{},_=j.get("bookingType")||"fullDay",O=j.get("checkinDate")||T()().format("YYYY-MM-DD"),K=j.get("time")||"",Q=j.get("bookingHours")||"3",J=Math.max(1,Number(j.get("rooms"))||1),$="hourly"===_?1:Math.max(1,Number(j.get("nights"))||1),ee=((e,t,o,r,a)=>{var l;if(console.log("\ud83d\udd0d Checking hotel: ".concat(null===e||void 0===e?void 0:e.propertyName)),console.log("   - Hotel roomAvailable: ".concat((null===e||void 0===e?void 0:e.roomAvailable)||"Available")),console.log("   - Room status: ".concat(null===t||void 0===t||null===(l=t.status)||void 0===l?void 0:l.toLowerCase())),"Unavailable"===((null===e||void 0===e?void 0:e.roomAvailable)||"Available"))return console.log("   \u274c Hotel marked as Unavailable in roomAvailable field"),{isAvailable:!1,status:"Sold Out",reason:"Hotel is currently sold out"};const i=r?T()(r).format("YYYY-MM-DD"):"";if(console.log("   - Check date: ".concat(i)),!i)return{isAvailable:!0,status:"Available",reason:"Available for booking (no date specified)"};const s=i?o.find(e=>T()(e.date).format("YYYY-MM-DD")===i):null;if(s){if(console.log("   - Found inventory for date"),console.log("   - Inventory isBlocked: ".concat(s.isBlocked)),s.isBlocked)return{isAvailable:!1,status:"Blocked",reason:"Room is blocked for selected date"};if("hourly"===a){const e=s.threeHourAvailable>s.threeHourBooked,t=s.sixHourAvailable>s.sixHourBooked,o=s.twelveHourAvailable>s.twelveHourBooked;if(console.log("   - Hourly availability check:"),console.log("     - 3h: ".concat(s.threeHourAvailable,"/").concat(s.threeHourBooked," = ").concat(e)),console.log("     - 6h: ".concat(s.sixHourAvailable,"/").concat(s.sixHourBooked," = ").concat(t)),console.log("     - 12h: ".concat(s.twelveHourAvailable,"/").concat(s.twelveHourBooked," = ").concat(o)),!(e||t||o))return console.log("   \u274c No hourly slots available"),{isAvailable:!1,status:"Sold Out",reason:"No hourly slots available for selected date"}}else{const e=s.overnightAvailable>s.overnightBooked;if(console.log("   - Overnight availability: ".concat(s.overnightAvailable,"/").concat(s.overnightBooked," = ").concat(e)),!e)return{isAvailable:!1,status:"Sold Out",reason:"No overnight availability for selected date"}}}else console.log("   - No inventory found for date, assuming available");return console.log("   \u2705 Hotel is available"),{isAvailable:!0,status:"Available",reason:"Available for booking"}})(w,P,C,O,_),te=ee.isAvailable,oe=V(w,C,O,_,K),re=X(oe),ae=re.finalPrice,le=re.basePrice,ie=re.platformFee,se=re.gstTotal,ne=J*$,de=+le*ne,ce=+ie*ne,xe=+se*ne,he=+ae*ne,ue=de+700,pe=k.length>0?Z(k):(null===w||void 0===w||null===(b=w.ratings)||void 0===b?void 0:b.rating)||0,ge=k.length||(null===w||void 0===w?void 0:w.reviews)||0,me="hourly"===_?[{key:"3",label:"3 Hrs",slot:"rateFor3Hour",rate:U(P,C,O,"rateFor3Hour"),available:G(P,C,O,"rateFor3Hour")},{key:"6",label:"6 Hrs",slot:"rateFor6Hour",rate:U(P,C,O,"rateFor6Hour"),available:G(P,C,O,"rateFor6Hour")},{key:"12",label:"12 Hrs",slot:"rateFor12Hour",rate:U(P,C,O,"rateFor12Hour"),available:G(P,C,O,"rateFor12Hour")}].filter(e=>e.rate>0&&e.available).map(e=>{const t=X(e.rate),o=t.basePrice,a=t.platformFee,l=t.gstTotal,i=o*J,s=a*J,n=l*J,d=i+s+n;return(0,r.A)((0,r.A)({},e),{},{totalBase:i,totalPlatform:s,totalGst:n,totalFinal:d})}):[],fe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return e?e.length<=t?e:e.substring(0,t)+"...":"Address not available"},ve=()=>{if(!te)return;const e=j.toString();F("/hotel/".concat(w.id).concat(e?"?".concat(e):""),{state:{hotelData:w}})};return(0,E.jsxs)(c.A,{onClick:ve,sx:{display:"flex",flexDirection:{xs:"column",md:"row"},mb:3,background:te?W.A.thirdColor:"#f5f5f5",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)",borderRadius:"16px",transition:"all 0.3s ease",cursor:te?"pointer":"not-allowed",border:"1px solid ".concat(te?"transparent":"#e0e0e0"),position:"relative",overflow:"hidden",minHeight:{xs:"auto",md:220},"&:hover":{transform:te?"translateY(-4px)":"none",boxShadow:te?"0px 8px 24px rgba(0, 0, 0, 0.15)":"0px 4px 12px rgba(0, 0, 0, 0.1)",borderColor:te?W.A.firstColor:"#e0e0e0"},opacity:te?1:.7},children:[!te&&(0,E.jsx)(u.A,{title:ee.reason,children:(0,E.jsx)(x.A,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"16px"},children:(0,E.jsxs)(x.A,{sx:{background:"Sold Out"===ee.status?"#ff4444":"Blocked"===ee.status?"#ffaa00":"#ff4444",color:"white",px:3,py:1.5,borderRadius:"8px",fontWeight:"bold",fontSize:{xs:"13px",md:"14px"},transform:"rotate(-3deg)",boxShadow:"0 4px 8px rgba(255, 77, 77, 0.3)",display:"flex",alignItems:"center",gap:1},children:[(0,E.jsx)(l.A,{sx:{fontSize:20}}),ee.status.toUpperCase()]})})}),(0,E.jsxs)(x.A,{sx:{width:{xs:"100%",md:300},height:{xs:200,md:"100%"},minHeight:{xs:200,md:220},maxHeight:{xs:200,md:250},position:"relative",overflow:"hidden",flexShrink:0},children:[(0,E.jsx)(p.A,{component:"img",sx:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.5s ease",filter:te?"none":"grayscale(80%) brightness(0.9)",opacity:te?1:.7,"&:hover":{transform:te?"scale(1.05)":"none"}},image:(Ae=(null===w||void 0===w||null===(y=w.propertyImages)||void 0===y?void 0:y[0])||"https://via.placeholder.com/400x250?text=No+Image",Ae?Ae.includes(z)?Ae.replace(z,H):Ae:"/default-hotel.jpg"),alt:null===w||void 0===w?void 0:w.propertyName,loading:"lazy"}),I&&(0,E.jsxs)(x.A,{sx:{position:"absolute",top:12,left:12,background:"linear-gradient(135deg, #FFD700, #FFA500)",color:"#000",px:1.5,py:.5,borderRadius:"6px",fontSize:"10px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",zIndex:1},children:[(0,E.jsx)(d.A,{sx:{fontSize:"12px"}})," PREMIUM"]})]}),(0,E.jsxs)(g.A,{sx:{padding:{xs:"16px",md:"20px 24px"},width:"100%",display:"flex",flexDirection:"column",flex:1,position:"relative"},children:[I&&(0,E.jsx)(x.A,{sx:{width:"fit-content",mb:1.5},children:(0,E.jsxs)(m.A,{sx:{fontWeight:700,color:"#000",width:"fit-content",px:1.5,py:.5,borderRadius:"6px",fontSize:"10px",background:"linear-gradient(135deg, #FFD700, #FFA500)",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,E.jsx)(d.A,{sx:{fontSize:"12px"}})," Huts4u PREMIUM"]})}),(0,E.jsxs)(x.A,{sx:{mb:1.5},children:[(0,E.jsx)(m.A,{sx:{fontSize:{xs:"17px",md:"20px"},fontWeight:700,color:te?W.A.firstColor:"#666",display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",lineHeight:1.2},children:null===w||void 0===w?void 0:w.propertyName}),(0,E.jsxs)(m.A,{sx:{fontFamily:"CustomFontSB",fontSize:{xs:"12px",md:"14px"},color:te?"#666":"#888",display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",mt:.5,lineHeight:1.3},children:["\ud83d\udccd ",fe((null===w||void 0===w?void 0:w.address)||(null===w||void 0===w?void 0:w.city)||"",35)+"  BBSR"]})]}),!S&&(0,E.jsxs)(x.A,{sx:{position:"absolute",top:{xs:"auto",md:20},right:{xs:"auto",md:24},display:"flex",flexDirection:"column",alignItems:"flex-end",mb:1.5},children:[(0,E.jsx)(x.A,{sx:{display:"flex",alignItems:"center",gap:"4px",mb:.5},children:pe>0?(0,E.jsxs)(x.A,{sx:{background:(0,R.t0)(pe),color:"#fff",px:1.2,py:.6,borderRadius:"8px",fontSize:"14px",fontWeight:700,display:"flex",alignItems:"center",gap:"4px",minWidth:"60px",justifyContent:"center",boxShadow:"0 2px 6px rgba(0,0,0,0.2)"},children:[pe.toFixed(1),(0,E.jsx)(n.A,{sx:{fontSize:"14px"}})]}):(0,E.jsxs)(x.A,{sx:{background:"rgba(0,0,0,0.05)",color:"#888",px:1.2,py:.6,borderRadius:"8px",fontSize:"14px",fontWeight:700,display:"flex",alignItems:"center",gap:"4px",minWidth:"60px",justifyContent:"center",border:"1px dashed #ddd"},children:["N/A",(0,E.jsx)(n.A,{sx:{fontSize:"14px",color:"#aaa"}})]})}),ge>0?(0,E.jsxs)(m.A,{variant:"body2",fontWeight:600,color:te?"#666":"#aaa",sx:{fontSize:"11px",textAlign:"right"},children:["(",ge," review",1!==ge?"s":"",")"]}):(0,E.jsx)(m.A,{variant:"body2",fontWeight:600,color:te?"#888":"#aaa",sx:{fontSize:"11px",fontStyle:"italic"},children:"No reviews yet"})]}),(0,E.jsxs)(x.A,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mt:1.5,mb:{xs:2,md:1.5}},children:[Y.map((e,t)=>(0,E.jsx)(f.A,{label:e,icon:M.E_[e]||(0,E.jsx)(a.A,{}),size:"small",sx:{bgcolor:"rgba(75, 42, 173, 0.1)",fontSize:{xs:"10px",md:"11px"},color:te?"#4B2AAD":"#aaa",height:"24px",border:"1px solid rgba(75, 42, 173, 0.2)","& .MuiChip-icon":{fontSize:{xs:"12px",md:"14px"},color:te?"#4B2AAD":"#aaa",marginLeft:"4px",marginRight:"-4px"}}},t)),N>0&&(0,E.jsx)(f.A,{label:"+".concat(N," more"),size:"small",sx:{bgcolor:te?"rgba(0,0,0,0.05)":"#f5f5f5",fontSize:{xs:"10px",md:"11px"},color:te?"#666":"#aaa",height:"24px"}})]}),(0,E.jsxs)(x.A,{sx:{display:"flex",flexDirection:"column",gap:{xs:2,md:1},mt:"auto",pt:{xs:3,md:0},borderTop:{xs:"1px dashed #e0e0e0",md:"none"}},children:[S&&(0,E.jsx)(x.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:(0,E.jsxs)(x.A,{sx:{display:"flex",alignItems:"center",gap:"8px"},children:[pe>0?(0,E.jsxs)(x.A,{sx:{background:(0,R.t0)(pe),color:"#fff",px:1,py:.5,borderRadius:"6px",fontSize:"13px",fontWeight:700,display:"flex",alignItems:"center",gap:"4px",minWidth:"55px",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:[pe.toFixed(1),(0,E.jsx)(n.A,{sx:{fontSize:"13px"}})]}):(0,E.jsxs)(x.A,{sx:{background:"rgba(0,0,0,0.05)",color:"#888",px:1,py:.5,borderRadius:"6px",fontSize:"13px",fontWeight:700,display:"flex",alignItems:"center",gap:"4px",minWidth:"55px",justifyContent:"center",border:"1px dashed #ddd"},children:["N/A",(0,E.jsx)(n.A,{sx:{fontSize:"13px",color:"#aaa"}})]}),ge>0?(0,E.jsxs)(m.A,{variant:"body2",fontWeight:600,color:te?"#666":"#aaa",sx:{fontSize:"12px"},children:["(",ge," review",1!==ge?"s":"",")"]}):(0,E.jsx)(m.A,{variant:"body2",fontWeight:600,color:te?"#888":"#aaa",sx:{fontSize:"12px",fontStyle:"italic"},children:"No reviews yet"})]})}),"hourly"===_?(0,E.jsx)(x.A,{sx:{width:"100%"},children:me.length>0?(()=>{const e=me.find(e=>e.key===Q);if(!e)return(0,E.jsx)(m.A,{sx:{fontSize:"12px",color:"#888",textAlign:"center",py:2},children:"Not available for selected hours"});const t=Math.round(e.totalBase+e.totalPlatform),o=Math.round(e.totalGst);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(x.A,{sx:{display:"flex",gap:{xs:.5,sm:1},mb:2,justifyContent:{xs:"flex-start",sm:"flex-start"},flexWrap:"nowrap",overflowX:{xs:"auto",sm:"visible"},pb:{xs:1,sm:0},"&::-webkit-scrollbar":{height:"4px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#ccc",borderRadius:"2px"}},children:me.map(e=>{const t=e.key===Q;return(0,E.jsx)(x.A,{onClick:t=>{t.stopPropagation(),te&&(e=>{if(!te)return;const t=new URLSearchParams(j.toString());t.set("bookingHours",e),F("/search?".concat(t.toString()),{replace:!0})})(e.key)},sx:{flexShrink:0,textAlign:"center",py:{xs:.75,sm:1},px:{xs:.75,sm:1.5},borderRadius:"8px",cursor:te?"pointer":"not-allowed",fontSize:{xs:"11px",sm:"12px",md:"13px"},fontWeight:700,background:t?te?"#4B2AAD":"#aaa":"rgba(75, 42, 173, 0.1)",color:t?"#fff":te?"#4B2AAD":"#888",border:"1px solid ".concat(t?"#4B2AAD":"rgba(75, 42, 173, 0.3)"),transition:"all 0.2s ease",opacity:te?1:.6,minWidth:{xs:"70px",sm:"80px"},whiteSpace:"nowrap","&:hover":te?{transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(75, 42, 173, 0.3)"}:{}},children:e.label},e.key)})}),(0,E.jsxs)(x.A,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},gap:{xs:1.5,sm:2,md:3}},children:[(0,E.jsxs)(x.A,{sx:{flex:1},children:[(0,E.jsxs)(m.A,{sx:{fontSize:{xs:"12px",md:"13px"},color:te?"#666":"#888",mb:.5,fontWeight:500,display:"flex",alignItems:"center",gap:.5,flexWrap:"wrap"},children:[(0,E.jsxs)("span",{children:[J," room",J>1?"s":""]}),(0,E.jsx)("span",{children:"\u2022"}),(0,E.jsx)("span",{children:e.label})]}),(0,E.jsxs)(x.A,{sx:{display:"flex",alignItems:"baseline",gap:1,flexWrap:"wrap"},children:[(0,E.jsx)(m.A,{sx:{fontSize:{xs:"20px",sm:"22px",md:"24px"},fontWeight:800,color:te?W.A.firstColor:"#888",lineHeight:1},children:te?q(t):"---"}),te&&(0,E.jsxs)(m.A,{sx:{fontSize:{xs:"11px",md:"12px"},color:"#666",fontWeight:500},children:["+ ",q(o)," taxes & fees"]})]})]}),te?(0,E.jsx)(x.A,{onClick:e=>{e.stopPropagation(),ve()},sx:{background:"linear-gradient(135deg, #4B2AAD, #6C4BD3)",color:"#fff",px:{xs:0,sm:2.5,md:3},py:{xs:0,sm:1.25,md:1.5},borderRadius:"10px",textAlign:"center",minWidth:{xs:"40%",sm:"120px",md:"140px"},cursor:"pointer",transition:"all 0.3s ease",mt:{xs:1,sm:0},marginRight:{xs:3},display:"flex",alignItems:"center",justifyContent:"center",height:{xs:"44px",sm:"48px"},"&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(75, 42, 173, 0.4)"}},children:(0,E.jsx)(m.A,{sx:{fontSize:{xs:"14px",sm:"15px",md:"16px"},fontWeight:700,whiteSpace:"nowrap"},children:"Book Now"})}):(0,E.jsx)(x.A,{sx:{background:"#e0e0e0",color:"#888",px:{xs:0,sm:2.5,md:3},py:{xs:0,sm:1.25,md:1.5},borderRadius:"10px",textAlign:"center",minWidth:{xs:"40%",sm:"120px",md:"140px"},cursor:"not-allowed",mt:{xs:1,sm:0},marginRight:{xs:3},display:"flex",alignItems:"center",justifyContent:"center",height:{xs:"44px",sm:"48px"}},children:(0,E.jsx)(m.A,{sx:{fontSize:{xs:"14px",sm:"15px",md:"16px"},fontWeight:700,whiteSpace:"nowrap"},children:ee.status})})]})]})})():(0,E.jsx)(m.A,{sx:{fontSize:"12px",color:"#888",textAlign:"center",py:2,border:"1px dashed #ddd",borderRadius:"8px",background:"#f9f9f9"},children:"Not available for hourly stay"})}):(0,E.jsxs)(x.A,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},gap:{xs:1.5,sm:2,md:3},width:"100%"},children:[(0,E.jsxs)(x.A,{sx:{flex:1,minWidth:0},children:[te&&ue>0&&(0,E.jsx)(m.A,{sx:{fontSize:{xs:"12px",md:"14px"},color:te?"#999":"#aaa",textDecoration:"line-through",fontWeight:500,mb:.5},children:q(Math.round(ue))}),(0,E.jsxs)(x.A,{sx:{display:"flex",alignItems:"baseline",gap:1,flexWrap:"wrap"},children:[(0,E.jsx)(m.A,{sx:{fontSize:{xs:"22px",sm:"24px",md:"26px"},color:te?W.A.firstColor:"#888",fontWeight:800,lineHeight:1},children:te&&de+ce>0?"".concat(q(Math.round(de+ce))):"---"}),te&&he>0&&(0,E.jsxs)(m.A,{sx:{fontSize:{xs:"11px",md:"13px"},color:"#666",fontWeight:500},children:["+ ",q(Math.round(xe))," taxes & fees"]})]}),(0,E.jsxs)(m.A,{sx:{fontSize:{xs:"12px",md:"13px"},color:te?"#666":"#aaa",mt:1,fontWeight:500,display:"flex",alignItems:"center",gap:.5,flexWrap:"wrap"},children:[(0,E.jsxs)("span",{children:[J," room",J>1?"s":""]}),"hourly"!==_&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("span",{children:"\u2022"}),(0,E.jsxs)("span",{children:[$," night",$>1?"s":""]})]})]})]}),te?(0,E.jsx)(x.A,{onClick:e=>{e.stopPropagation(),ve()},sx:{background:"linear-gradient(135deg, #4B2AAD, #6C4BD3)",color:"#fff",px:{xs:0,sm:2.5,md:3},py:{xs:0,sm:1.25,md:1.5},borderRadius:"10px",textAlign:"center",minWidth:{xs:"40%",sm:"130px",md:"150px"},cursor:"pointer",transition:"all 0.3s ease",mt:{xs:1,sm:0},marginRight:{xs:3},display:"flex",alignItems:"center",justifyContent:"center",height:{xs:"44px",sm:"48px"},"&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(75, 42, 173, 0.4)"}},children:(0,E.jsx)(m.A,{sx:{fontSize:{xs:"14px",sm:"15px",md:"16px"},fontWeight:700,whiteSpace:"nowrap"},children:"Book Now"})}):(0,E.jsx)(x.A,{sx:{background:"#e0e0e0",color:"#888",px:{xs:0,sm:2.5,md:3},py:{xs:0,sm:1.25,md:1.5},borderRadius:"10px",textAlign:"center",minWidth:{xs:"40%",sm:"130px",md:"150px"},cursor:"not-allowed",mt:{xs:1,sm:0},marginRight:{xs:3},display:"flex",alignItems:"center",justifyContent:"center",height:{xs:"44px",sm:"48px"}},children:(0,E.jsx)(m.A,{sx:{fontSize:{xs:"14px",sm:"15px",md:"16px"},fontWeight:700,whiteSpace:"nowrap"},children:ee.status})})]})]})]})]});var Ae},$={background:"linear-gradient(135deg, #f3eee1, #e8e0cf)",width:"fit-content",borderRadius:"8px",p:1.5,m:-2,mx:-4,mb:2,fontWeight:700,color:W.A.firstColor,fontSize:{xs:"16px",md:"18px"},boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},ee=(0,z.Ay)(S.A)(e=>{let{theme:t}=e;return{borderRadius:"8px",textTransform:"none",fontSize:"13px",padding:"6px 12px",fontWeight:600,border:"1px solid rgba(75, 42, 173, 0.3)",transition:"all 0.2s ease","&.Mui-selected":{backgroundColor:W.A.secondColor,color:"white",borderColor:W.A.secondColor,boxShadow:"0 2px 8px rgba(75, 42, 173, 0.3)","&:hover":{backgroundColor:W.A.firstColor}},"&:hover":{backgroundColor:"rgba(75, 42, 173, 0.1)"}}}),te=(0,z.Ay)(k.A)({"& .MuiFormControlLabel-label":{fontSize:"14px",fontWeight:600,color:"#333"}}),oe=()=>{const e=(0,B.Zp)(),t=(0,B.zy)(),[o,a]=(0,F.useState)([]),[l,n]=(0,F.useState)([]),[d,c]=(0,F.useState)([]),[u,p]=(0,F.useState)(null),[g,f]=(0,F.useState)({}),[S,k]=(0,F.useState)(!0),[z,M]=(0,F.useState)(!1),[I,L]=(0,F.useState)(1),[U,G]=(0,F.useState)(1),[q,oe]=(0,F.useState)(!1),[re,ae]=(0,F.useState)(new Set),[le,ie]=(0,F.useState)([]),se=new URLSearchParams(t.search),ne=(0,C.A)(),de=(0,H.A)(ne.breakpoints.down("sm")),ce=(0,H.A)(ne.breakpoints.between("sm","md")),xe=((0,H.A)(ne.breakpoints.up("md")),(0,F.useRef)(!1)),he=(0,F.useRef)(null);(0,F.useEffect)(()=>{const e=Number(se.get("page"))||1;L(e)},[t.search]);const ue=async(e,t)=>{const o={};if(!e.rooms||0===e.rooms.length)return o;for(const a of e.rooms)try{const e=await Q(a.id,t);o[a.id]=e}catch(r){console.error("Error fetching inventory for room ".concat(a.id,":"),r),o[a.id]=[]}return o},pe=(e,t)=>e.map(e=>{const o=e.id,a=K(t,o),l=Z(a);return(0,r.A)((0,r.A)({},e),{},{ratings:{rating:l,count:a.length}})}),ge=async(e,t,o)=>{const r=e.slice(t,o).map(async e=>{try{const t={id:e,secondTable:"Room"},o=await(0,Y.YT)(t),r=(null===o||void 0===o?void 0:o.data)||null;return r&&Array.isArray(r.data)&&r.data.length?r.data[0]:null}catch(t){return console.error("Error fetching hotel ".concat(e,":"),t),null}});return(await Promise.all(r)).filter(e=>null!==e)};(0,F.useEffect)(()=>((async()=>{if(!xe.current){xe.current=!0;try{var e,t;if(k(!0),_.hotels.length>0&&Date.now()-_.lastFetched<_.TTL&&_.ratings)return console.log("Using cached data"),a(_.hotels),p(_.ratings),k(!1),void(xe.current=!1);const l={data:{filter:"",status:"Approved"},page:0,pageSize:1e3,order:[["createdAt","ASC"]]},i=await(0,Y.Vy)(l),s=(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.rows)||[];console.log("Total hotels from API:",s.length);const n=s.map(e=>e.id);ie(n);const d=(async()=>{try{var e;const t={data:{filter:""},page:0,pageSize:1e3,order:[["createdAt","ASC"]]},o=await(0,Y.Ge)(t);let r=null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.data;return null!==r&&void 0!==r&&r.data&&Array.isArray(r.data)?r.data:null!==r&&void 0!==r&&r.rows&&Array.isArray(r.rows)?r.rows:null!==r&&void 0!==r&&r.result&&Array.isArray(r.result)?r.result:Array.isArray(r)?r:[]}catch(t){return console.error("Error fetching ratings:",t),[]}})(),c=5*(I-1),x=c+5,h=n.slice(c,x);console.log("Fetching first batch: ".concat(h.length," hotels"));const[u,g]=await Promise.all([ge(h,0,h.length),d]);ae(new Set(h));const m=pe(u,g),v=se.get("checkinDate")||T()().format("YYYY-MM-DD"),A=m.map(async e=>{const t=await ue(e,v);return{hotelId:e.id,inventory:t}}),b=(await Promise.all(A)).reduce((e,t)=>{let{hotelId:o,inventory:r}=t;return e[o]=r,e},{});if(f(b),a(m),p(g),k(!1),_.ratings=g,_.hotels=[...m],_.lastFetched=Date.now(),n.length>h.length){oe(!0);const e=new Set(h),t=n.filter(t=>!e.has(t));console.log("Background loading: ".concat(t.length," hotels (excluding ").concat(h.length," already loaded)"));const l=Math.ceil(t.length/30);for(let i=0;i<l;i++){const e=30*i,s=e+30,n=t.slice(e,s);try{console.log("Fetching background batch ".concat(i+1,"/").concat(l,": ").concat(n.length," hotels"));const e=await ge(n,0,n.length);if(e.length>0){const t=pe(e,g),o=t.map(async e=>{const t=await ue(e,v);return{hotelId:e.id,inventory:t}}),l=(await Promise.all(o)).reduce((e,t)=>{let{hotelId:o,inventory:r}=t;return e[o]=r,e},{});f(e=>(0,r.A)((0,r.A)({},e),l)),a(e=>[...e,...t]),console.log("\u2705 Added ".concat(t.length," hotels. ")),_.hotels=[..._.hotels,...t],_.lastFetched=Date.now(),ae(e=>{const t=new Set(e);return n.forEach(e=>t.add(e)),t})}else console.log("\u26a0\ufe0f Batch ".concat(i+1," returned 0 hotels"));i<l-1&&await new Promise(e=>setTimeout(e,100))}catch(o){console.error("Error in batch ".concat(i+1,":"),o)}}oe(!1)}}catch(l){console.error("Error fetching hotels with rooms:",l),a([]),k(!1)}finally{xe.current=!1}}})(),()=>{he.current&&he.current.abort()}),[t.search]),(0,F.useEffect)(()=>{if(!S){const e=(()=>{const e=se.get("location")||"",t=se.get("bookingType"),a=(se.get("bookingHours"),se.get("sortBy")),l=Number(se.get("maxBudget"))||2e4,i=Number(se.get("minBudget"))||100,s=se.get("checkinDate")||T()().format("YYYY-MM-DD"),n="hourly"===t?1:Math.max(1,Number(se.get("nights"))||1),d=e=>{var o,r,a;const l=(null===(o=g[e.id])||void 0===o?void 0:o[null===(r=e.rooms)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.id])||[],i=V(e,l,s,t||"fullDay");return i?X(i).finalPrice*n:1/0};console.group("\ud83d\udd0d Hotel Stay Type Analysis");const c=o.filter(e=>{var t,o;return"Hourly"===(null===e||void 0===e||null===(t=e.rooms)||void 0===t||null===(o=t[0])||void 0===o?void 0:o.stayType)});console.log("Total hotels: ".concat(o.length)),console.log('Hotels with stayType="Hourly": '.concat(c.length)),console.log('Hotels with stayType="Overnight": '.concat(o.filter(e=>{var t,o;return"Overnight"===(null===e||void 0===e||null===(t=e.rooms)||void 0===t||null===(o=t[0])||void 0===o?void 0:o.stayType)}).length)),console.log("Hotels with no stayType: ".concat(o.filter(e=>{var t,o;return!(null!==e&&void 0!==e&&null!==(t=e.rooms)&&void 0!==t&&null!==(o=t[0])&&void 0!==o&&o.stayType)}).length)),c.forEach((e,t)=>{var o,r;console.log("".concat(t+1,". ").concat(e.propertyName,' - stayType: "').concat(null===e||void 0===e||null===(o=e.rooms)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.stayType,'"'))}),console.groupEnd();let x=o.filter(e=>{if("fullDay"===t){var o,r;const t="Overnight"===(null===e||void 0===e||null===(o=e.rooms)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.stayType);return"Hotel"===e.propertyType&&t}if("hourly"===t){var a,l;const t="Hourly"===(null===e||void 0===e||null===(a=e.rooms)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.stayType);var i,s;return console.log(t),t?"Unavailable"===((null===e||void 0===e?void 0:e.roomAvailable)||"Available")?(console.log("\u26a0\ufe0f Sold out but showing: ".concat(e.propertyName)),!0):(console.log("\u2705 Showing hourly hotel: ".concat(e.propertyName)),!0):(console.log("\u274c Filtered out: ".concat(e.propertyName,' - stayType: "').concat(null===e||void 0===e||null===(i=e.rooms)||void 0===i||null===(s=i[0])||void 0===s?void 0:s.stayType,'"')),!1)}return"villa"===t&&"Villa"===e.propertyType});console.log("\ud83d\udcca After stay type filter: ".concat(x.length," hotels")),x=x.filter(e=>{const t=d(e);if("Unavailable"===((null===e||void 0===e?void 0:e.roomAvailable)||"Available"))return!0;const o=t>=i&&t<=l&&t!==1/0;return o||console.log("\ud83d\udcb0 Filtered by budget: ".concat(e.propertyName," - price: ").concat(t)),o}),console.log("\ud83d\udcca After budget filter: ".concat(x.length," hotels")),x=x.map(t=>{let o=0,a=!1;if(""!==e.trim()){var l;const r=e.toLowerCase().trim(),i=(t.propertyName||t.address||t.city||"").toLowerCase();r.split(/[,\s]+/).map(e=>e.trim()).forEach(e=>{var r,l,s,n,d,c;i.includes(e)&&(o+=5,null!==(r=t.propertyName)&&void 0!==r&&r.toLowerCase().includes(e)&&(o+=20),null!==(l=t.address)&&void 0!==l&&l.toLowerCase().includes(e)&&(o+=15),i!==e&&(null===(s=t.propertyName)||void 0===s?void 0:s.toLowerCase())!==e&&(null===(n=t.address)||void 0===n?void 0:n.toLowerCase())!==e||(o+=30,a=!0),null!==(d=t.propertyName)&&void 0!==d&&d.toLowerCase().startsWith(e)&&(o+=25),null!==(c=t.address)&&void 0!==c&&c.toLowerCase().startsWith(e)&&(o+=20))}),i.includes(r)&&(o+=40),null!==(l=t.propertyName)&&void 0!==l&&l.toLowerCase().includes(r)&&(o+=35)}const i="Unavailable"!==((null===t||void 0===t?void 0:t.roomAvailable)||"Available");return(0,r.A)((0,r.A)({},t),{},{_relevanceScore:1+o,_isExactMatch:a,_hasLocationMatch:o>0,_isAvailable:i})}),x.sort((e,t)=>{if(e._isAvailable&&!t._isAvailable)return-1;if(t._isAvailable&&!e._isAvailable)return 1;if(e._isExactMatch&&!t._isExactMatch)return-1;if(t._isExactMatch&&!e._isExactMatch)return 1;if(e._hasLocationMatch&&!t._hasLocationMatch)return-1;if(t._hasLocationMatch&&!e._hasLocationMatch)return 1;const o=(t._relevanceScore||0)-(e._relevanceScore||0);return 0!==o?o:"rating"===a?(Number(null===t||void 0===t||null===(r=t.ratings)||void 0===r?void 0:r.rating)||0)-(Number(null===e||void 0===e||null===(l=e.ratings)||void 0===l?void 0:l.rating)||0):"lowToHigh"===a?d(e)-d(t):"highToLow"===a?d(t)-d(e):"popularity"===a?(Number(null===t||void 0===t?void 0:t.reviews)||0)-(Number(null===e||void 0===e?void 0:e.reviews)||0):d(e)-d(t);var r,l});const h=Math.max(1,Number(se.get("rooms"))||1),u=x.map(e=>{var o,a,l;const i=(null===(o=g[e.id])||void 0===o?void 0:o[null===(a=e.rooms)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.id])||[],n=V(e,i,s,t||"fullDay"),d=X(n),c=d.finalPrice,x="hourly"===t?1:Math.max(1,Number(se.get("nights"))||1),u=h*x;return(0,r.A)((0,r.A)({},e),{},{_pricing:{perRoomFinal:c,perRoomBase:d.basePrice,perRoomPlatform:d.platformFee,perRoomGstTotal:d.gstTotal,roomsCount:h,nights:x,totalFinal:+c*u,totalBase:+d.basePrice*u,totalPlatform:+d.platformFee*u,totalGst:+d.gstTotal*u}})});console.log("\ud83d\udcca Final result: ".concat(u.length," hourly hotels"));const p=u.filter(e=>e._isAvailable),m=u.filter(e=>!e._isAvailable);return console.log("\u2705 Available: ".concat(p.length)),console.log("\u274c Sold out: ".concat(m.length)),u.forEach((e,t)=>{var o,r;console.log("".concat(t+1,". ").concat(e.propertyName," - ").concat(e._isAvailable?"Available":"Sold Out",' - stayType: "').concat(null===e||void 0===e||null===(o=e.rooms)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.stayType,'"'))}),u})();n(e);const t=e.length;console.log("Total items for pagination: ".concat(t));const a=Math.ceil(t/5);G(a);const l=5*(I-1),i=l+5,s=e.slice(l,i);c(s)}},[S,o,t.search,I,g]);const me=(0,F.useCallback)((t,o)=>{L(o);const l=new URLSearchParams(se.toString());l.set("page",o.toString()),e({search:l.toString()},{replace:!0});const i=5*(o-1),s=i+5,n=le.slice(i,s).filter(e=>!re.has(e));n.length>0&&!q&&(async()=>{try{const e=await ge(n,0,n.length);if(e.length>0&&u){const t=pe(e,u),o=se.get("checkinDate")||T()().format("YYYY-MM-DD"),l=t.map(async e=>{const t=await ue(e,o);return{hotelId:e.id,inventory:t}}),i=(await Promise.all(l)).reduce((e,t)=>{let{hotelId:o,inventory:r}=t;return e[o]=r,e},{});f(e=>(0,r.A)((0,r.A)({},e),i)),a(e=>{const o=new Set(e.map(e=>e.id)),r=t.filter(e=>!o.has(e.id));return[...e,...r]}),ae(e=>{const t=new Set(e);return n.forEach(e=>t.add(e)),t}),_.hotels=[..._.hotels,...t],_.lastFetched=Date.now()}}catch(e){console.error("Error fetching missing hotels:",e)}})(),window.scrollTo({top:0,behavior:"smooth"})},[le,re,q,u,se,e]),fe=[Number(se.get("minBudget"))||100,Number(se.get("maxBudget"))||2e4],ve=se.get("bookingHours")||"3",Ae=se.get("sortBy")||"all",[be,ye]=(0,F.useState)(fe),[we,je]=(0,F.useState)(ve),[Se,ke]=(0,F.useState)(Ae),Ce=(o,r)=>{const a=new URLSearchParams(t.search);Array.isArray(r)?(a.set("minBudget",String(r[0])),a.set("maxBudget",String(r[1]))):a.set(o,String(r)),a.set("page","1"),L(1),e({search:a.toString()},{replace:!0})};(0,F.useEffect)(()=>{const o=new URLSearchParams(t.search);let r=!1;o.has("minBudget")||(o.set("minBudget",String(fe[0])),r=!0),o.has("maxBudget")||(o.set("maxBudget",String(fe[1])),r=!0),o.has("bookingHours")||(o.set("bookingHours",ve),r=!0),o.has("sortBy")||(o.set("sortBy",Ae),r=!0),o.has("page")||(o.set("page","1"),r=!0),r&&e({search:o.toString()},{replace:!0})},[]);const ze=(0,E.jsxs)(x.A,{sx:{position:"sticky",top:20},children:[(0,E.jsxs)(x.A,{sx:(0,r.A)((0,r.A)({},R.VX),{},{mt:3}),children:[(0,E.jsx)(m.A,{sx:(0,r.A)((0,r.A)({},$),{},{mb:5}),children:"Budget"}),(0,E.jsx)(v.Ay,{value:be,onChange:(e,t,o)=>{Array.isArray(t)&&(ye(t),Ce("minBudget",t[0]),Ce("maxBudget",t[1]))},step:100,min:100,max:2e4,sx:{color:W.A.secondColor,"& .MuiSlider-thumb":{backgroundColor:"white",border:"2px solid ".concat(W.A.secondColor),width:20,height:20},"& .MuiSlider-valueLabel":{backgroundColor:W.A.secondColor,color:"white",fontSize:"12px",borderRadius:"5px",padding:"2px 8px"},"& .MuiSlider-track":{height:6},"& .MuiSlider-rail":{height:6,opacity:.3}},valueLabelFormat:e=>"\u20b9".concat(e),valueLabelDisplay:"on"}),(0,E.jsxs)(x.A,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:[(0,E.jsxs)(m.A,{sx:{fontSize:"14px",fontWeight:600,color:W.A.firstColor},children:["\u20b9",be[0]]}),(0,E.jsxs)(m.A,{sx:{fontSize:"14px",fontWeight:600,color:W.A.firstColor},children:["\u20b9",be[1]]})]})]}),"hourly"===se.get("bookingType")&&(0,E.jsxs)(x.A,{sx:(0,r.A)({},R.VX),children:[(0,E.jsx)(m.A,{sx:(0,r.A)({},$),children:"Book For"}),(0,E.jsx)(x.A,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",gap:"8px",mt:1},children:["3","6","12"].map(e=>(0,E.jsxs)(ee,{value:e,selected:we===e,onClick:()=>{return je(t=e),void Ce("bookingHours",t);var t},sx:{flex:1,minWidth:{xs:"30%",sm:"auto"},py:1,fontSize:{xs:"11px",sm:"12px",md:"13px"},whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[e," Hours"]},e))})]}),(0,E.jsxs)(x.A,{sx:(0,r.A)({},R.VX),children:[(0,E.jsx)(m.A,{sx:(0,r.A)({},$),children:"Sort By"}),(0,E.jsxs)(A.A,{sx:{mt:0},value:Se,onChange:e=>{return t=e.target.value,ke(t),void Ce("sortBy",t);var t},children:[(0,E.jsx)(te,{value:"all",control:(0,E.jsx)(R.YY,{}),label:"All"}),(0,E.jsx)(te,{value:"lowToHigh",control:(0,E.jsx)(R.YY,{}),label:"Price Low To High"}),(0,E.jsx)(te,{value:"highToLow",control:(0,E.jsx)(R.YY,{}),label:"Price High To Low"}),(0,E.jsx)(te,{value:"popularity",control:(0,E.jsx)(R.YY,{}),label:"Popularity"}),(0,E.jsx)(te,{value:"rating",control:(0,E.jsx)(R.YY,{}),label:"Customer Rating"})]})]}),(0,E.jsx)(x.A,{sx:(0,r.A)((0,r.A)({},R.VX),{},{mt:3}),children:(0,E.jsx)(D.A,{variant:"contained",onClick:()=>{de&&M(!1);const t=new URLSearchParams(se.toString());t.set("page","1"),e({search:t.toString()},{replace:!0})},customStyles:{width:"100%",padding:"12px",fontSize:"16px",fontWeight:700,background:"linear-gradient(135deg, #4B2AAD, #6C4BD3)",boxShadow:"0 4px 12px rgba(75, 42, 173, 0.3)"},children:"Apply Filters"})}),q&&(0,E.jsx)(x.A,{sx:(0,r.A)((0,r.A)({},R.VX),{},{mt:2}),children:(0,E.jsx)(m.A,{sx:{fontSize:"12px",color:"#666",textAlign:"center"},children:"Loading more hotels in background..."})})]});return(0,E.jsxs)(x.A,{sx:{background:W.A.thirdColor,p:{xs:2,sm:3,md:4},minHeight:"100vh"},children:[(0,E.jsxs)(P.mg,{children:[(0,E.jsx)("title",{children:"Search Hotels in Bhubaneswar | Huts4u"}),(0,E.jsx)("meta",{name:"description",content:"Search and book hourly hotels in Bhubaneswar quickly. Find hotels near you for short stays, business trips, or leisure visits."}),(0,E.jsx)("link",{rel:"canonical",href:"https://www.huts4u.com/search"}),(0,E.jsx)("script",{type:"application/ld+json",children:'\n      {\n        "@context": "https://schema.org",\n        "@type": "WebPage",\n        "name": "Search Hotels",\n        "url": "https://www.huts4u.com/search"\n      }\n    '})]}),(0,E.jsx)(N.default,{}),(0,E.jsxs)(b.Ay,{container:!0,spacing:{xs:2,md:3},children:[de?(0,E.jsx)(y.Ay,{anchor:"left",open:z,onClose:()=>M(!1),sx:{"& .MuiDrawer-paper":{width:{xs:"100%",sm:"85%"},maxWidth:400,height:"100%",overflowY:"auto"}},children:(0,E.jsxs)(x.A,{sx:{p:{xs:2,sm:3},height:"100%",overflowY:"auto"},children:[(0,E.jsxs)(x.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,position:"sticky",top:0,zIndex:1,pb:2,borderBottom:"1px solid #eee"},children:[(0,E.jsx)(m.A,{variant:"h5",sx:{background:"linear-gradient(135deg, #f3eee1, #e8e0cf)",width:"fit-content",borderRadius:"8px",p:1.5,fontWeight:700,color:W.A.firstColor,fontSize:{xs:"16px",md:"18px"},boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:"Filter & Sort"}),(0,E.jsx)(i.A,{onClick:()=>M(!1),sx:{fontSize:28,color:W.A.firstColor,cursor:"pointer","&:hover":{opacity:.8}}})]}),ze]})}):(0,E.jsx)(b.Ay,{item:!0,xs:12,md:3,lg:2.5,children:ze}),(0,E.jsxs)(b.Ay,{item:!0,xs:12,md:9,lg:9.5,children:[(0,E.jsxs)(x.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},mb:3,flexWrap:"wrap",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[S?(0,E.jsx)(h.A,{width:200,height:32}):(0,E.jsxs)(x.A,{children:[(0,E.jsxs)(m.A,{variant:"h6",sx:{fontWeight:700,fontSize:{xs:"17px",sm:"18px",md:"20px"},color:W.A.firstColor,marginTop:"10px"},children:[l.length," properties found",q&&" (loading more...)"]}),U>1&&(0,E.jsxs)(m.A,{variant:"body2",sx:{color:"#666",fontSize:{xs:"13px",md:"14px"},mt:.5},children:["Page ",I," of ",U,q&&" \u2022 Background loading active"]})]}),de&&(0,E.jsx)(x.A,{sx:{display:"flex",gap:1,width:"100%"},children:(0,E.jsx)(D.A,{customStyles:{padding:"8px 16px",fontSize:"14px",borderRadius:"8px",flex:1},onClick:()=>M(!0),variant:"contained",startIcon:(0,E.jsx)(s.A,{}),children:"Filter & Sort"})})]}),S?[...Array(5)].map((e,t)=>(0,E.jsx)(O,{isMobile:de},t)):d.length>0?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(x.A,{sx:{mb:4},children:d.map(e=>{var t,o,r;const a=e.id,l=K(u,a),i=(null===(t=g[a])||void 0===t?void 0:t[null===(o=e.rooms)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.id])||[];return(0,E.jsx)(J,{hotel:e,queryParams:se,isMobile:de,hotelRatings:l,inventoryData:i},e.id)})}),U>1&&(0,E.jsxs)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:4,mb:2,flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0}},children:[(0,E.jsx)(w.A,{count:U,page:I,onChange:me,color:"primary",size:de||ce?"medium":"large",showFirstButton:!de,showLastButton:!de,siblingCount:de?1:2,boundaryCount:de?1:2,renderItem:e=>(0,E.jsx)(j.A,(0,r.A)((0,r.A)({},e),{},{sx:{"&.Mui-selected":{backgroundColor:W.A.firstColor,color:W.A.thirdColor,"&:hover":{backgroundColor:W.A.secondColor}},"&.MuiPaginationItem-root":{fontWeight:600,fontSize:{xs:"14px",md:"14px"},minWidth:{xs:"36px",sm:"40px",md:"48px"},height:{xs:"36px",sm:"40px",md:"48px"}}}}))}),!de&&(0,E.jsxs)(m.A,{variant:"body2",sx:{ml:2,color:"#666",fontSize:"14px",fontWeight:500,whiteSpace:"nowrap"},children:["Showing ",Math.min(5*(I-1)+1,l.length),"-",Math.min(5*I,l.length)," of ",l.length," properties"]})]})]}):(0,E.jsx)(x.A,{sx:{textAlign:"center",py:8,px:2},children:(0,E.jsxs)(x.A,{sx:{maxWidth:400,mx:"auto",p:4,borderRadius:"16px",background:"linear-gradient(135deg, #f8f9ff, #f0f2ff)",boxShadow:"0 4px 20px rgba(0,0,0,0.05)"},children:[(0,E.jsx)(m.A,{variant:"h5",sx:{fontWeight:700,color:W.A.firstColor,mb:2,fontSize:{xs:"20px",md:"22px"}},children:"No properties found"}),(0,E.jsx)(m.A,{variant:"body1",sx:{color:"#666",mb:3,fontSize:{xs:"14px",md:"16px"}},children:"Try adjusting your search criteria or filters"}),(0,E.jsx)(D.A,{variant:"contained",onClick:()=>e("/"),customStyles:{background:"linear-gradient(135deg, #4B2AAD, #6C4BD3)",borderRadius:"8px",fontSize:"15px",fontWeight:600},children:"Search Again"})]})})]})]})]})}}}]);
//# sourceMappingURL=537.1463e0bc.chunk.js.map