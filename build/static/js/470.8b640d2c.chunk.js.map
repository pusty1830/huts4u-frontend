{"version":3,"file":"static/js/470.8b640d2c.chunk.js","mappings":"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","sources":["pages/BookingDetails.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Divider,\r\n  Grid,\r\n  Typography,\r\n  CircularProgress,\r\n  Container,\r\n} from \"@mui/material\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport html2canvas from \"html2canvas\";\r\nimport jsPDF from \"jspdf\";\r\nimport color from \"../components/color\";\r\nimport { getAllMyBookings } from \"../services/services\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getUserName } from \"../services/axiosClient\";\r\n\r\n// small helpers\r\nconst safeNumber = (v: any): number => {\r\n  if (v === null || v === undefined || v === \"\") return 0;\r\n  const n = Number(v);\r\n  if (isNaN(n)) return 0;\r\n  return n;\r\n};\r\n\r\nconst normalizeAmountToRupees = (val: any) => {\r\n  const n = safeNumber(val);\r\n  if (Math.abs(n) > 1000) return n / 100;\r\n  return n;\r\n};\r\n\r\nconst round2 = (n: number) => Math.round(n * 100) / 100;\r\n\r\n// Calculate invoice breakdown based on the example image structure\r\nconst calculateInvoiceBreakdown = (finalAmount: number) => {\r\n  const discountPercentage = 0.05; // 5% discount\r\n  const serviceChargePercentage = 0.13; // 13% of Base Price WITH GST\r\n  const convenienceFeePercentage = 0.02; // 2% convenience fee\r\n\r\n  // Step 1: Calculate subtotal before discount\r\n  const subtotalBeforeDiscount = round2(finalAmount / (1 - discountPercentage));\r\n  const discountAmount = round2(subtotalBeforeDiscount * discountPercentage);\r\n\r\n  // Step 2: We need to find Base Price (x) that satisfies:\r\n  const basePriceExclGST = round2(subtotalBeforeDiscount / 1.23965);\r\n\r\n  // Now calculate all components\r\n  // Base Price with 5% GST\r\n  const baseCGST = round2(basePriceExclGST * 0.025);\r\n  const baseSGST = round2(basePriceExclGST * 0.025);\r\n  const baseTotal = round2(basePriceExclGST + baseCGST + baseSGST);\r\n\r\n  // Service Charges (13% of Base Total) with 18% GST\r\n  const serviceChargesExclGST = round2(baseTotal * serviceChargePercentage);\r\n  const serviceCGST = round2(serviceChargesExclGST * 0.09);\r\n  const serviceSGST = round2(serviceChargesExclGST * 0.09);\r\n  const serviceTotal = round2(serviceChargesExclGST + serviceCGST + serviceSGST);\r\n\r\n  // Convenience Fee (2% of core) with 18% GST\r\n  const coreTotal = baseTotal + serviceTotal;\r\n  const convenienceFeeExclGST = round2(coreTotal * convenienceFeePercentage);\r\n  const convenienceCGST = round2(convenienceFeeExclGST * 0.09);\r\n  const convenienceSGST = round2(convenienceFeeExclGST * 0.09);\r\n  const convenienceTotal = round2(convenienceFeeExclGST + convenienceCGST + convenienceSGST);\r\n\r\n  // Recalculate subtotal to ensure accuracy\r\n  const calculatedSubtotal = round2(baseTotal + serviceTotal + convenienceTotal);\r\n  const calculatedDiscount = round2(calculatedSubtotal * discountPercentage);\r\n  const calculatedFinal = round2(calculatedSubtotal - calculatedDiscount);\r\n\r\n  return {\r\n    basePrice: basePriceExclGST,\r\n    baseCGST: baseCGST,\r\n    baseSGST: baseSGST,\r\n    baseTotal: baseTotal,\r\n    serviceCharges: serviceChargesExclGST,\r\n    serviceCGST: serviceCGST,\r\n    serviceSGST: serviceSGST,\r\n    serviceTotal: serviceTotal,\r\n    convenienceFee: convenienceFeeExclGST,\r\n    convenienceCGST: convenienceCGST,\r\n    convenienceSGST: convenienceSGST,\r\n    convenienceTotal: convenienceTotal,\r\n    subtotalBeforeDiscount: calculatedSubtotal,\r\n    discountAmount: calculatedDiscount,\r\n    finalAmount: calculatedFinal,\r\n    totalCGST: round2(baseCGST + serviceCGST + convenienceCGST),\r\n    totalSGST: round2(baseSGST + serviceSGST + convenienceSGST),\r\n    totalGST: round2(baseCGST + baseSGST + serviceCGST + serviceSGST + convenienceCGST + convenienceSGST),\r\n    totalTaxable: round2(basePriceExclGST + serviceChargesExclGST + convenienceFeeExclGST),\r\n  };\r\n};\r\n\r\nconst numberToWords = (amount: number) => {\r\n  const single = [\r\n    \"\", \"One\", \"Two\", \"Three\", \"Four\", \"Five\", \"Six\", \"Seven\", \"Eight\", \"Nine\",\r\n    \"Ten\", \"Eleven\", \"Twelve\", \"Thirteen\", \"Fourteen\", \"Fifteen\", \"Sixteen\",\r\n    \"Seventeen\", \"Eighteen\", \"Nineteen\"\r\n  ];\r\n  const tens = [\r\n    \"\", \"\", \"Twenty\", \"Thirty\", \"Forty\", \"Fifty\", \"Sixty\", \"Seventy\",\r\n    \"Eighty\", \"Ninety\"\r\n  ];\r\n\r\n  const toWords = (n: number): string => {\r\n    let word = \"\";\r\n    if (n >= 10000000) {\r\n      word += toWords(Math.floor(n / 10000000)) + \" Crore \";\r\n      n = n % 10000000;\r\n    }\r\n    if (n >= 100000) {\r\n      word += toWords(Math.floor(n / 100000)) + \" Lakh \";\r\n      n = n % 100000;\r\n    }\r\n    if (n >= 1000) {\r\n      word += toWords(Math.floor(n / 1000)) + \" Thousand \";\r\n      n = n % 1000;\r\n    }\r\n    if (n >= 100) {\r\n      word += toWords(Math.floor(n / 100)) + \" Hundred \";\r\n      n = n % 100;\r\n    }\r\n    if (n > 0) {\r\n      if (n < 20) word += single[n] + \" \";\r\n      else {\r\n        word += tens[Math.floor(n / 10)] + \" \" + single[n % 10] + \" \";\r\n      }\r\n    }\r\n    return word.trim() + \" \";\r\n  };\r\n\r\n  const rupees = Math.floor(amount);\r\n  const paise = Math.round((amount - rupees) * 100);\r\n\r\n  let result = \"\";\r\n  if (rupees > 0) result += toWords(rupees) + \"Rupees\";\r\n  if (paise > 0) {\r\n    if (result) result += \" and \";\r\n    result += toWords(paise) + \"Paise\";\r\n  }\r\n  if (!result) result = \"Zero Rupees\";\r\n  result += \" Only\";\r\n  return result.replace(/\\s+/g, \" \").trim();\r\n};\r\n\r\n// Simple GST Info Section - Only shows essential user GST details\r\nconst UserGstInfoSection: React.FC<{\r\n  gstDetails: any;\r\n  invoiceNumber: string;\r\n  dated: string;\r\n  bookingId: string;\r\n}> = ({ gstDetails, invoiceNumber, dated, bookingId }) => {\r\n  const gstNumber = gstDetails.gstNumber || gstDetails.gstin || \"\";\r\n  const legalName = gstDetails.legalName || gstDetails.companyName || \"\";\r\n\r\n  if (!gstNumber || !legalName) return null;\r\n\r\n  return (\r\n    <Box sx={{\r\n      mb: 3,\r\n      p: 2,\r\n      backgroundColor: \"#f5f5f5\",\r\n      borderRadius: \"4px\",\r\n      fontSize: \"11px\"\r\n    }}>\r\n      <Grid container spacing={1}>\r\n        <Grid item xs={6} sm={3}>\r\n          <Typography sx={{ fontWeight: 700 }}>Booking ID</Typography>\r\n          <Typography>{bookingId || \"-\"}</Typography>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Typography sx={{ fontWeight: 700 }}>Invoice No.</Typography>\r\n          <Typography>{invoiceNumber}</Typography>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Typography sx={{ fontWeight: 700 }}>Date</Typography>\r\n          <Typography>{dated}</Typography>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Typography sx={{ fontWeight: 700 }}>Place of Supply</Typography>\r\n          <Typography>Odisha</Typography>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Typography sx={{ fontWeight: 700 }}>GSTIN</Typography>\r\n          <Typography>{gstNumber}</Typography>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Typography sx={{ fontWeight: 700 }}>Company Legal Name</Typography>\r\n          <Typography>{legalName}</Typography>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Typography sx={{ fontWeight: 700 }}>Company Address</Typography>\r\n          <Typography>{gstDetails.address || gstDetails.companyAddress || \"\"}</Typography>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst BookingDetails: React.FC = () => {\r\n  const { id } = useParams();\r\n  const location = useLocation();\r\n  const [booking, setBooking] = useState<any>(location.state || null);\r\n  const [loading, setLoading] = useState(false);\r\n  const invoiceRef = useRef<HTMLDivElement | null>(null);\r\n  const [generatingPdf, setGeneratingPdf] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const loadBookingIfNeeded = async () => {\r\n      if (booking) return;\r\n      if (!id) return;\r\n      setLoading(true);\r\n      try {\r\n        const Payload = {\r\n          data: { filter: \"\", bookingId: id },\r\n          page: 0,\r\n          pageSize: 1,\r\n          order: [[\"createdAt\", \"DESC\"]]\r\n        };\r\n        const res = await getAllMyBookings(Payload);\r\n        const row = res?.data?.data?.rows?.[0];\r\n        if (row) setBooking(row);\r\n        else toast.error(\"Booking not found\");\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch booking\", err);\r\n        toast.error(\"Failed to load booking details\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    loadBookingIfNeeded();\r\n  }, [id, booking]);\r\n\r\n  const UserName = getUserName();\r\n\r\n  const formatCurrency = (amount: number | string) => {\r\n    if (amount === null || amount === undefined) return \"₹0.00\";\r\n    const rupees = normalizeAmountToRupees(amount);\r\n    return rupees.toLocaleString(\"en-IN\", {\r\n      style: \"currency\",\r\n      currency: \"INR\",\r\n      minimumFractionDigits: 2\r\n    });\r\n  };\r\n\r\n  const downloadInvoice = async () => {\r\n    if (!invoiceRef.current) return;\r\n    setGeneratingPdf(true);\r\n    try {\r\n      const invoiceElement = invoiceRef.current;\r\n      const clone = invoiceElement.cloneNode(true) as HTMLElement;\r\n\r\n      clone.style.width = \"800px\";\r\n      clone.style.margin = \"0 auto\";\r\n      clone.style.padding = \"20px\";\r\n      clone.style.backgroundColor = \"white\";\r\n      clone.style.color = \"black\";\r\n      clone.style.fontFamily = \"'Arial', sans-serif\";\r\n\r\n      clone.style.position = \"fixed\";\r\n      clone.style.left = \"-9999px\";\r\n      clone.style.top = \"0\";\r\n      document.body.appendChild(clone);\r\n\r\n      const canvas = await html2canvas(clone, {\r\n        scale: 2,\r\n        useCORS: true,\r\n        backgroundColor: \"#ffffff\",\r\n        logging: false,\r\n        width: clone.scrollWidth,\r\n        height: clone.scrollHeight,\r\n        windowWidth: clone.scrollWidth,\r\n        windowHeight: clone.scrollHeight\r\n      });\r\n\r\n      document.body.removeChild(clone);\r\n\r\n      const imgData = canvas.toDataURL(\"image/png\", 1.0);\r\n      const pdf = new jsPDF({\r\n        orientation: \"portrait\",\r\n        unit: \"mm\",\r\n        format: \"a4\"\r\n      });\r\n\r\n      const pdfWidth = pdf.internal.pageSize.getWidth();\r\n      const pdfHeight = pdf.internal.pageSize.getHeight();\r\n\r\n      const imgWidth = canvas.width;\r\n      const imgHeight = canvas.height;\r\n\r\n      const ratio = Math.min(pdfWidth / imgWidth, pdfHeight / imgHeight);\r\n      const imgX = (pdfWidth - imgWidth * ratio) / 2;\r\n      const imgY = 5;\r\n\r\n      pdf.addImage(\r\n        imgData,\r\n        \"PNG\",\r\n        imgX,\r\n        imgY,\r\n        imgWidth * ratio,\r\n        imgHeight * ratio\r\n      );\r\n\r\n      pdf.save(`HUTS4U-Invoice-${booking?.id || id}.pdf`);\r\n      toast.success(\"Invoice downloaded successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Failed to generate PDF\", err);\r\n      toast.error(\"Failed to generate invoice PDF.\");\r\n    } finally {\r\n      setGeneratingPdf(false);\r\n    }\r\n  };\r\n\r\n  if (loading || !booking) {\r\n    return (\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", py: 6 }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  // Calculate invoice amounts\r\n  const finalAmount = round2(booking.amountPaid ?? booking.amount ?? 0);\r\n  const breakdown = calculateInvoiceBreakdown(finalAmount);\r\n\r\n  // Get GST details from booking object - handle both camelCase and PascalCase\r\n  const gstDetails = booking.gstDetail || booking.GstDetail || {};\r\n  const gstNumber = gstDetails.gstNumber || gstDetails.gstin || \"\";\r\n  const legalName = gstDetails.legalName || gstDetails.companyName || \"\";\r\n  const gstAddress = gstDetails.address || gstDetails.companyAddress || \"\";\r\n\r\n  // Check if we have GST details\r\n  const hasGstDetails = gstNumber && legalName;\r\n\r\n  const invoiceNumber = booking.invoiceNo || `HUTS-${booking.id}`;\r\n  const dated = booking.createdAt\r\n    ? new Date(booking.createdAt).toLocaleDateString(\"en-IN\")\r\n    : new Date().toLocaleDateString(\"en-IN\");\r\n  const amountInWords = booking.amountInWords || numberToWords(breakdown.finalAmount);\r\n  const logoUrl = \"https://huts44u.s3.ap-south-1.amazonaws.com/hutlogo-removebg-preview.png\";\r\n\r\n  // Company information (HUTS4U company info)\r\n  const companyInfo = {\r\n    name: \"HUTS4U\",\r\n    address: \"Ground Floor, Plot No. 370/10537, New Pokhran Village, Chandrasekharpur, Bhubaneswar, Odisha – 751016, India\",\r\n    gstin: \"21AASFH3550L1Z7\"\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      <Button\r\n        onClick={() => window.history.back()}\r\n        sx={{ mb: 3, textTransform: \"none\" }}\r\n      >\r\n        ← Back to Bookings\r\n      </Button>\r\n\r\n      <Grid container spacing={3}>\r\n        {/* Booking Summary Card */}\r\n        <Grid item xs={12} md={8}>\r\n          <Card sx={{ p: 3, borderRadius: 2, boxShadow: 2 }}>\r\n            <CardContent>\r\n              <Typography variant=\"h5\" sx={{ fontWeight: 700, mb: 2, color: color.firstColor }}>\r\n                Booking Details\r\n              </Typography>\r\n\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <Typography sx={{ mb: 1 }}>\r\n                    <strong>Property:</strong> {booking.hotelName || booking.propertyName || \"-\"}\r\n                  </Typography>\r\n                  <Typography sx={{ mb: 1 }}>\r\n                    <strong>Guest:</strong> {UserName}\r\n                  </Typography>\r\n                  <Typography sx={{ mb: 1 }}>\r\n                    <strong>Booking ID:</strong> {booking.id}\r\n                  </Typography>\r\n                  {hasGstDetails && (\r\n                    <>\r\n                      <Typography sx={{ mb: 1 }}>\r\n                        <strong>Company Name:</strong> {legalName}\r\n                      </Typography>\r\n                      <Typography sx={{ mb: 1 }}>\r\n                        <strong>GSTIN:</strong> {gstNumber}\r\n                      </Typography>\r\n                    </>\r\n                  )}\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <Typography sx={{ mb: 1 }}>\r\n                    <strong>Check-in:</strong> {booking.checkInDate ?? \"-\"} {booking.checkInTime ?? \"\"}\r\n                  </Typography>\r\n                  <Typography sx={{ mb: 1 }}>\r\n                    <strong>Check-out:</strong> {booking.checkOutDate ?? \"-\"} {booking.checkOutTime ?? \"\"}\r\n                  </Typography>\r\n                  <Typography sx={{ mb: 1 }}>\r\n                    <strong>Status:</strong> {booking.status || \"Confirmed\"}\r\n                  </Typography>\r\n                  {hasGstDetails && gstAddress && (\r\n                    <Typography sx={{ mb: 1 }}>\r\n                      <strong>Company Address:</strong> {gstAddress.substring(0, 50)}...\r\n                    </Typography>\r\n                  )}\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <Divider sx={{ my: 3 }} />\r\n\r\n              <Box sx={{ textAlign: \"center\", py: 2 }}>\r\n                <Typography variant=\"h6\" sx={{ mb: 1 }}>\r\n                  Total Amount Paid\r\n                </Typography>\r\n                <Typography variant=\"h4\" sx={{ fontWeight: 700, color: color.firstColor }}>\r\n                  {formatCurrency(finalAmount)}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n                  {hasGstDetails ? \"GST Invoice\" : \"Regular Invoice\"}\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Divider sx={{ my: 3 }} />\r\n\r\n              <Box sx={{ display: \"flex\", gap: 2, flexWrap: \"wrap\" }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  onClick={downloadInvoice}\r\n                  disabled={generatingPdf}\r\n                  sx={{\r\n                    background: color.firstColor,\r\n                    textTransform: \"none\",\r\n                    px: 3,\r\n                    py: 1,\r\n                    \"&:hover\": {\r\n                      background: color.firstColor,\r\n                      opacity: 0.9\r\n                    }\r\n                  }}\r\n                >\r\n                  {generatingPdf ? \"Generating PDF...\" : \"Download Invoice (PDF)\"}\r\n                </Button>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  onClick={() => window.print()}\r\n                  sx={{ textTransform: \"none\" }}\r\n                >\r\n                  Print\r\n                </Button>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Invoice Summary Card */}\r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ p: 3, borderRadius: 2, boxShadow: 2, height: \"90%\" }}>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 700 }}>\r\n                Invoice Summary\r\n              </Typography>\r\n              <Divider sx={{ mb: 2 }} />\r\n\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                  Invoice Number\r\n                </Typography>\r\n                <Typography variant=\"body1\" sx={{ fontWeight: 600 }}>\r\n                  {invoiceNumber}\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                  Invoice Date\r\n                </Typography>\r\n                <Typography variant=\"body1\">\r\n                  {dated}\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                  Guest Name\r\n                </Typography>\r\n                <Typography variant=\"body1\" sx={{ fontWeight: 600 }}>\r\n                  {UserName}\r\n                </Typography>\r\n              </Box>\r\n\r\n              {hasGstDetails && (\r\n                <>\r\n                  <Divider sx={{ my: 2 }} />\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\" sx={{ mb: 1 }}>\r\n                    GST Details\r\n                  </Typography>\r\n                  <Box sx={{ mb: 2 }}>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      Company Name\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\r\n                      {legalName}\r\n                    </Typography>\r\n                  </Box>\r\n\r\n                  <Box sx={{ mb: 2 }}>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      GSTIN\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      {gstNumber}\r\n                    </Typography>\r\n                  </Box>\r\n                </>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Invoice Preview for PDF */}\r\n        <Grid item xs={12}>\r\n          <Box\r\n            ref={invoiceRef}\r\n            sx={{\r\n              background: \"#fff\",\r\n              p: { xs: 2, md: 4 },\r\n              color: \"#000\",\r\n              border: \"1px solid #e0e0e0\",\r\n              borderRadius: 1,\r\n              maxWidth: \"800px\",\r\n              margin: \"0 auto\",\r\n              '@media print': {\r\n                border: 'none',\r\n                padding: 0\r\n              }\r\n            }}\r\n          >\r\n            {/* Header */}\r\n            <Box sx={{ display: \"flex\", justifyContent: \"space-between\", mb: 3 }}>\r\n              <Box sx={{ flex: 1 }}>\r\n                <img\r\n                  src={logoUrl}\r\n                  alt=\"HUTS4U logo\"\r\n                  crossOrigin=\"anonymous\"\r\n                  style={{\r\n                    maxHeight: \"60px\",\r\n                    objectFit: \"contain\",\r\n                    marginBottom: \"8px\"\r\n                  }}\r\n                />\r\n                <Typography variant=\"h6\" sx={{ fontWeight: 800, fontSize: \"16px\" }}>\r\n                  {companyInfo.name}\r\n                </Typography>\r\n                <Typography sx={{ fontSize: \"11px\", lineHeight: 1.2, maxWidth: \"200px\" }}>\r\n                  {companyInfo.address}\r\n                </Typography>\r\n                <Typography sx={{ fontSize: \"11px\", mt: 1 }}>\r\n                  GSTIN/UIN: {companyInfo.gstin}\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Box sx={{ textAlign: \"right\", flex: 1 }}>\r\n                <Typography sx={{ fontWeight: 700, fontSize: \"14px\" }}>\r\n                  {hasGstDetails ? \"TAX INVOICE\" : \"INVOICE\"}\r\n                </Typography>\r\n                <Typography sx={{ fontSize: \"12px\", mt: 1 }}>\r\n                  <strong>Invoice No:</strong> {invoiceNumber}\r\n                </Typography>\r\n                <Typography sx={{ fontSize: \"12px\" }}>\r\n                  <strong>Date:</strong> {dated}\r\n                </Typography>\r\n                <Typography sx={{ fontSize: \"12px\", mt: 2 }}>\r\n                  <strong>Booking ID:</strong> {booking.id}\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n\r\n            <Divider sx={{ my: 2, borderWidth: 1 }} />\r\n\r\n            {/* User GST Information Section - Only show basic user GST details */}\r\n            {hasGstDetails && (\r\n              <>\r\n                <UserGstInfoSection\r\n                  gstDetails={gstDetails}\r\n                  invoiceNumber={invoiceNumber}\r\n                  dated={dated}\r\n                  bookingId={booking.id}\r\n                />\r\n                <Divider sx={{ my: 2 }} />\r\n              </>\r\n            )}\r\n\r\n            {/* Bill To Section */}\r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography sx={{ fontSize: \"12px\", fontWeight: 700, mb: 1 }}>\r\n                Bill To:\r\n              </Typography>\r\n              <Typography sx={{ fontSize: \"12px\", mb: 1 }}>\r\n                {UserName}\r\n              </Typography>\r\n              {hasGstDetails && (\r\n                <>\r\n                  <Typography sx={{ fontSize: \"12px\", mb: 1 }}>\r\n                    <strong>GSTIN/UIN:</strong> {gstNumber}\r\n                  </Typography>\r\n                  <Typography sx={{ fontSize: \"12px\", mb: 1 }}>\r\n                    <strong>Company:</strong> {legalName}\r\n                  </Typography>\r\n                  {gstAddress && (\r\n                    <Typography sx={{ fontSize: \"12px\", mb: 1 }}>\r\n                      <strong>Address:</strong> {gstAddress}\r\n                    </Typography>\r\n                  )}\r\n                </>\r\n              )}\r\n              <Typography sx={{ fontSize: \"12px\" }}>\r\n                <strong>Property:</strong> {booking.hotelName || booking.propertyName || \"-\"}\r\n              </Typography>\r\n              <Typography sx={{ fontSize: \"12px\" }}>\r\n                <strong>Check-in:</strong> {booking.checkInDate ?? \"-\"} {booking.checkInTime ?? \"\"}\r\n              </Typography>\r\n              <Typography sx={{ fontSize: \"12px\" }}>\r\n                <strong>Check-out:</strong> {booking.checkOutDate ?? \"-\"} {booking.checkOutTime ?? \"\"}\r\n              </Typography>\r\n            </Box>\r\n\r\n            {/* Price Breakdown Table */}\r\n            <Box sx={{ mb: 3 }}>\r\n              <table style={{\r\n                width: \"100%\",\r\n                borderCollapse: \"collapse\",\r\n                fontSize: \"12px\"\r\n              }}>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: \"#f5f5f5\" }}>\r\n                    <th style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"left\" }}>#</th>\r\n                    <th style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"left\" }}>Description</th>\r\n                    <th style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\" }}>Amount (₹)</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {/* Base Price */}\r\n                  <tr>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}>1</td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}>\r\n                      Base Price\r\n                    </td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\" }}>\r\n                      {formatCurrency(breakdown.baseTotal)}\r\n                    </td>\r\n                  </tr>\r\n\r\n                  {/* Service Charges */}\r\n                  <tr>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}>2</td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}>\r\n                      Service Charges (HSN 99611)\r\n                    </td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\" }}>\r\n                      {formatCurrency(breakdown.serviceCharges)}\r\n                    </td>\r\n                  </tr>\r\n\r\n                  {/* CGST on Service */}\r\n                  <tr>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}></td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", paddingLeft: \"32px\" }}>\r\n                      CGST @ 9% on Service\r\n                    </td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\" }}>\r\n                      {formatCurrency(breakdown.serviceCGST)}\r\n                    </td>\r\n                  </tr>\r\n\r\n                  {/* SGST on Service */}\r\n                  <tr>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}></td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", paddingLeft: \"32px\" }}>\r\n                      SGST @ 9% on Service\r\n                    </td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\" }}>\r\n                      {formatCurrency(breakdown.serviceSGST)}\r\n                    </td>\r\n                  </tr>\r\n\r\n                  {/* Convenience Fees */}\r\n                  <tr>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}>3</td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\" }}>\r\n                      Convenience Fees (Incl. GST)\r\n                    </td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\" }}>\r\n                      {formatCurrency(breakdown.convenienceTotal)}\r\n                    </td>\r\n                  </tr>\r\n\r\n                  {/* Subtotal */}\r\n                  <tr>\r\n                    <td colSpan={2} style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\", fontWeight: 700 }}>\r\n                      Subtotal before discount:\r\n                    </td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\", fontWeight: 700 }}>\r\n                      {formatCurrency(breakdown.subtotalBeforeDiscount)}\r\n                    </td>\r\n                  </tr>\r\n\r\n                  {/* Discount */}\r\n                  <tr>\r\n                    <td colSpan={2} style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\", fontWeight: 700, color: \"green\" }}>\r\n                      Huts4u Discount:\r\n                    </td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"8px\", textAlign: \"right\", fontWeight: 700, color: \"green\" }}>\r\n                      -{formatCurrency(breakdown.discountAmount)}\r\n                    </td>\r\n                  </tr>\r\n\r\n                  {/* Grand Total */}\r\n                  <tr style={{ backgroundColor: \"#f0f8ff\" }}>\r\n                    <td colSpan={2} style={{ border: \"1px solid #ddd\", padding: \"10px\", textAlign: \"right\", fontWeight: 800 }}>\r\n                      GRAND TOTAL:\r\n                    </td>\r\n                    <td style={{ border: \"1px solid #ddd\", padding: \"10px\", textAlign: \"right\", fontWeight: 800, fontSize: \"14px\" }}>\r\n                      {formatCurrency(finalAmount)}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </Box>\r\n\r\n            {/* GST Summary - Show in BOTH GST and non-GST invoices (This is HUTS4U's GST) */}\r\n            <Box sx={{ mb: 3, overflowX: 'auto' }}>\r\n              <Typography sx={{ fontSize: \"12px\", fontWeight: 700, mb: 1 }}>\r\n                GST Summary:\r\n              </Typography>\r\n              <Box sx={{\r\n                minWidth: '650px',\r\n                '@media (max-width: 600px)': {\r\n                  minWidth: '650px'\r\n                }\r\n              }}>\r\n                <table style={{\r\n                  width: \"100%\",\r\n                  borderCollapse: \"collapse\",\r\n                  fontSize: \"11px\"\r\n                }}>\r\n                  <thead>\r\n                    <tr style={{ backgroundColor: \"#f5f5f5\" }}>\r\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", whiteSpace: 'nowrap' }}>HSN/SAC</th>\r\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>Taxable Value</th>\r\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>CGST Rate</th>\r\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>CGST Amt</th>\r\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>SGST Rate</th>\r\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>SGST Amt</th>\r\n                      <th style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>Total Tax</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", whiteSpace: 'nowrap' }}>99611</td>\r\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>\r\n                        {formatCurrency(breakdown.serviceCharges)}\r\n                      </td>\r\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>\r\n                        9%\r\n                      </td>\r\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>\r\n                        {formatCurrency(breakdown.serviceCGST)}\r\n                      </td>\r\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>\r\n                        9%\r\n                      </td>\r\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>\r\n                        {formatCurrency(breakdown.serviceSGST)}\r\n                      </td>\r\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", whiteSpace: 'nowrap' }}>\r\n                        {formatCurrency(breakdown.serviceCGST + breakdown.serviceSGST)}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr style={{ backgroundColor: \"#f0f8ff\" }}>\r\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", fontWeight: 700, whiteSpace: 'nowrap' }}>Total</td>\r\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", fontWeight: 700, whiteSpace: 'nowrap' }}>\r\n                        {formatCurrency(breakdown.serviceCharges)}\r\n                      </td>\r\n                      <td></td>\r\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", fontWeight: 700, whiteSpace: 'nowrap' }}>\r\n                        {formatCurrency(breakdown.serviceCGST)}\r\n                      </td>\r\n                      <td></td>\r\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", fontWeight: 700, whiteSpace: 'nowrap' }}>\r\n                        {formatCurrency(breakdown.serviceSGST)}\r\n                      </td>\r\n                      <td style={{ border: \"1px solid #ddd\", padding: \"6px\", textAlign: \"right\", fontWeight: 700, whiteSpace: 'nowrap' }}>\r\n                        {formatCurrency(breakdown.serviceCGST + breakdown.serviceSGST)}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </Box>\r\n            </Box>\r\n\r\n            {/* Amount in Words */}\r\n            <Box sx={{ mb: 3, p: 2, backgroundColor: \"#f9f9f9\", borderRadius: \"4px\" }}>\r\n              <Typography sx={{ fontSize: \"11px\", fontWeight: 700, mb: 1 }}>\r\n                Amount Chargeable (in words):\r\n              </Typography>\r\n              <Typography sx={{ fontSize: \"12px\", fontStyle: \"italic\" }}>\r\n                {amountInWords}\r\n              </Typography>\r\n            </Box>\r\n\r\n            {/* Footer */}\r\n            <Box sx={{ mt: 4, pt: 2, borderTop: \"1px solid #ddd\" }}>\r\n              <Typography sx={{ fontSize: \"10px\", mb: 1 }}>\r\n                Declaration: We declare that this invoice shows the actual price of the goods described\r\n                and that all particulars are true and correct.\r\n              </Typography>\r\n              <Typography sx={{ fontSize: \"10px\", mb: 3 }}>\r\n                E. & O.E.\r\n              </Typography>\r\n\r\n              <Box sx={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-end\" }}>\r\n                <Box>\r\n                  <Typography sx={{ fontSize: \"10px\", color: \"#666\" }}>\r\n                    For {companyInfo.name}\r\n                  </Typography>\r\n                  <Typography sx={{ fontSize: \"10px\", color: \"#666\", mt: 2 }}>\r\n                    This is a Computer Generated Invoice\r\n                  </Typography>\r\n                </Box>\r\n                <Box sx={{ textAlign: \"center\" }}>\r\n                  <Typography sx={{ fontSize: \"11px\", fontWeight: 700, mb: 1 }}>\r\n                    Authorised Signatory\r\n                  </Typography>\r\n                  <Box sx={{ height: \"40px\", width: \"120px\", borderBottom: \"1px solid #000\" }}></Box>\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n\r\n          <Box sx={{ mt: 3, textAlign: \"center\" }}>\r\n            <Typography variant=\"caption\" color=\"text.secondary\">\r\n              {hasGstDetails\r\n                ? \"GST Invoice Preview - Shows how the GST invoice will appear in the PDF\"\r\n                : \"Regular Invoice Preview - Shows how the invoice will appear in the PDF\"}\r\n            </Typography>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default BookingDetails;"],"names":["normalizeAmountToRupees","val","n","v","undefined","Number","isNaN","safeNumber","Math","abs","round2","round","UserGstInfoSection","_ref","gstDetails","invoiceNumber","dated","bookingId","gstNumber","gstin","legalName","companyName","_jsx","Box","sx","mb","p","backgroundColor","borderRadius","fontSize","children","_jsxs","Grid","container","spacing","item","xs","sm","Typography","fontWeight","address","companyAddress","BookingDetails","_ref2","_booking$amountPaid","_booking$checkInDate","_booking$checkInTime","_booking$checkOutDate","_booking$checkOutTime","_booking$checkInDate2","_booking$checkInTime2","_booking$checkOutDate2","_booking$checkOutTime2","id","useParams","location","useLocation","booking","setBooking","useState","state","loading","setLoading","invoiceRef","useRef","generatingPdf","setGeneratingPdf","useEffect","async","_res$data","_res$data$data","_res$data$data$rows","Payload","data","filter","page","pageSize","order","res","getAllMyBookings","row","rows","toast","error","err","console","loadBookingIfNeeded","UserName","getUserName","formatCurrency","amount","toLocaleString","style","currency","minimumFractionDigits","display","justifyContent","py","CircularProgress","finalAmount","amountPaid","breakdown","discountPercentage","subtotalBeforeDiscount","basePriceExclGST","baseCGST","baseSGST","baseTotal","serviceChargesExclGST","serviceCGST","serviceSGST","serviceTotal","convenienceFeeExclGST","convenienceCGST","convenienceSGST","convenienceTotal","calculatedSubtotal","calculatedDiscount","basePrice","serviceCharges","convenienceFee","discountAmount","totalCGST","totalSGST","totalGST","totalTaxable","calculateInvoiceBreakdown","gstDetail","GstDetail","gstAddress","hasGstDetails","invoiceNo","concat","createdAt","Date","toLocaleDateString","amountInWords","single","tens","toWords","word","floor","trim","rupees","paise","result","replace","numberToWords","companyInfo","Container","maxWidth","Button","onClick","window","history","back","textTransform","md","Card","boxShadow","CardContent","variant","color","firstColor","hotelName","propertyName","_Fragment","checkInDate","checkInTime","checkOutDate","checkOutTime","status","substring","Divider","my","textAlign","mt","gap","flexWrap","current","clone","cloneNode","width","margin","padding","fontFamily","position","left","top","document","body","appendChild","canvas","html2canvas","scale","useCORS","logging","scrollWidth","height","scrollHeight","windowWidth","windowHeight","removeChild","imgData","toDataURL","pdf","jsPDF","orientation","unit","format","pdfWidth","internal","getWidth","pdfHeight","getHeight","imgWidth","imgHeight","ratio","min","imgX","imgY","addImage","save","success","disabled","background","px","opacity","print","ref","border","flex","src","alt","crossOrigin","maxHeight","objectFit","marginBottom","lineHeight","borderWidth","borderCollapse","paddingLeft","colSpan","overflowX","minWidth","whiteSpace","fontStyle","pt","borderTop","alignItems","borderBottom"],"ignoreList":[],"sourceRoot":""}